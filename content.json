{"meta":{"title":"Calvinçš„åšå®¢","subtitle":"åšå®¢","description":"Welcome to the darkside of me","author":"John Doe","url":"http://47.118.73.148","root":"/"},"pages":[{"title":"","date":"2022-04-05T10:48:02.700Z","updated":"2022-04-05T10:48:02.689Z","comments":false,"path":"about/index.html","permalink":"http://47.118.73.148/about/index.html","excerpt":"","text":"About Me Calvin å…³äºæˆ‘ - CQU - Computer Science - Undergraduate Student CV-Learner ğŸ“·çˆ±å¥½è€… ä¼šä¸€ç‚¹ArcGIS, QGIS æŠ€æœ¯æ ˆï¼šPython, Java, C++, HTML, CSS, Javascript, Vue å…³äºåšå®¢ åˆ†äº«ç¼–ç¨‹æŠ€æœ¯ï¼Œåˆ†äº«ç”Ÿæ´»ï¼Œåˆ†äº«çŸ¥è¯†ã€‚ æ¡†æ¶-hexo ä¸»é¢˜-volantis éƒ¨ç½²åœ¨é˜¿é‡Œäº‘ å°ç«™å·²ç»å¼€é€šäº†è¯„è®º å¡«å†™åç§°ã€é‚®ç®±å³å¯è¯„è®º è”ç³»æˆ‘ QQï¼š1969347522 é‚®ç®±ï¼š&#x72;&#x71;&#120;&#x31;&#x32;&#49;&#x33;&#x38;&#64;&#49;&#x36;&#51;&#x2e;&#99;&#111;&#x6d; å¼€å§‹äº21-06-07å¯¹æœ¬ç«™ä¿ç•™ä¸€åˆ‡æƒåˆ© =_=å·¥ä½œé‚®ç®±: &#x72;&#113;&#x78;&#49;&#x32;&#x31;&#x33;&#x38;&#x40;&#x31;&#54;&#51;&#x2e;&#99;&#x6f;&#109;"},{"title":"æ‰€æœ‰åˆ†ç±»","date":"2021-12-04T14:22:37.682Z","updated":"2021-06-07T16:44:36.693Z","comments":true,"path":"categories/index.html","permalink":"http://47.118.73.148/categories/index.html","excerpt":"","text":""},{"title":"æ‰€æœ‰æ ‡ç­¾","date":"2021-06-07T16:45:38.805Z","updated":"2021-06-07T16:45:38.796Z","comments":true,"path":"tags/index.html","permalink":"http://47.118.73.148/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"MNISTæ•°æ®é›†æ‰‹å†™æ•°å­—è¯†åˆ«","slug":"mnistæ•°æ®é›†æ‰‹å†™æ•°å­—è¯†åˆ«","date":"2022-05-09T02:55:41.000Z","updated":"2022-05-09T03:40:12.192Z","comments":true,"path":"2022/05/09/mnistæ•°æ®é›†æ‰‹å†™æ•°å­—è¯†åˆ«/","link":"","permalink":"http://47.118.73.148/2022/05/09/mnist%E6%95%B0%E6%8D%AE%E9%9B%86%E6%89%8B%E5%86%99%E6%95%B0%E5%AD%97%E8%AF%86%E5%88%AB/","excerpt":"","text":"MNISTæ•°æ®é›†æ‰‹å†™æ•°å­—è¯†åˆ«1. ç¥ç»ç½‘ç»œæ¶æ„â€‹ å¯¹äºè¯†åˆ«åˆ†ç±»MNISTæ•°æ®é›†ä¸­æ‰‹å†™æ•°å­—çš„é—®é¢˜ï¼Œç”±äºè¯†åˆ«åˆ†ç±»ä»»åŠ¡ç›¸å¯¹ç®€å•ï¼Œæˆ‘æ²¡æœ‰é‡‡ç”¨CNNç½‘ç»œï¼Œè€Œæ˜¯è®¾è®¡äº†ç”±ä¸‰å±‚å…¨è¿æ¥å±‚æ„æˆçš„ç¥ç»ç½‘ç»œã€‚ â€‹ æ­¤æ¨¡å‹ç”±ä¸‰å±‚å…¨è¿æ¥ç½‘ç»œç»„æˆï¼Œè¾“å…¥å±‚çš„å¤§å°ä¸º784ï¼Œå³è¾“å…¥å›¾ç‰‡å¤§å°ï¼ˆ28 * 28ï¼‰ï¼Œç¬¬ä¸€å±‚éšè—å±‚ç½‘ç»œç»“ç‚¹ä¸º100ï¼Œç¬¬äºŒå±‚ä¸º100ï¼Œç¬¬ä¸‰å±‚ä¸ºè¾“å‡ºå±‚ï¼Œç”±äºæœ‰10ä¸ªä¸åŒç»“æœï¼Œé‡‡ç”¨Softmaxï¼Œæœ‰10ä¸ªèŠ‚ç‚¹ï¼Œè¿™äº›å‚æ•°éƒ½å¯ä»¥åœ¨ä»£ç ä¸­åŸºäºè®­ç»ƒç»“æœè¿›è¡Œè°ƒæ•´ã€‚ä¸Šå›¾å±•ç¤ºäº†å¤§è‡´çš„ç½‘ç»œæ¶æ„ï¼Œä½†ç”±äºå›¾ç‰‡å¤§å°æœ‰é™ï¼Œå…·ä½“èŠ‚ç‚¹æ•°é‡ä¸å›¾ç‰‡ä¸­çš„æ•°é‡ä¸åŒã€‚ 2. MNISTæ•°æ®è¯»å–MNISTæ•°æ®é›†å¯ä»¥åœ¨å…¶å®˜ç½‘ä¸‹è½½ï¼Œæœ¬æ–‡ä¸­é‡‡ç”¨Tensorflowä¸­data_load()å‡½æ•°ç›´æ¥è¯»å–MNISTæ•°æ®é›† 3. ä»£ç éƒ¨åˆ†éƒ¨åˆ†æ³¨é‡Šç”±copilotè¾…åŠ©ç”Ÿæˆï¼Œå¯èƒ½å­˜åœ¨é—®é¢˜ import randomimport numpy as npimport timeimport matplotlib.pyplot as pltimport h5py# 1. MNISTæ•°æ®é›†è¯»å–åŠé¢„å¤„ç†ï¼ˆå€ŸåŠ©Tensorflowä¸­çš„load_dataï¼‰ï¼‰from tensorflow.keras.datasets.mnist import load_data(train_x, train_y), (test_x, test_y) = load_data() # åˆ©ç”¨Tensorflowä¸­çš„MNISTæ•°æ®é›†è¯»å–å‡½æ•°è¯»å–æ•°æ®é›†train_x, test_x = train_x / 255, test_x / 255 # å½’ä¸€åŒ–# 2. åŸºç¡€å‡½æ•°# 2.1 éšå«å±‚çš„æ¿€æ´»å‡½æ•°def sigmoid(x): return 1 / (1 + np.exp(-x))# 2.2 è¾“å‡ºå±‚çš„æ¿€æ´»å‡½æ•°def softmax(y): c = np.max(y) y = y - c sum = np.sum(np.exp(y)) return np.exp(y) / sum# 2.3 å®šä¹‰å‡æ–¹è¯¯å·®æŸå¤±å‡½æ•°å®šä¹‰def loss(y_pre, y_grtru): return np.sum(np.square(y_pre - y_grtru))# 2.4 å®šä¹‰äº¤å‰ç†µæŸå¤±å‡½æ•°def cross_entropy_loss(y_pre, y_grtru): return -np.sum(y_grtru * np.log(y_pre) + (1 - y_grtru) * np.log(1 - y_pre))# 2.5 æ•°æ®é›†è½¬ç½®å‡½æ•°def data_transpose(x, y): y_t = np.zeros((y.size, 1, 10)) for i in range(0, y.size): y_t[i, 0, y[i]] = 1 return x.reshape(y.size, 1, x[0].size), y_t# 2.6 æ¨¡å‹æƒé‡å¯¼å…¥def get_model(weight_path): h5f = h5py.File(weight_path, &#x27;r&#x27;) w1 = h5f[&#x27;w1&#x27;][:] b1 = h5f[&#x27;b1&#x27;][:] w2 = h5f[&#x27;w2&#x27;][:] b2 = h5f[&#x27;b2&#x27;][:] w3 = h5f[&#x27;w3&#x27;][:] b3 = h5f[&#x27;b3&#x27;][:] return w1, w2, w3, b1, b2, b3# 3. ç½‘ç»œæ­å»º# 3.1 åˆå§‹åŒ–æ¨¡å‹def genarate_model(): w1 = np.random.normal(0, 2 / width_input, (width_input, width_net1)) b1 = np.random.normal(0, 2 / width_net1, (width_net1,)) w2 = np.random.normal(0, 2 / width_net1, (width_net1, width_net2)) b2 = np.random.normal(0, 2 / width_net2, (width_net2,)) w3 = np.random.normal(0, 2 / width_net2, (width_net2, width_net3)) b3 = np.random.normal(0, 2 / width_net3, (width_net3,)) return w1, w2, w3, b1, b2, b3# 3.2 åŸºæœ¬å‚æ•°è®¾ç½®# ç½‘ç»œæ¨¡å‹ç»“æ„å‚æ•°width_input = 784 # è¾“å…¥å±‚ç¥ç»ç½‘ç»œèŠ‚ç‚¹æ•°=28*28width_net1 = 100 # ç¬¬ä¸€å±‚ç¥ç»ç½‘ç»œèŠ‚ç‚¹æ•°width_net2 = 100 # ç¬¬äºŒå±‚ç¥ç»ç½‘ç»œèŠ‚ç‚¹æ•°width_net3 = 10 # è¾“å‡ºå±‚ç¥ç»ç½‘ç»œèŠ‚ç‚¹æ•°# æ¨¡å‹è®­ç»ƒå‚æ•°epoch = 15 # è®­ç»ƒè½®æ•°way_dec_lr = 1 # input:1 or 2&quot;&quot;&quot;å­¦ä¹ ç‡æ›´æ–°æ–¹å¼ï¼Œé€‰1ï¼Œè¡¨ç¤ºæ¯lr_dec_epochè½®å›ºå®šæŒ‰lr_dec_rateæ¯”ä¾‹å‡å°‘å­¦ä¹ ç‡é€‰æ‹©2ï¼Œè¡¨ç¤ºè®°å½•5æ¬¡å­¦ä¹ ç‡å¤§å°ï¼Œå½“å½“å‰è½®æ¬¡losså€¼å¤§äºå‰nubæ¬¡ï¼ˆåŒ…æ‹¬æœ¬æ¬¡ï¼‰losså¹³å‡å€¼æ—¶ï¼Œå­¦ä¹ ç‡è‡ªåŠ¨é™ä¸ºå½“å‰å­¦ä¹ ç‡0.1å€ï¼Œå½“å­¦ä¹ ç‡é™ä¸ºlast_lræ—¶ï¼Œè®­ç»ƒç»ˆæ­¢ï¼Œä¿å­˜æ¨¡å‹&quot;&quot;&quot;nub = 3 # è®¾ç½®è®°å½•nubæ¬¡losså€¼last_lr = 0.0001 # æ–¹å¼2æ—¶ï¼Œæœ€ç»ˆæˆªæ­¢å­¦ä¹ ç‡å€¼learn_rate = 0.01 # é»˜è®¤å­¦ä¹ ç‡init_learn_rate = 0.01 # åˆå§‹å­¦ä¹ ç‡lr_dec_epoch = 10 # è®¾ç½®æ¯10è½®æ›´æ–°ä¸€æ¬¡å­¦ä¹ ç‡lr_dec_rate = 0.5 # è·Ÿæ–°å­¦ä¹ ç‡å€æ•°savepath = &#x27;weight4.h5&#x27; # ä¿å­˜æ¨¡å‹åœ°å€loadmodel = &#x27;weight3.h5&#x27; # å½“ä¸ºè¿ç§»å­¦ä¹ æ—¶ï¼Œè½½å…¥æ¨¡å‹åœ°å€ï¼ˆè¯·ç¡®ä¿æœ¬æ¬¡è®­ç»ƒæ¨¡å‹ç»“æ„ä¸åŠ è½½çš„æ¨¡å‹ä¸€è‡´ï¼‰isretrain = False # æ˜¯å¦ä¸ºè¿ç§»å­¦ä¹ True or False# å®šä¹‰ç½‘ç»œè¾“å…¥å±‚x = np.zeros((width_input,))# å®šä¹‰ç½‘ç»œç¬¬ä¸€å±‚a1 = np.zeros((width_net1,))# å®šä¹‰ç½‘ç»œéšè—å±‚a2 = np.zeros((width_net2,))# å®šä¹‰ç½‘ç»œè¾“å‡ºå±‚y = np.zeros((width_net3,))# åˆå§‹åŒ–nubä¸ªä¸´æ—¶ä¿å­˜æ¨¡å‹çš„å‚æ•°,ä»¥ä¾¿åœ¨æ—©åœå‰é€‰å–æœ€ä¼˜æ¨¡å‹w11 = np.zeros((nub, width_input, width_net1))b11 = np.zeros((nub, width_net1))w21 = np.zeros((nub, width_net1, width_net2))b21 = np.zeros((nub, width_net2))w31 = np.zeros((nub, width_net2, width_net3))b31 = np.zeros((nub, width_net3))# æ¨¡å‹å‚æ•°ç”Ÿæˆif isretrain: w1, w2, w3, b1, b2, b3 = get_model(loadmodel)else: w1, w2, w3, b1, b2, b3 = genarate_model()# åˆå§‹åŒ–å‚æ•°zï¼ˆå…¶ä¸­a=sigmoidï¼ˆzï¼‰ï¼‰z1 = np.dot(x, w1) + b1z2 = np.dot(a1, w2) + b2z3 = np.dot(a2, w3) + b3# 3.3 å®šä¹‰å‰å‘ä¼ æ’­def feedforward(a, w, b): return sigmoid(np.dot(a, w) + b)# 3.4 ä¿å­˜æ¨¡å‹def save_model(savepath, w_1, w_2, w_3, b_1, b_2, b_3): filename = savepath h5f = h5py.File(filename, &#x27;w&#x27;) h5f.create_dataset(&#x27;w1&#x27;, data=w_1) h5f.create_dataset(&#x27;w2&#x27;, data=w_2) h5f.create_dataset(&#x27;w3&#x27;, data=w_3) h5f.create_dataset(&#x27;b1&#x27;, data=b_1) h5f.create_dataset(&#x27;b2&#x27;, data=b_2) h5f.create_dataset(&#x27;b3&#x27;, data=b_3) h5f.close# 4. æ¨¡å‹è®­ç»ƒstart_time = time.perf_counter() # è®¡æ—¶# åˆå§‹åŒ–è®°å½•nubæ¬¡losså€¼loss2loss2 = np.zeros((nub,))# è®­ç»ƒæ¨¡å‹train_record = []for n in range(0, epoch + 1): print(&quot;==================================== Epoch %d ====================================&quot; % (n + 1)) # æ–¹å¼1æ”¹å˜å­¦ä¹ ç‡ if way_dec_lr == 1: learn_rate = init_learn_rate * lr_dec_rate ** (int(n / lr_dec_epoch)) # å­¦ä¹ ç‡éšç€å­¦ä¹ è½®æ•°æŒ‡æ•°é€’å‡ # æ‰“ä¹±è®­ç»ƒå’Œæµ‹è¯•æ ·æœ¬ r = np.random.permutation(60000) train_x = train_x[r, :, :] train_y = train_y[r] start = time.perf_counter() # è®¡æ—¶ # è®­ç»ƒæ¨¡å‹ for i in range(0, 60000): # å‘å‰ä¼ æ’­ x = np.array(train_x[i]) x = x.reshape(width_input, ) z1 = np.dot(x, w1) + b1 a1 = feedforward(x, w1, b1) z2 = np.dot(a1, w2) + b2 a2 = feedforward(a1, w2, b2) z3 = np.dot(a2, w3) + b3 y = feedforward(a2, w3, b3) y_t = np.zeros((width_net3,)) y_t[train_y[i]] = 1 # åå‘ä¼ æ’­ eta3 = (-y_t / y + (1 - y_t) / (1 - y)) * sigmoid(z3) * (1 - sigmoid(z3)) # æ­¤ä¸ºåå‘ä¼ æ’­è¿‡ç¨‹ä¸­ä¸­é—´å‚æ•°ï¼Œä¸‹åŒ eta2 = np.dot(eta3, np.transpose(w3)) * sigmoid(z2) * (1 - sigmoid(z2)) eta1 = np.dot(eta2, np.transpose(w2)) * sigmoid(z1) * (1 - sigmoid(z1)) b3 = b3 - learn_rate * eta3 b2 = b2 - learn_rate * eta2 b1 = b1 - learn_rate * eta1 w3 = w3 - learn_rate * np.dot(a2.reshape(width_net2, 1), eta3.reshape(1, width_net3)) # w2 = w2 - learn_rate * np.dot(a1.reshape(width_net1, 1), eta2.reshape(1, width_net2)) w1 = w1 - learn_rate * np.dot(x.reshape(width_input, 1), eta1.reshape(1, width_net1)) # è®­ç»ƒè¿‡ç¨‹è¿›åº¦æ¡åŠ è½½ finish = &quot;â–“&quot; * (i // 1000) need_do = &quot;-&quot; * (60 - (i // 1000)) progress = ((i // 1000) / 60) * 100 duration = dur = time.perf_counter() - start print(&quot;\\rTraining : &#123;:^3.0f&#125;%[&#123;&#125;-&gt;&#123;&#125;]&#123;:.2f&#125;s&quot;.format(progress, finish, need_do, dur), end=&quot;&quot;) time.sleep(0.00005) print() loss1 = 0 True_num = 0 # åŠ è½½æµ‹è¯•é›†ï¼Œè®¡ç®—losså’Œprecition start = time.perf_counter() # è®¡æ—¶ for i in range(0, 10000): # å‘å‰ä¼ æ’­ï¼Œè®¡ç®—é¢„æµ‹ç»“æœ x = np.array(test_x[i]) x = x.reshape(1, width_input) y_t = np.zeros((width_net3,)) y_t[test_y[i]] = 1 a1 = feedforward(x, w1, b1) a2 = feedforward(a1, w2, b2) y = feedforward(a2, w3, b3) if test_y[i] == np.argmax(y, axis=1): # è‹¥é¢„æµ‹æ­£ç¡®ï¼Œåˆ™æ­£ç¡®æ•° +1ï¼Œè®¡ç®—æ­£ç¡®ç‡ True_num = True_num + 1 loss1 = loss1 + cross_entropy_loss(y, y_t) # æµ‹è¯•è¿‡ç¨‹è¿›åº¦æ¡åŠ è½½ finish = &quot;â–“&quot; * ((i + 1) // 1000) need_do = &quot;-&quot; * (10 - ((i + 1) // 1000)) progress = (((i + 1) // 1000) / 10) * 100 duration = dur = time.perf_counter() - start print(&quot;\\rTesting : &#123;:^3.0f&#125;%[&#123;&#125;-&gt;&#123;&#125;]&#123;:.2f&#125;s&quot;.format(progress, finish, need_do, dur), end=&quot;&quot;) time.sleep(0.00005) print() precision = True_num / 10000 * 100 # æ–¹å¼2æ”¹å˜å­¦ä¹ ç‡ï¼Œåˆ©ç”¨é˜Ÿåˆ—æ–¹å¼è®°å½•è¿ç»­nubæ¬¡losså€¼ if way_dec_lr == 2: # ä¸´æ—¶å­˜å‚¨æ¨¡å‹ j = range(1, nub) k = range(0, nub - 1) w11[j] = w11[k] b11[j] = b11[k] w21[j] = w21[k] b21[j] = b21[k] w31[j] = w31[k] w11[0] = w1 b11[0] = b1 w21[0] = w2 b21[0] = b2 w31[0] = w3 b31[0] = b3 loss2[j] = loss2[k] loss2[0] = loss1 # åˆ¤æ–­æ˜¯å¦æ”¹å˜å­¦ä¹ ç‡ if loss2[0] &gt; np.mean(loss2) and loss2[nub - 1] &gt; 0: learn_rate = learn_rate * 0.1 if learn_rate &lt; last_lr: save_model(savepath, w11[np.argmin(loss2)], w21[np.argmin(loss2)], w31[np.argmin(loss2)], b11[np.argmin(loss2)], b21[np.argmin(loss2)], b31[np.argmin(loss2)]) print(&quot;Epoch:&quot;, n + 1, &quot;| Learning Rate:%.6f&quot; % learn_rate, &quot;Loss:&quot;, loss1) print(&quot;Accuracy:%.2f&quot; % precision, &#x27;%&#x27;) train_record.append([n + 1, loss1, precision]) break if n % 10 == 0: # æ¯10è½®ä¿å­˜ä¸€æ¬¡æ¨¡å‹ç»“æœ save_model(savepath, w1, w2, w3, b1, b2, b3) print(&quot;Epoch:&quot;, n + 1, &quot;| Learning Rate:%.4f&quot; % learn_rate, &quot;Loss:&quot;, loss1) print(&quot;Accuracy:%.2f&quot; % precision, &#x27;%&#x27;) train_record.append(precision)end_time = time.perf_counter() - start_timeprint(&quot;è®­ç»ƒå®Œæˆï¼ æœ€ç»ˆå‡†ç¡®ç‡ä¸ºï¼š%.2f&quot; % (train_record[-1]), &#x27;%&#x27;, &quot; | æ€»è®­ç»ƒæ—¶é—´ä¸º ï¼š %.3f s&quot; % end_time)# 5. è®­ç»ƒç»“æœå¯è§†åŒ–# 5.1 è®­ç»ƒé›†losså¯è§†åŒ–def plot_train_record(train_record): plt.figure() plt.plot(train_record) plt.xlabel(&#x27;epoch&#x27;) plt.ylabel(&#x27;precision&#x27;) plt.show()# 5.2 éšæœºæŠ½å–9å¼ æµ‹è¯•é›†å›¾ç‰‡è¿›è¡Œå¯è§†åŒ–ï¼Œè§‚å¯Ÿè®­ç»ƒæ¨¡å‹çš„å‡†ç¡®ç‡def result_show(): t_x, t_y = data_transpose(test_x, test_y) # æ•°æ®é›†è½¬ç½® # model_path = &#x27;weight4.h5&#x27; # å¯ä»¥æµ‹è¯•æŒ‡å®šæ¨¡å‹ # w1, w2, w3, b1, b2, b3 = get_model(model_path) fig, ax = plt.subplots(nrows=3, ncols=3, figsize=(10, 10)) # ç”Ÿæˆ3 * 3 çš„å­å›¾ ax = ax.flatten() for i in range(9): a = random.randint(0, 9999) # éšæœºæŠ½å–10000ä¸ªæµ‹è¯•é›†å›¾ç‰‡ä¸­çš„ä»»æ„ä¸€å¼  x = np.array(t_x[a]) x = x.reshape(1, width_input) # è¾“å…¥å›¾ç‰‡reshape a1 = feedforward(x, w1, b1) # è¿›è¡Œå‘å‰ä¼ æ’­ï¼Œè®¡ç®—é¢„æµ‹ç»“æœ a2 = feedforward(a1, w2, b2) y = feedforward(a2, w3, b3) predict_label = np.argmax(y, axis=1) # è·å–é¢„æµ‹ç»“æœ ax[i].imshow(test_x[a], cmap=&quot;gray&quot;) # å›¾ç‰‡æ˜¾ç¤º ax[i].set_title(&quot;(%d) T: %d P: %d&quot; % (i+1, test_y[a], predict_label)) # å°†æµ‹è¯•ç»“æœä¸æ­£ç¡®ç»“æœè¿›è¡Œå¯è§†åŒ–å¯¹æ¯” ax[i].set_xticks([]) # åˆ é™¤åæ ‡ ax[i].set_yticks([]) # åˆ é™¤åæ ‡ plt.axis(&#x27;off&#x27;) plt.show() plot_train_record(train_record) # è®­ç»ƒè¿‡ç¨‹å¯è§†åŒ–result_show() # å¯¹ç»“æœè¿›è¡Œéšæœºæ£€éªŒ 4. ç»“æœåˆ†æ4.1 å‚æ•°è®¾ç½®â€‹ åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæˆ‘é¦–å…ˆè®¾ç½®äº†ç½‘ç»œçš„åŸºæœ¬å‚æ•°åŠè®­ç»ƒè¿‡ç¨‹ä¸­çš„è¶…å‚æ•°ã€‚ â€‹ å¯¹äºç½‘ç»œæ¶æ„ï¼Œæˆ‘è®¾ç½®ç¬¬ä¸€å±‚çš„èŠ‚ç‚¹æ•°ä¸º784ï¼ˆå³28*28è¾“å…¥ï¼‰ï¼Œç¬¬äºŒå±‚çš„èŠ‚ç‚¹æ•°ä¸º100.ç¬¬ä¸‰å±‚çš„èŠ‚ç‚¹æ•°ä¸º100ï¼Œè¾“å‡ºå±‚çš„èŠ‚ç‚¹æ•°ä¸º10ï¼Œå‰å‡ å±‚çš„æ¿€æ´»å‡½æ•°é€‰ç”¨Sigmoidï¼Œæœ€åä¸€å±‚ä¸ºSoftMax â€‹ å¯¹äºè®­ç»ƒè¿‡ç¨‹çš„è¶…å‚æ•°ï¼Œç”±äºæˆ‘ä»¬çš„æ¨¡å‹æ²¡æœ‰é‡‡ç”¨mini-batchçš„è®­ç»ƒæ–¹æ³•ï¼Œæ¯ä¸€ä¸ªepochè®­ç»ƒçš„éƒ½æ˜¯å…¨éƒ¨æ•°æ®ï¼Œå› æ­¤epochçš„æ•°é‡å¯ä»¥è®¾ç½®çš„ç›¸å¯¹è¾ƒå°ã€‚è¿‡å‡ æ¬¡æµ‹è¯•ï¼Œæ¨¡å‹åœ¨ç¬¬8ä¸ªepochå·¦å³åŸºæœ¬æ”¶æ•›ï¼Œå› æ­¤è®¾ç½®Epochä¸º15ï¼›é‡‡ç”¨åŸºç¡€çš„æ¢¯åº¦ä¸‹é™ï¼›åˆå§‹çš„å­¦ä¹ ç‡è®¾ç½®ä¸º0.01ï¼›é€‰ç”¨å®éªŒè¿‡ç¨‹ä¸€èŠ‚ä¸­æåˆ°çš„ç¬¬ä¸€ç§å­¦ä¹ ç‡æ›´æ–°æ–¹æ³•ï¼Œä¸é‡‡ç”¨è¿ç§»å­¦ä¹ ã€‚ â€‹ ç”±äºè®­ç»ƒæ—¶é—´è¾ƒé•¿ï¼Œä¸ºäº†æ¸…æ¥šå½“å‰æ—¶åˆ»æ¨¡å‹çš„è®­ç»ƒè¿‡ç¨‹åŠè¿›åº¦ï¼Œæˆ‘ä¸ºè®­ç»ƒè¿‡ç¨‹æ·»åŠ äº†è¿›åº¦æ¡ã€‚ 4.2 è®­ç»ƒè¿‡ç¨‹ ä¸Šå›¾å±•ç¤ºäº†è®­ç»ƒè¿‡ç¨‹ä¸­å‡†ç¡®ç‡çš„å˜åŒ–è¿‡ç¨‹ã€‚å¯ä»¥å¾ˆæ˜æ˜¾åœ°å‘ç°ï¼Œåœ¨ç¬¬8ä¸ªepochå·¦å³ï¼Œæ¨¡å‹çš„å‡†ç¡®ç‡åŸºæœ¬ä¿æŒ97%å·¦å³ä¸å†å˜åŒ–ã€‚ç»è¿‡å‡ æ¬¡æµ‹è¯•ï¼Œè®¾ç½®epochä¸º15ï¼Œåœ¨å¤šæ¬¡æµ‹è¯•ä¹‹åå‘ç°ï¼Œæ¨¡å‹éƒ½èƒ½åœ¨è®­ç»ƒ15ä¸ªepochä¹‹åè¾¾åˆ°97%ä»¥ä¸Šçš„å‡†ç¡®åº¦ï¼Œè¡¨æ˜æˆ‘ä»¬è®¾ç½®çš„ç½‘ç»œåŸºæœ¬å‚æ•°ä»¥åŠè®­ç»ƒè¿‡ç¨‹çš„è¶…å‚æ•°åŸºæœ¬åˆç†ï¼Œå¯ä»¥åŸºæœ¬ä¿è¯æ¨¡å‹å–å¾—è¾ƒé«˜çš„å‡†ç¡®ç‡å’Œç»“æœã€‚ ä¸Šå›¾å±•ç¤ºäº†è®­ç»ƒè¿‡ç¨‹åŠè®­ç»ƒç»“æœï¼Œç»è¿‡15ä¸ªepochçš„è®­ç»ƒè¿‡ç¨‹ï¼Œæœ€ç»ˆå–å¾—äº†97.64%å‡†ç¡®ç‡çš„ç»“æœã€‚ 4.3 è®­ç»ƒç»“æœ ä¸Šå›¾å±•ç¤ºäº†æˆ‘ä»¬éšæœºæŠ½å–9å¼ æµ‹è¯•é›†å›¾ç‰‡è¿›è¡Œé¢„æµ‹çš„ç»“æœã€‚Tä¸ºå…¶çœŸå®å€¼ï¼ˆå³Truthï¼‰ï¼ŒPä¸ºå…¶é¢„æµ‹å€¼ï¼ˆå³Predictï¼‰ï¼Œç»“åˆå›¾ç‰‡ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°æ¨¡å‹å¯¹äºéšæœºæŠ½å–çš„9å¼ å›¾ç‰‡éƒ½å–å¾—äº†æ­£ç¡®çš„é¢„æµ‹ç»“æœï¼Œä¸æœ€ç»ˆå¾—åˆ°çš„97.64%ç›¸å¯¹å»åˆã€‚","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"http://47.118.73.148/categories/%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"æ·±åº¦å­¦ä¹ ","slug":"æ·±åº¦å­¦ä¹ ","permalink":"http://47.118.73.148/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"}]},{"title":"Gitç¬”è®°","slug":"gitç¬”è®°","date":"2022-03-15T15:39:44.000Z","updated":"2022-03-24T14:52:37.481Z","comments":true,"path":"2022/03/15/gitç¬”è®°/","link":"","permalink":"http://47.118.73.148/2022/03/15/git%E7%AC%94%E8%AE%B0/","excerpt":"","text":"1. Git ç®€ä»‹Gité‡‡ç”¨åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ï¼Œæ¯ä¸ªäººéƒ½æ‹¥æœ‰å…¨éƒ¨çš„ä»£ç ã€‚æ‰€æœ‰ç‰ˆæœ¬ä¿¡æ¯ä»“åº“å…¨éƒ¨åŒæ­¥åˆ°æœ¬åœ°çš„æ¯ä¸ªç”¨æˆ·ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨æœ¬åœ°æŸ¥çœ‹æ‰€æœ‰ç‰ˆæœ¬å†å²ï¼Œå¯ä»¥ç¦»çº¿åœ¨æœ¬åœ°æäº¤ï¼Œåªéœ€åœ¨è¿ç½‘æ—¶pushåˆ°ç›¸åº”çš„æœåŠ¡å™¨æˆ–å…¶ä»–ç”¨æˆ·é‚£é‡Œã€‚ç”±äºæ¯ä¸ªç”¨æˆ·é‚£é‡Œä¿å­˜çš„éƒ½æ˜¯æ‰€æœ‰çš„ç‰ˆæœ¬æ•°æ®ï¼Œåªè¦æœ‰ä¸€ä¸ªç”¨æˆ·çš„è®¾å¤‡æ²¡æœ‰é—®é¢˜å°±å¯ä»¥æ¢å¤æ‰€æœ‰çš„æ•°æ®ï¼Œä½†è¿™å¢åŠ äº†æœ¬åœ°å­˜å‚¨ç©ºé—´çš„å ç”¨ã€‚ 2. Git åŸºæœ¬åŸç†Gitæœ¬åœ°æœ‰ä¸‰ä¸ªå·¥ä½œåŒºåŸŸï¼šå·¥ä½œç›®å½•ï¼ˆWorking Directoryï¼‰ã€æš‚å­˜åŒº(Stage/Index)ã€èµ„æºåº“(Repositoryæˆ–Git Directory)ã€‚å¦‚æœåœ¨åŠ ä¸Šè¿œç¨‹çš„gitä»“åº“(Remote Directory)å°±å¯ä»¥åˆ†ä¸ºå››ä¸ªå·¥ä½œåŒºåŸŸ Workspaceï¼šå·¥ä½œåŒºï¼Œå°±æ˜¯ä½ å¹³æ—¶å­˜æ”¾é¡¹ç›®ä»£ç çš„åœ°æ–¹ Index / Stageï¼šæš‚å­˜åŒºï¼Œç”¨äºä¸´æ—¶å­˜æ”¾ä½ çš„æ”¹åŠ¨ï¼Œäº‹å®ä¸Šå®ƒåªæ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œä¿å­˜å³å°†æäº¤åˆ°æ–‡ä»¶åˆ—è¡¨ä¿¡æ¯ Repositoryï¼šä»“åº“åŒºï¼ˆæˆ–æœ¬åœ°ä»“åº“ï¼‰ï¼Œå°±æ˜¯å®‰å…¨å­˜æ”¾æ•°æ®çš„ä½ç½®ï¼Œè¿™é‡Œé¢æœ‰ä½ æäº¤åˆ°æ‰€æœ‰ç‰ˆæœ¬çš„æ•°æ®ã€‚å…¶ä¸­HEADæŒ‡å‘æœ€æ–°æ”¾å…¥ä»“åº“çš„ç‰ˆæœ¬ Remoteï¼šè¿œç¨‹ä»“åº“ï¼Œæ‰˜ç®¡ä»£ç çš„æœåŠ¡å™¨ï¼Œå¯ä»¥ç®€å•çš„è®¤ä¸ºæ˜¯ä½ é¡¹ç›®ç»„ä¸­çš„ä¸€å°ç”µè„‘ç”¨äºè¿œç¨‹æ•°æ®äº¤æ¢ Directoryï¼šä½¿ç”¨Gitç®¡ç†çš„ä¸€ä¸ªç›®å½•ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªä»“åº“ï¼ŒåŒ…å«æˆ‘ä»¬çš„å·¥ä½œç©ºé—´å’ŒGitçš„ç®¡ç†ç©ºé—´ã€‚ WorkSpaceï¼šéœ€è¦é€šè¿‡Gitè¿›è¡Œç‰ˆæœ¬æ§åˆ¶çš„ç›®å½•å’Œæ–‡ä»¶ï¼Œè¿™äº›ç›®å½•å’Œæ–‡ä»¶ç»„æˆäº†å·¥ä½œç©ºé—´ã€‚ .gitï¼šå­˜æ”¾Gitç®¡ç†ä¿¡æ¯çš„ç›®å½•ï¼Œåˆå§‹åŒ–ä»“åº“çš„æ—¶å€™è‡ªåŠ¨åˆ›å»ºã€‚ Index/Stageï¼šæš‚å­˜åŒºï¼Œæˆ–è€…å«å¾…æäº¤æ›´æ–°åŒºï¼Œåœ¨æäº¤è¿›å…¥repoä¹‹å‰ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæ‰€æœ‰çš„æ›´æ–°æ”¾åœ¨æš‚å­˜åŒºã€‚ Local Repoï¼šæœ¬åœ°ä»“åº“ï¼Œä¸€ä¸ªå­˜æ”¾åœ¨æœ¬åœ°çš„ç‰ˆæœ¬åº“ï¼›HEADä¼šåªæ˜¯å½“å‰çš„å¼€å‘åˆ†æ”¯ï¼ˆbranchï¼‰ã€‚ Stashï¼šéšè—ï¼Œæ˜¯ä¸€ä¸ªå·¥ä½œçŠ¶æ€ä¿å­˜æ ˆï¼Œç”¨äºä¿å­˜/æ¢å¤WorkSpaceä¸­çš„ä¸´æ—¶çŠ¶æ€ã€‚ å·¥ä½œæµç¨‹ gitçš„å·¥ä½œæµç¨‹ä¸€èˆ¬æ˜¯è¿™æ ·çš„ï¼š ï¼‘ã€åœ¨å·¥ä½œç›®å½•ä¸­æ·»åŠ ã€ä¿®æ”¹æ–‡ä»¶ï¼› ï¼’ã€å°†éœ€è¦è¿›è¡Œç‰ˆæœ¬ç®¡ç†çš„æ–‡ä»¶æ”¾å…¥æš‚å­˜åŒºåŸŸï¼› ï¼“ã€å°†æš‚å­˜åŒºåŸŸçš„æ–‡ä»¶æäº¤åˆ°gitä»“åº“ã€‚ æ–‡ä»¶çš„å››ç§çŠ¶æ€ ç‰ˆæœ¬æ§åˆ¶å°±æ˜¯å¯¹æ–‡ä»¶çš„ç‰ˆæœ¬æ§åˆ¶ï¼Œè¦å¯¹æ–‡ä»¶è¿›è¡Œä¿®æ”¹ã€æäº¤ç­‰æ“ä½œï¼Œé¦–å…ˆè¦çŸ¥é“æ–‡ä»¶å½“å‰åœ¨ä»€ä¹ˆçŠ¶æ€ï¼Œä¸ç„¶å¯èƒ½ä¼šæäº¤äº†ç°åœ¨è¿˜ä¸æƒ³æäº¤çš„æ–‡ä»¶ï¼Œæˆ–è€…è¦æäº¤çš„æ–‡ä»¶æ²¡æäº¤ä¸Šã€‚ Untracked: æœªè·Ÿè¸ª, æ­¤æ–‡ä»¶åœ¨æ–‡ä»¶å¤¹ä¸­, ä½†å¹¶æ²¡æœ‰åŠ å…¥åˆ°gitåº“, ä¸å‚ä¸ç‰ˆæœ¬æ§åˆ¶. é€šè¿‡git add çŠ¶æ€å˜ä¸ºStaged. Unmodify: æ–‡ä»¶å·²ç»å…¥åº“, æœªä¿®æ”¹, å³ç‰ˆæœ¬åº“ä¸­çš„æ–‡ä»¶å¿«ç…§å†…å®¹ä¸æ–‡ä»¶å¤¹ä¸­å®Œå…¨ä¸€è‡´. è¿™ç§ç±»å‹çš„æ–‡ä»¶æœ‰ä¸¤ç§å»å¤„, å¦‚æœå®ƒè¢«ä¿®æ”¹, è€Œå˜ä¸ºModified. å¦‚æœä½¿ç”¨git rmç§»å‡ºç‰ˆæœ¬åº“, åˆ™æˆä¸ºUntrackedæ–‡ä»¶ Modified: æ–‡ä»¶å·²ä¿®æ”¹, ä»…ä»…æ˜¯ä¿®æ”¹, å¹¶æ²¡æœ‰è¿›è¡Œå…¶ä»–çš„æ“ä½œ. è¿™ä¸ªæ–‡ä»¶ä¹Ÿæœ‰ä¸¤ä¸ªå»å¤„, é€šè¿‡git addå¯è¿›å…¥æš‚å­˜stagedçŠ¶æ€, ä½¿ç”¨git checkout åˆ™ä¸¢å¼ƒä¿®æ”¹è¿‡, è¿”å›åˆ°unmodifyçŠ¶æ€, è¿™ä¸ªgit checkoutå³ä»åº“ä¸­å–å‡ºæ–‡ä»¶, è¦†ç›–å½“å‰ä¿®æ”¹ ! Staged: æš‚å­˜çŠ¶æ€. æ‰§è¡Œgit commitåˆ™å°†ä¿®æ”¹åŒæ­¥åˆ°åº“ä¸­, è¿™æ—¶åº“ä¸­çš„æ–‡ä»¶å’Œæœ¬åœ°æ–‡ä»¶åˆå˜ä¸ºä¸€è‡´, æ–‡ä»¶ä¸ºUnmodifiedçŠ¶æ€. æ‰§è¡Œgit reset HEAD filenameå–æ¶ˆæš‚å­˜, æ–‡ä»¶çŠ¶æ€ä¸ºModified 3. Git å¸¸ç”¨å‘½ä»¤ åˆ›å»ºå…¨æ–°çš„ä»“åº“ï¼Œéœ€è¦ç”¨GITç®¡ç†çš„é¡¹ç›®çš„æ ¹ç›®å½•æ‰§è¡Œï¼š $ git init #æ–°å»ºä»£ç åº“ å…‹éš†ä¸€ä¸ªè¿œç¨‹ä»“åº“ $ git clone [url] æŸ¥çœ‹æ–‡ä»¶çŠ¶æ€ # æŸ¥çœ‹æŒ‡å®šæ–‡ä»¶çŠ¶æ€git status [filename]# æŸ¥çœ‹æ‰€æœ‰æ–‡ä»¶çŠ¶æ€git status æ”¹å˜æ–‡ä»¶çŠ¶æ€ # å°†æ‰€æœ‰æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºgit add . # æäº¤æš‚å­˜åŒºçš„å†…å®¹åˆ°æœ¬åœ°ä»“åº“ -m æäº¤æ¶ˆæ¯ï¼ˆä¸€èˆ¬ä¸ºä»£ç ä¿®æ”¹å†…å®¹ï¼Œæ”¹åŠ¨æƒ…å†µï¼‰ git commit -m &quot;æ¶ˆæ¯å†…å®¹&quot; 4. å¿½ç•¥æ–‡ä»¶æœ‰äº›æ—¶å€™æˆ‘ä»¬ä¸æƒ³æŠŠæŸäº›æ–‡ä»¶çº³å…¥ç‰ˆæœ¬æ§åˆ¶ä¸­ï¼Œæ¯”å¦‚æ•°æ®åº“æ–‡ä»¶ï¼Œä¸´æ—¶æ–‡ä»¶ï¼Œè®¾è®¡æ–‡ä»¶ç­‰åœ¨ä¸»ç›®å½•ä¸‹å»ºç«‹â€.gitignoreâ€æ–‡ä»¶ï¼Œæ­¤æ–‡ä»¶æœ‰å¦‚ä¸‹è§„åˆ™ï¼š å¿½ç•¥æ–‡ä»¶ä¸­çš„ç©ºè¡Œæˆ–ä»¥äº•å·ï¼ˆ#ï¼‰å¼€å§‹çš„è¡Œå°†ä¼šè¢«å¿½ç•¥ã€‚ å¯ä»¥ä½¿ç”¨Linuxé€šé…ç¬¦ã€‚ä¾‹å¦‚ï¼šæ˜Ÿå·ï¼ˆ*ï¼‰ä»£è¡¨ä»»æ„å¤šä¸ªå­—ç¬¦ï¼Œé—®å·ï¼ˆï¼Ÿï¼‰ä»£è¡¨ä¸€ä¸ªå­—ç¬¦ï¼Œæ–¹æ‹¬å·ï¼ˆ[abc]ï¼‰ä»£è¡¨å¯é€‰å­—ç¬¦èŒƒå›´ï¼Œå¤§æ‹¬å·ï¼ˆ{string1,string2,â€¦}ï¼‰ä»£è¡¨å¯é€‰çš„å­—ç¬¦ä¸²ç­‰ã€‚ å¦‚æœåç§°çš„æœ€å‰é¢æœ‰ä¸€ä¸ªæ„Ÿå¹å·ï¼ˆ!ï¼‰ï¼Œè¡¨ç¤ºä¾‹å¤–è§„åˆ™ï¼Œå°†ä¸è¢«å¿½ç•¥ã€‚ å¦‚æœåç§°çš„æœ€å‰é¢æ˜¯ä¸€ä¸ªè·¯å¾„åˆ†éš”ç¬¦ï¼ˆ/ï¼‰ï¼Œè¡¨ç¤ºè¦å¿½ç•¥çš„æ–‡ä»¶åœ¨æ­¤ç›®å½•ä¸‹ï¼Œè€Œå­ç›®å½•ä¸­çš„æ–‡ä»¶ä¸å¿½ç•¥ã€‚ å¦‚æœåç§°çš„æœ€åé¢æ˜¯ä¸€ä¸ªè·¯å¾„åˆ†éš”ç¬¦ï¼ˆ/ï¼‰ï¼Œè¡¨ç¤ºè¦å¿½ç•¥çš„æ˜¯æ­¤ç›®å½•ä¸‹è¯¥åç§°çš„å­ç›®å½•ï¼Œè€Œéæ–‡ä»¶ï¼ˆé»˜è®¤æ–‡ä»¶æˆ–ç›®å½•éƒ½å¿½ç•¥ï¼‰ã€‚ *.txt #å¿½ç•¥æ‰€æœ‰ .txtç»“å°¾çš„æ–‡ä»¶,è¿™æ ·çš„è¯ä¸Šä¼ å°±ä¸ä¼šè¢«é€‰ä¸­ï¼!lib.txt #ä½†lib.txté™¤å¤–/temp #ä»…å¿½ç•¥é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„TODOæ–‡ä»¶,ä¸åŒ…æ‹¬å…¶å®ƒç›®å½•tempbuild/ #å¿½ç•¥build/ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶doc/*.txt #ä¼šå¿½ç•¥ doc/notes.txt ä½†ä¸åŒ…æ‹¬ doc/server/arch.txt 5. Git åˆ†æ”¯å¦‚æœåŒä¸€ä¸ªæ–‡ä»¶åœ¨åˆå¹¶åˆ†æ”¯æ—¶éƒ½è¢«ä¿®æ”¹äº†åˆ™ä¼šå¼•èµ·å†²çªï¼šè§£å†³çš„åŠæ³•æ˜¯æˆ‘ä»¬å¯ä»¥ä¿®æ”¹å†²çªæ–‡ä»¶åé‡æ–°æäº¤ï¼é€‰æ‹©è¦ä¿ç•™ä»–çš„ä»£ç è¿˜æ˜¯ä½ çš„ä»£ç ï¼ masterä¸»åˆ†æ”¯åº”è¯¥éå¸¸ç¨³å®šï¼Œç”¨æ¥å‘å¸ƒæ–°ç‰ˆæœ¬ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä¸å…è®¸åœ¨ä¸Šé¢å·¥ä½œï¼Œå·¥ä½œä¸€èˆ¬æƒ…å†µä¸‹åœ¨æ–°å»ºçš„devåˆ†æ”¯ä¸Šå·¥ä½œï¼Œå·¥ä½œå®Œåï¼Œæ¯”å¦‚ä¸Šè¦å‘å¸ƒï¼Œæˆ–è€…è¯´devåˆ†æ”¯ä»£ç ç¨³å®šåå¯ä»¥åˆå¹¶åˆ°ä¸»åˆ†æ”¯masterä¸Šæ¥ã€‚ 3. Git å¸¸ç”¨å‘½ä»¤ åˆ›å»ºå…¨æ–°çš„ä»“åº“ï¼Œéœ€è¦ç”¨GITç®¡ç†çš„é¡¹ç›®çš„æ ¹ç›®å½•æ‰§è¡Œï¼š $ git init #æ–°å»ºä»£ç åº“ å…‹éš†ä¸€ä¸ªè¿œç¨‹ä»“åº“ $ git clone [url] æŸ¥çœ‹æ–‡ä»¶çŠ¶æ€ # æŸ¥çœ‹æŒ‡å®šæ–‡ä»¶çŠ¶æ€git status [filename]# æŸ¥çœ‹æ‰€æœ‰æ–‡ä»¶çŠ¶æ€git status æ”¹å˜æ–‡ä»¶çŠ¶æ€ # å°†æ‰€æœ‰æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºgit add . # æäº¤æš‚å­˜åŒºçš„å†…å®¹åˆ°æœ¬åœ°ä»“åº“ -m æäº¤æ¶ˆæ¯ï¼ˆä¸€èˆ¬ä¸ºä»£ç ä¿®æ”¹å†…å®¹ï¼Œæ”¹åŠ¨æƒ…å†µï¼‰ git commit -m &quot;æ¶ˆæ¯å†…å®¹&quot; 4. å¿½ç•¥æ–‡ä»¶æœ‰äº›æ—¶å€™æˆ‘ä»¬ä¸æƒ³æŠŠæŸäº›æ–‡ä»¶çº³å…¥ç‰ˆæœ¬æ§åˆ¶ä¸­ï¼Œæ¯”å¦‚æ•°æ®åº“æ–‡ä»¶ï¼Œä¸´æ—¶æ–‡ä»¶ï¼Œè®¾è®¡æ–‡ä»¶ç­‰åœ¨ä¸»ç›®å½•ä¸‹å»ºç«‹â€.gitignoreâ€æ–‡ä»¶ï¼Œæ­¤æ–‡ä»¶æœ‰å¦‚ä¸‹è§„åˆ™ï¼š å¿½ç•¥æ–‡ä»¶ä¸­çš„ç©ºè¡Œæˆ–ä»¥äº•å·ï¼ˆ#ï¼‰å¼€å§‹çš„è¡Œå°†ä¼šè¢«å¿½ç•¥ã€‚ å¯ä»¥ä½¿ç”¨Linuxé€šé…ç¬¦ã€‚ä¾‹å¦‚ï¼šæ˜Ÿå·ï¼ˆ*ï¼‰ä»£è¡¨ä»»æ„å¤šä¸ªå­—ç¬¦ï¼Œé—®å·ï¼ˆï¼Ÿï¼‰ä»£è¡¨ä¸€ä¸ªå­—ç¬¦ï¼Œæ–¹æ‹¬å·ï¼ˆ[abc]ï¼‰ä»£è¡¨å¯é€‰å­—ç¬¦èŒƒå›´ï¼Œå¤§æ‹¬å·ï¼ˆ{string1,string2,â€¦}ï¼‰ä»£è¡¨å¯é€‰çš„å­—ç¬¦ä¸²ç­‰ã€‚ å¦‚æœåç§°çš„æœ€å‰é¢æœ‰ä¸€ä¸ªæ„Ÿå¹å·ï¼ˆ!ï¼‰ï¼Œè¡¨ç¤ºä¾‹å¤–è§„åˆ™ï¼Œå°†ä¸è¢«å¿½ç•¥ã€‚ å¦‚æœåç§°çš„æœ€å‰é¢æ˜¯ä¸€ä¸ªè·¯å¾„åˆ†éš”ç¬¦ï¼ˆ/ï¼‰ï¼Œè¡¨ç¤ºè¦å¿½ç•¥çš„æ–‡ä»¶åœ¨æ­¤ç›®å½•ä¸‹ï¼Œè€Œå­ç›®å½•ä¸­çš„æ–‡ä»¶ä¸å¿½ç•¥ã€‚ å¦‚æœåç§°çš„æœ€åé¢æ˜¯ä¸€ä¸ªè·¯å¾„åˆ†éš”ç¬¦ï¼ˆ/ï¼‰ï¼Œè¡¨ç¤ºè¦å¿½ç•¥çš„æ˜¯æ­¤ç›®å½•ä¸‹è¯¥åç§°çš„å­ç›®å½•ï¼Œè€Œéæ–‡ä»¶ï¼ˆé»˜è®¤æ–‡ä»¶æˆ–ç›®å½•éƒ½å¿½ç•¥ï¼‰ã€‚ #ä¸ºæ³¨é‡Š*.txt #å¿½ç•¥æ‰€æœ‰ .txtç»“å°¾çš„æ–‡ä»¶,è¿™æ ·çš„è¯ä¸Šä¼ å°±ä¸ä¼šè¢«é€‰ä¸­ï¼!lib.txt #ä½†lib.txté™¤å¤–/temp #ä»…å¿½ç•¥é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„TODOæ–‡ä»¶,ä¸åŒ…æ‹¬å…¶å®ƒç›®å½•tempbuild/ #å¿½ç•¥build/ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶doc/*.txt #ä¼šå¿½ç•¥ doc/notes.txt ä½†ä¸åŒ…æ‹¬ doc/server/arch.txt 5. Git åˆ†æ”¯å¦‚æœåŒä¸€ä¸ªæ–‡ä»¶åœ¨åˆå¹¶åˆ†æ”¯æ—¶éƒ½è¢«ä¿®æ”¹äº†åˆ™ä¼šå¼•èµ·å†²çªï¼šè§£å†³çš„åŠæ³•æ˜¯æˆ‘ä»¬å¯ä»¥ä¿®æ”¹å†²çªæ–‡ä»¶åé‡æ–°æäº¤ï¼é€‰æ‹©è¦ä¿ç•™ä»–çš„ä»£ç è¿˜æ˜¯ä½ çš„ä»£ç ï¼ masterä¸»åˆ†æ”¯åº”è¯¥éå¸¸ç¨³å®šï¼Œç”¨æ¥å‘å¸ƒæ–°ç‰ˆæœ¬ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä¸å…è®¸åœ¨ä¸Šé¢å·¥ä½œï¼Œå·¥ä½œä¸€èˆ¬æƒ…å†µä¸‹åœ¨æ–°å»ºçš„devåˆ†æ”¯ä¸Šå·¥ä½œï¼Œå·¥ä½œå®Œåï¼Œæ¯”å¦‚ä¸Šè¦å‘å¸ƒï¼Œæˆ–è€…è¯´devåˆ†æ”¯ä»£ç ç¨³å®šåå¯ä»¥åˆå¹¶åˆ°ä¸»åˆ†æ”¯masterä¸Šæ¥ã€‚ 3. Git å¸¸ç”¨å‘½ä»¤ åˆ›å»ºå…¨æ–°çš„ä»“åº“ï¼Œéœ€è¦ç”¨GITç®¡ç†çš„é¡¹ç›®çš„æ ¹ç›®å½•æ‰§è¡Œï¼š $ git init #æ–°å»ºä»£ç åº“ å…‹éš†ä¸€ä¸ªè¿œç¨‹ä»“åº“ $ git clone [url] æŸ¥çœ‹æ–‡ä»¶çŠ¶æ€ # æŸ¥çœ‹æŒ‡å®šæ–‡ä»¶çŠ¶æ€git status [filename]# æŸ¥çœ‹æ‰€æœ‰æ–‡ä»¶çŠ¶æ€git status æ”¹å˜æ–‡ä»¶çŠ¶æ€ # å°†æ‰€æœ‰æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºgit add . # æäº¤æš‚å­˜åŒºçš„å†…å®¹åˆ°æœ¬åœ°ä»“åº“ -m æäº¤æ¶ˆæ¯ï¼ˆä¸€èˆ¬ä¸ºä»£ç ä¿®æ”¹å†…å®¹ï¼Œæ”¹åŠ¨æƒ…å†µï¼‰ git commit -m &quot;æ¶ˆæ¯å†…å®¹&quot; 4. å¿½ç•¥æ–‡ä»¶æœ‰äº›æ—¶å€™æˆ‘ä»¬ä¸æƒ³æŠŠæŸäº›æ–‡ä»¶çº³å…¥ç‰ˆæœ¬æ§åˆ¶ä¸­ï¼Œæ¯”å¦‚æ•°æ®åº“æ–‡ä»¶ï¼Œä¸´æ—¶æ–‡ä»¶ï¼Œè®¾è®¡æ–‡ä»¶ç­‰åœ¨ä¸»ç›®å½•ä¸‹å»ºç«‹â€.gitignoreâ€æ–‡ä»¶ï¼Œæ­¤æ–‡ä»¶æœ‰å¦‚ä¸‹è§„åˆ™ï¼š å¿½ç•¥æ–‡ä»¶ä¸­çš„ç©ºè¡Œæˆ–ä»¥äº•å·ï¼ˆ#ï¼‰å¼€å§‹çš„è¡Œå°†ä¼šè¢«å¿½ç•¥ã€‚ å¯ä»¥ä½¿ç”¨Linuxé€šé…ç¬¦ã€‚ä¾‹å¦‚ï¼šæ˜Ÿå·ï¼ˆ*ï¼‰ä»£è¡¨ä»»æ„å¤šä¸ªå­—ç¬¦ï¼Œé—®å·ï¼ˆï¼Ÿï¼‰ä»£è¡¨ä¸€ä¸ªå­—ç¬¦ï¼Œæ–¹æ‹¬å·ï¼ˆ[abc]ï¼‰ä»£è¡¨å¯é€‰å­—ç¬¦èŒƒå›´ï¼Œå¤§æ‹¬å·ï¼ˆ{string1,string2,â€¦}ï¼‰ä»£è¡¨å¯é€‰çš„å­—ç¬¦ä¸²ç­‰ã€‚ å¦‚æœåç§°çš„æœ€å‰é¢æœ‰ä¸€ä¸ªæ„Ÿå¹å·ï¼ˆ!ï¼‰ï¼Œè¡¨ç¤ºä¾‹å¤–è§„åˆ™ï¼Œå°†ä¸è¢«å¿½ç•¥ã€‚ å¦‚æœåç§°çš„æœ€å‰é¢æ˜¯ä¸€ä¸ªè·¯å¾„åˆ†éš”ç¬¦ï¼ˆ/ï¼‰ï¼Œè¡¨ç¤ºè¦å¿½ç•¥çš„æ–‡ä»¶åœ¨æ­¤ç›®å½•ä¸‹ï¼Œè€Œå­ç›®å½•ä¸­çš„æ–‡ä»¶ä¸å¿½ç•¥ã€‚ å¦‚æœåç§°çš„æœ€åé¢æ˜¯ä¸€ä¸ªè·¯å¾„åˆ†éš”ç¬¦ï¼ˆ/ï¼‰ï¼Œè¡¨ç¤ºè¦å¿½ç•¥çš„æ˜¯æ­¤ç›®å½•ä¸‹è¯¥åç§°çš„å­ç›®å½•ï¼Œè€Œéæ–‡ä»¶ï¼ˆé»˜è®¤æ–‡ä»¶æˆ–ç›®å½•éƒ½å¿½ç•¥ï¼‰ã€‚ #ä¸ºæ³¨é‡Š*.txt #å¿½ç•¥æ‰€æœ‰ .txtç»“å°¾çš„æ–‡ä»¶,è¿™æ ·çš„è¯ä¸Šä¼ å°±ä¸ä¼šè¢«é€‰ä¸­ï¼!lib.txt #ä½†lib.txté™¤å¤–/temp #ä»…å¿½ç•¥é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„TODOæ–‡ä»¶,ä¸åŒ…æ‹¬å…¶å®ƒç›®å½•tempbuild/ #å¿½ç•¥build/ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶doc/*.txt #ä¼šå¿½ç•¥ doc/notes.txt ä½†ä¸åŒ…æ‹¬ doc/server/arch.txt 5. Git åˆ†æ”¯å¦‚æœåŒä¸€ä¸ªæ–‡ä»¶åœ¨åˆå¹¶åˆ†æ”¯æ—¶éƒ½è¢«ä¿®æ”¹äº†åˆ™ä¼šå¼•èµ·å†²çªï¼šè§£å†³çš„åŠæ³•æ˜¯æˆ‘ä»¬å¯ä»¥ä¿®æ”¹å†²çªæ–‡ä»¶åé‡æ–°æäº¤ï¼é€‰æ‹©è¦ä¿ç•™ä»–çš„ä»£ç è¿˜æ˜¯ä½ çš„ä»£ç ï¼ masterä¸»åˆ†æ”¯åº”è¯¥éå¸¸ç¨³å®šï¼Œç”¨æ¥å‘å¸ƒæ–°ç‰ˆæœ¬ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä¸å…è®¸åœ¨ä¸Šé¢å·¥ä½œï¼Œå·¥ä½œä¸€èˆ¬æƒ…å†µä¸‹åœ¨æ–°å»ºçš„devåˆ†æ”¯ä¸Šå·¥ä½œï¼Œå·¥ä½œå®Œåï¼Œæ¯”å¦‚ä¸Šè¦å‘å¸ƒï¼Œæˆ–è€…è¯´devåˆ†æ”¯ä»£ç ç¨³å®šåå¯ä»¥åˆå¹¶åˆ°ä¸»åˆ†æ”¯masterä¸Šæ¥ã€‚ # åˆ—å‡ºæ‰€æœ‰æœ¬åœ°åˆ†æ”¯git branch# åˆ—å‡ºæ‰€æœ‰è¿œç¨‹åˆ†æ”¯git branch -r# æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œä½†ä¾ç„¶åœç•™åœ¨å½“å‰åˆ†æ”¯git branch [branch-name]# æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œå¹¶åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯git checkout -b [branch]# åˆå¹¶æŒ‡å®šåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯$ git merge [branch]# åˆ é™¤åˆ†æ”¯$ git branch -d [branch-name]# åˆ é™¤è¿œç¨‹åˆ†æ”¯$ git push origin --delete [branch-name]$ git branch -dr [remote/branch]# æ›´æ–°æ›´æ–°è¿œç¨‹ä»“åº“ä»£ç åˆ°æœ¬åœ°åˆ†æ”¯$ git pull &lt;è¿œç¨‹åº“å&gt; &lt;è¿œç¨‹åˆ†æ”¯å&gt;:&lt;æœ¬åœ°åˆ†æ”¯å&gt;# ä¾‹å­ ï¼š$ git pull orgin ha ï¼š ha# æ’¤é”€å¯¹åˆšpullçš„åˆ†æ”¯çš„æ”¹åŠ¨$ git checkout .# commitå æƒ³æ’¤é”€ï¼Œé€€å›ä¸Šä¸€æ¬¡commitçš„ç‰ˆæœ¬$ git reset --hard HEAD^","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"http://47.118.73.148/categories/%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"Git","slug":"git","permalink":"http://47.118.73.148/tags/git/"}]},{"title":"æ”¹è¿›çš„æ¢¯åº¦ä¸‹é™æ³•","slug":"æ¢¯åº¦ä¸‹é™æ³•","date":"2022-03-15T13:04:10.000Z","updated":"2022-03-15T15:16:59.706Z","comments":true,"path":"2022/03/15/æ¢¯åº¦ä¸‹é™æ³•/","link":"","permalink":"http://47.118.73.148/2022/03/15/%E6%A2%AF%E5%BA%A6%E4%B8%8B%E9%99%8D%E6%B3%95/","excerpt":"","text":"æ”¹è¿›çš„æ¢¯åº¦ä¸‹é™æ³•1. æ‘˜è¦æ¢¯åº¦ä¸‹é™æ˜¯ç›®å‰æœ€æµè¡Œçš„ä¼˜åŒ–ç®—æ³•ä¹‹ä¸€ï¼Œä¹Ÿæ˜¯å½“ä¸‹Machine Learningå’Œ Deep Learningä¸­æœ€å¸¸ç”¨çš„ä¼˜åŒ–ç®—æ³•ã€‚ç›®å‰ï¼Œæ¯ä¸€ä¸ªæµè¡Œçš„æ·±åº¦å­¦ä¹ åº“éƒ½åŒ…å«æœ‰å…³æ¢¯åº¦ä¸‹é™çš„æ–¹æ³•ã€‚æ¢¯åº¦ä¸‹é™æ³•æ˜¯ä¸€ç§ä¸€é˜¶ä¼˜åŒ–ç®—æ³•ã€‚è¿™æ„å‘³ç€å®ƒåœ¨å¯¹å‚æ•°æ‰§è¡Œæ›´æ–°æ—¶åªè€ƒè™‘ä¸€é˜¶å¯¼æ•°ã€‚åœ¨æ¯æ¬¡è¿­ä»£ä¸­ï¼Œæ›´æ–°ä¸ç›®æ ‡å‡½æ•°*J(w)*çš„æ¢¯åº¦ç›¸åæ–¹å‘çš„å‚æ•°ï¼Œå…¶ä¸­æ¢¯åº¦ç»™å‡ºäº†æœ€é™¡ä¸Šå‡çš„æ–¹å‘ã€‚é€šè¿‡è®¾ç½®å›ºå®šçš„æ­¥é•¿ï¼ˆå³å­¦ä¹ ç‡ï¼‰ï¼Œä½¿å…¶æ²¿ç€æ¢¯åº¦æ–¹å‘ä¸‹é™ï¼Œç›´è‡³è¾¾åˆ°å±€éƒ¨æœ€å°å€¼ã€‚ç„¶è€Œï¼Œç”±äºå„ç§åŸå› ï¼Œæ¢¯åº¦ä¸‹é™æ³•å­˜åœ¨ä¸€å®šç¼ºé™·ï¼Œä½¿å…¶åœ¨æŸäº›åœºæ™¯ä¸‹æ— æ³•å…·æœ‰è¾ƒå¥½çš„è®¡ç®—æ•ˆç‡æˆ–å‡†ç¡®æ€§ã€‚é’ˆå¯¹è¿™äº›ç¼ºé™·ï¼Œè®¸å¤šç§‘å­¦å®¶æå‡ºäº†æ”¹è¿›æ–¹æ³•ï¼Œè®©æ”¹è¿›åçš„æ¢¯åº¦ä¸‹é™æ³•èƒ½å¤Ÿå…·æœ‰æ›´å¥½çš„ä¼˜åŒ–æ•ˆæœã€‚ 2. æœ€é€Ÿä¸‹é™æ³•åœ¨ä»‹ç»æ”¹è¿›çš„æ¢¯åº¦ä¸‹é™æ³•ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆå›é¡¾æœ€åŸºæœ¬çš„æœ€é€Ÿä¸‹é™æ³•ï¼Œè¿™æœ‰åŠ©äºä½¿æˆ‘ä»¬ç†è§£å®ƒçš„ç¼ºé™·ä»¥åŠæ”¹è¿›çš„è§’åº¦ã€‚ 2.1 åŸç† å¦‚æœå‡½æ•° F(x) åœ¨ç‚¹ a å¤„å¯å¾®ä¸”æœ‰å®šä¹‰ï¼Œé‚£ä¹ˆå‡½æ•° F(x) åœ¨ a æ²¿ç€ä¸æ¢¯åº¦ç›¸åçš„æ–¹å‘ -â–½F(a) ä¸‹é™æœ€å¤šã€‚å› æ­¤ï¼Œå¦‚æœå¯¹äº Î³ &gt; 0 åœ¨ä¸€ä¸ªæå°å€¼æ—¶æˆç«‹ï¼Œé‚£ä¹ˆ$${ \\displaystyle F(\\mathbf {a} )\\geq F(\\mathbf {b} ) }$$è€ƒè™‘åˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥ä»å‡½æ•° F çš„å±€éƒ¨æå°å€¼çš„åˆå§‹ä¼°è®¡å‡ºx0å‘ï¼Œå¹¶è€ƒè™‘å¦‚ä¸‹åºåˆ—x0, x1, x2â€¦.ä½¿$${ {x}_{n+1}={x}_n-\\gamma_n \\nabla F({x}_n),\\ n \\ge 0 }$$ å› æ­¤å¯å¾—åˆ° $$F( {f {x} } _ {0}\\geq F( {f {x} } _ {1})\\geq F({f {x} } _ {2})\\geq â€¦.$$ å¦‚æœé¡ºåˆ©çš„è¯åºåˆ— Xn æ”¶æ•›åˆ°æœŸæœ›çš„å±€éƒ¨æå°å€¼ã€‚ä¸Šæ–¹çš„å›¾ç‰‡å±•ç¤ºäº†è¿™ä¸€è¿‡ç¨‹ã€‚ 2.2 ä»£ç å®ç°class BatchGradientDescent: def __init__(self, eta=0.01, n_iter=1000, tolerance=0.001): self.eta = eta self.n_iter = n_iter self.tolerance = tolerance def fit(self, X, y): n_samples = len(X) X = np.c_[np.ones(n_samples), X] # å¢åŠ æˆªè·é¡¹ n_features = X.shape[-1] self.theta = np.ones(n_features) self.loss_ = [0] self.i = 0 while self.i &lt; self.n_iter: self.i += 1 errors = X.dot(self.theta) - y loss = 1 / (2 * n_samples) * errors.dot(errors) delta_loss = loss - self.loss_[-1] self.loss_.append(loss) if np.abs(delta_loss) &lt; self.tolerance: break else: gradient = 1 / n_samples * X.T.dot(errors) self.theta -= self.eta * gradient return self 3. æ”¹è¿›çš„æ¢¯åº¦ä¸‹é™æ³•è™½ç„¶æœ€é€Ÿä¸‹é™æ³•åœ¨æœ€ä¼˜åŒ–ä¸Šæœ‰ä¸€å®šçš„æˆæ•ˆï¼Œä½†æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œè¿™ä¸€æ–¹æ³•æ”¶æ•›é€Ÿåº¦ç¼“æ…¢ã€‚ä¸”ä½¿ç”¨å›ºå®šçš„å­¦ä¹ ç‡ï¼Œåœ¨é¢å¯¹ç›¸å¯¹ç¨€ç–çš„æ•°æ®æ—¶ï¼Œå¹¶ä¸å…·æœ‰è¾ƒå¥½çš„æ•ˆæœã€‚é¢å¯¹è¿™äº›é—®é¢˜ï¼Œæ›´å¤šæ”¹è¿›çš„æ¢¯åº¦ä¸‹é™æ³•è¢«æå‡ºã€‚å…¶ä¸­å…·æœ‰ä»£è¡¨æ€§çš„æœ‰MomentumåŠ¨é‡æ³•ï¼ŒNAGï¼ŒAdagradï¼ŒRMSPropï¼ŒAdamå’ŒNadamã€‚åœ¨è¿™é‡Œï¼Œæˆ‘å°†é€ä¸€ä»‹ç»è¿™äº›æ–¹æ³•ï¼Œè§£é‡Šä»–ä»¬çš„åŸç†ï¼Œå¹¶ç»™å‡ºç›¸åº”çš„Pythonä»£ç å®ç°ã€‚ 3. 1 MomentumåŠ¨é‡æ³•3.1.1 åŸç†å¦‚æœæŠŠæ¢¯åº¦ä¸‹é™æ³•æƒ³è±¡æˆä¸€ä¸ªå°çƒä»å±±å¡åˆ°å±±è°·çš„è¿‡ç¨‹ï¼Œé‚£ä¹ˆæ¢¯åº¦ä¸‹é™æ³•çš„å°çƒæ˜¯è¿™æ ·ç§»åŠ¨çš„ï¼šä»Aç‚¹å¼€å§‹ï¼Œè®¡ç®—å½“å‰Aç‚¹çš„å¡åº¦ï¼Œæ²¿ç€å¡åº¦æœ€å¤§çš„æ–¹å‘èµ°ä¸€æ®µè·¯ï¼Œåœä¸‹åˆ°Bã€‚åœ¨Bç‚¹å†çœ‹ä¸€çœ‹å‘¨å›´å¡åº¦æœ€å¤§çš„åœ°æ–¹ï¼Œæ²¿ç€è¿™ä¸ªå¡åº¦æ–¹å‘èµ°ä¸€æ®µè·¯ï¼Œå†åœä¸‹ã€‚ç¡®åˆ‡çš„æ¥è¯´ï¼Œè¿™å¹¶ä¸åƒä¸€ä¸ªçƒï¼Œæ›´åƒæ˜¯ä¸€ä¸ªæ­£åœ¨ä¸‹å±±çš„ç›²äººï¼Œæ¯èµ°ä¸€æ­¥éƒ½è¦åœä¸‹æ¥ï¼Œç”¨æ‹æ–æ¥æ¥æ¢æ¢å››å‘¨çš„è·¯ï¼Œå†èµ°ä¸€æ­¥åœä¸‹æ¥ï¼Œå‘¨è€Œå¤å§‹ï¼Œç›´åˆ°èµ°åˆ°å±±è°·ã€‚è€Œä¸€ä¸ªçœŸæ­£çš„å°çƒè¦æ¯”è¿™èªæ˜å¤šäº†ï¼Œä»Aç‚¹æ»šåŠ¨åˆ°Bç‚¹çš„æ—¶å€™ï¼Œå°çƒå¸¦æœ‰ä¸€å®šçš„åˆé€Ÿåº¦ï¼Œåœ¨å½“å‰åˆé€Ÿåº¦ä¸‹ç»§ç»­åŠ é€Ÿä¸‹é™ï¼Œå°çƒä¼šè¶Šæ»šè¶Šå¿«ï¼Œæ›´å¿«çš„å¥”å‘è°·åº•ã€‚momentum åŠ¨é‡æ³•å°±æ˜¯æ¨¡æ‹Ÿè¿™ä¸€è¿‡ç¨‹æ¥åŠ é€Ÿç¥ç»ç½‘ç»œçš„ä¼˜åŒ–çš„ã€‚ å›é¡¾ä¸€ä¸‹æ¢¯åº¦ä¸‹é™æ³•æ¯æ¬¡çš„å‚æ•°æ›´æ–°å…¬å¼ï¼š$${W:=Wâˆ’Î±âˆ‡W}\\ {b : = b âˆ’ Î± âˆ‡ b}$$å¯ä»¥çœ‹åˆ°ï¼Œæ¯æ¬¡æ›´æ–°ä»…ä¸å½“å‰æ¢¯åº¦å€¼ç›¸å…³ï¼Œå¹¶ä¸æ¶‰åŠä¹‹å‰çš„æ¢¯åº¦ã€‚è€ŒåŠ¨é‡æ¢¯åº¦ä¸‹é™æ³•åˆ™å¯¹å„ä¸ªmini-batchæ±‚å¾—çš„æ¢¯åº¦â–½w, â–½bä½¿ç”¨æŒ‡æ•°åŠ æƒå¹³å‡å¾—åˆ° V_â–½wï¼ŒV_ â–½bï¼Œå¹¶ä½¿ç”¨æ–°çš„å‚æ•°æ›´æ–°ä¹‹å‰çš„å‚æ•°ä¾‹å¦‚ï¼Œåœ¨100æ¬¡æ¢¯åº¦ä¸‹é™ä¸­æ±‚å¾—çš„æ¢¯åº¦åºåˆ—ä¸º:$${ âˆ‡ W 1 , âˆ‡ W 2 , âˆ‡ W 3 . . . . . . . . . âˆ‡ W 99 , âˆ‡ W 100 }$$åˆ™å…¶å¯¹åº”çš„åŠ¨é‡æ¢¯åº¦åˆ†åˆ«ä¸ºï¼š$$V_{\\nabla W_0} = 0$$ $$V_{\\nabla W_1} = \\beta V_{\\nabla W_0} + (1-\\beta)\\nabla W_1$$ $$V_{\\nabla W_2} = \\beta V_{\\nabla W_1} + (1-\\beta)\\nabla W_2$$ $$. .\\.\\. .\\.\\. .\\.\\$$ $$V_{\\nabla W_{100}} = \\beta V_{\\nabla W_{99}} + (1-\\beta)\\nabla W_{100}$$ ä½¿ç”¨æŒ‡æ•°åŠ æƒå¹³å‡ä¹‹åæ¢¯åº¦ä»£æ›¿åŸæ¢¯åº¦è¿›è¡Œå‚æ•°æ›´æ–°ã€‚å› ä¸ºæ¯ä¸ªæŒ‡æ•°åŠ æƒå¹³å‡åçš„æ¢¯åº¦å«æœ‰ä¹‹å‰æ¢¯åº¦çš„ä¿¡æ¯ï¼ŒåŠ¨é‡æ¢¯åº¦ä¸‹é™æ³•å› æ­¤å¾—åã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°MomentumåŠ¨é‡æ³•çš„å…¬å¼ï¼š$$V_{dW} = \\beta V_{dW} + (1-\\beta) dW\\V_{db} = \\beta V_{db} + (1 - \\beta) db$$ 3.1.2 ä¼˜ç‚¹ ä¸Šå›¾å±•ç¤ºäº†MomentumåŠ¨é‡æ³•çš„SGDå’Œæ²¡æœ‰é‡‡ç”¨Momentumæ³•çš„SGDçš„å¯¹æ¯”ï¼Œå³å›¾ä¸ºé‡‡ç”¨Momentumæ³•çš„ç»“æœã€‚ é€šè¿‡è¿™ä¸€å›¾ç‰‡ï¼Œæˆ‘ä»¬å¯ä»¥æ˜æ˜¾æ„Ÿå—åˆ°MomentumåŠ¨é‡æ³•çš„ä¼˜ç‚¹ã€‚åŠ¨é‡æ³•é€šè¿‡ç”¨è¿‡å»æ¢¯åº¦çš„å¹³å‡å€¼æ¥æ›¿æ¢æ¢¯åº¦ï¼Œå‡å°‘äº†éœ‡è¡å¹¶å¤§å¤§åŠ å¿«äº†æ”¶æ•›é€Ÿåº¦ 3.1.3 ä»£ç å®ç°class MomentumGradientDescent(MiniBatchGradientDescent): def __init__(self, gamma=0.9, **kwargs): self.gamma = gamma # å½“gamma=0æ—¶ï¼Œç›¸å½“äºå°æ‰¹é‡éšæœºæ¢¯åº¦ä¸‹é™ super(MomentumGradientDescent, self).__init__(**kwargs) def fit(self, X, y): X = np.c_[np.ones(len(X)), X] n_samples, n_features = X.shape self.theta = np.ones(n_features) self.velocity = np.zeros_like(self.theta) self.loss_ = [0] self.i = 0 while self.i &lt; self.n_iter: self.i += 1 if self.shuffle: X, y = self._shuffle(X, y) errors = [] for j in range(0, n_samples, self.batch_size): mini_X, mini_y = X[j: j + self.batch_size], y[j: j + self.batch_size] error = mini_X.dot(self.theta) - mini_y errors.append(error.dot(error)) mini_gradient = 1 / self.batch_size * mini_X.T.dot(error) self.velocity = self.velocity * self.gamma + self.eta * mini_gradient self.theta -= self.velocity loss = 1 / (2 * self.batch_size) * np.mean(errors) delta_loss = loss - self.loss_[-1] self.loss_.append(loss) if np.abs(delta_loss) &lt; self.tolerance: break return self 3.2 NAG3.2.1 åŸç†NAGçš„å…¨ç§°æ˜¯Nesterov Accelerated Gradientã€‚NAGä¸MomentumåŠ¨é‡æ³•çš„æ–¹æ³•éå¸¸ç›¸ä¼¼ï¼ŒäºŒè€…çš„å·®å¼‚ä¸»è¦åœ¨äºè®¡ç®—æ¢¯åº¦æ—¶æ‰€ç”¨çš„å‚æ•°ï¼Œä¸€ä¸ªæ˜¯çº¯ç²¹çš„Î¸ï¼Œä¸€ä¸ªæ˜¯ç»è¿‡é€Ÿåº¦è°ƒæ•´åçš„~Î¸ã€‚ä¸ºäº†ä¾¿äºç†è§£å…¶å†…åœ¨çš„å·®å¼‚ï¼Œå¯ä»¥è¿™æ ·æƒ³è±¡äºŒè€…çš„ä½œç”¨æœºåˆ¶ï¼šåŠ¨é‡æ¢¯åº¦ä¸‹é™æ˜¯åˆ©ç”¨å†å²æƒ…å†µå¯¹å½“å‰çŠ¶æ€è¿›è¡Œçº åï¼Œé˜²æ­¢è¿‡åº¦ååº”ï¼›è€ŒNesterovåŠ é€Ÿä¸‹é™åˆ™ä¾èµ–äºå…ˆè§ä¹‹æ˜ï¼Œå¯¹æœªæ¥çš„èµ°åŠ¿è¿›è¡Œé¢„åˆ¤ï¼Œåœ¨äº‹æƒ…å‘ç”Ÿå‰ä¾¿è¿›è¡Œäº†å†…éƒ¨è°ƒæ•´ï¼Œé¿å…å‡ºç°æç«¯æƒ…å†µã€‚å†ç»™ä¸ªä¸å¤ªæ°å½“çš„æ¯”å–»ï¼ŒMomentumæ˜¯äº¡ç¾Šè¡¥ç‰¢ï¼ŒNesterovæ˜¯æœªé›¨ç»¸ç¼ªã€‚ NesterovåŠ é€Ÿæ¢¯åº¦ä¸‹é™ç›¸æ¯”äºåŠ¨é‡æ¢¯åº¦ä¸‹é™çš„åŒºåˆ«æ˜¯ï¼Œé€šè¿‡ä½¿ç”¨æœªæ¥æ¢¯åº¦æ¥æ›´æ–°åŠ¨é‡ã€‚å³å°†ä¸‹ä¸€æ¬¡çš„é¢„æµ‹æ¢¯åº¦$$\\nabla_\\theta J(\\theta-\\eta\\cdot m)$$è€ƒè™‘è¿›æ¥ã€‚å…¶æ›´æ–°å…¬å¼å¦‚ä¸‹ï¼š$$\\gamma\\cdot m+\\eta\\cdot\\nabla_\\theta J(\\theta-\\gamma\\cdot m)$$ $$\\theta := \\theta - m$$ å¯¹äºèµ·å§‹ç‚¹åº”ç”¨åŠ¨é‡æ¢¯åº¦ä¸‹é™ï¼Œé¦–å…ˆæ±‚å¾—åœ¨è¯¥ç‚¹å¤„çš„å¸¦æƒæ¢¯åº¦Î·*â–½1 ï¼Œé€šè¿‡ä¸ä¹‹å‰åŠ¨é‡ Î³*mçŸ¢é‡åŠ æƒï¼Œæ±‚å¾—ä¸‹ä¸€æ¬¡çš„Î¸ä½ç½®ã€‚å¯¹äºèµ·å§‹ç‚¹åº”ç”¨NesterovåŠ é€Ÿæ¢¯åº¦ä¸‹é™ï¼Œé¦–å…ˆé€šè¿‡å…ˆå‰åŠ¨é‡æ±‚å¾—çš„é¢„æµ‹Î¸ä½ç½®ï¼Œå†åŠ ä¸Šé¢„æµ‹ä½ç½®çš„å¸¦æƒæ¢¯åº¦ Î³*m 3.2.2 ä¼˜ç‚¹ ç›¸å¯¹äºåŠ¨é‡æ¢¯åº¦ä¸‹é™æ³•ï¼Œå› ä¸ºNAGè€ƒè™‘åˆ°äº†æœªæ¥é¢„æµ‹æ¢¯åº¦ï¼Œæ”¶æ•›é€Ÿåº¦æ›´å¿«ã€‚å¹¶ä¸”å½“æ›´æ–°å¹…åº¦å¾ˆå¤§æ—¶ï¼ŒNAGå¯ä»¥æŠ‘åˆ¶éœ‡è¡ã€‚ä¾‹å¦‚èµ·å§‹ç‚¹åœ¨æœ€ä¼˜ç‚¹çš„å·¦ä¾§ï¼Œ Î³*m å¯¹åº”çš„å€¼åœ¨æœ€ä¼˜ç‚¹çš„å³ä¾§ï¼Œå¯¹äºåŠ¨é‡æ¢¯åº¦è€Œè¨€ï¼Œå åŠ  Î·*â–½1ä½¿å¾—è¿­ä»£åçš„ç‚¹æ›´åŠ è¿œç¦»æœ€ä¼˜ç‚¹ã€‚è€ŒNAGé¦–å…ˆè·³åˆ° Î³*må¯¹åº”çš„å€¼ï¼Œè®¡ç®—æ¢¯åº¦ä¸ºæ­£ï¼Œå†å åŠ åæ–¹å‘çš„ Î·*â–½2 ï¼Œä»è€Œè¾¾åˆ°æŠ‘åˆ¶éœ‡è¡çš„ç›®çš„ã€‚ 3.2.3 ä»£ç å®ç°class NesterovAccelerateGradient(MomentumGradientDescent): def __init__(self, **kwargs): super(NesterovAccelerateGradient, self).__init__(**kwargs) def fit(self, X, y): X = np.c_[np.ones(len(X)), X] n_samples, n_features = X.shape self.theta = np.ones(n_features) self.velocity = np.zeros_like(self.theta) self.loss_ = [0] self.i = 0 while self.i &lt; self.n_iter: self.i += 1 if self.shuffle: X, y = self._shuffle(X, y) errors = [] for j in range(0, n_samples, self.batch_size): mini_X, mini_y = X[j: j + self.batch_size], y[j: j + self.batch_size] error = mini_X.dot(self.theta - self.gamma * self.velocity) - mini_y errors.append(error.dot(error)) mini_gradient = 1 / self.batch_size * mini_X.T.dot(error) self.velocity = self.velocity * self.gamma + self.eta * mini_gradient self.theta -= self.velocity loss = 1 / (2 * self.batch_size) * np.mean(errors) delta_loss = loss - self.loss_[-1] self.loss_.append(loss) if np.abs(delta_loss) &lt; self.tolerance: break return self 3.3 Adagrad3.3.1 åŸç†æˆ‘ä»¬çŸ¥é“ï¼Œè¶…å‚æ•°ä¸€ç›´ä»¥æ¥éƒ½æ˜¯æ˜¯å›°æ‰°ç¥ç»ç½‘ç»œè®­ç»ƒçš„é—®é¢˜ä¹‹ä¸€ï¼Œå› ä¸ºè¿™äº›å‚æ•°ä¸å¯é€šè¿‡å¸¸è§„æ–¹æ³•å­¦ä¹ è·å¾—ã€‚è€ŒAdagradå°±æ˜¯é€šè¿‡è‡ªé€‚åº”è°ƒæ•´å­¦ä¹ ç‡çš„æ–¹å¼ï¼Œæ¥å®ç°å¯¹æ¢¯åº¦ä¸‹é™æ³•çš„ä¼˜åŒ–ã€‚Adagradçš„å…¨ç§°æ˜¯Adaptive Gradient Descentï¼Œå³è‡ªé€‚åº”çš„æ¢¯åº¦ä¸‹é™ã€‚ åœ¨ä¼ ç»Ÿçš„æ–¹æ³•ä¸­ï¼Œå¯¹äºæ¯ä¸€ä¸ªå‚æ•° Î¸ çš„è®­ç»ƒéƒ½ä½¿ç”¨äº†ç›¸åŒçš„å­¦ä¹ ç‡Î±ã€‚Adagradèƒ½å¤Ÿåœ¨è®­ç»ƒä¸­è‡ªåŠ¨çš„å¯¹å­¦ä¹ ç‡è¿›è¡Œè°ƒæ•´ï¼Œå¯¹äºå‡ºç°é¢‘ç‡è¾ƒä½å‚æ•°é‡‡ç”¨è¾ƒå¤§çš„Î±æ›´æ–°ï¼›ç›¸åï¼Œå¯¹äºå‡ºç°é¢‘ç‡è¾ƒé«˜çš„å‚æ•°é‡‡ç”¨è¾ƒå°çš„Î±æ›´æ–°ã€‚å…·ä½“æ¥è¯´ï¼Œæ¯ä¸ªå‚æ•°çš„å­¦ä¹ ç‡ä¼šç¼©æ”¾å„å‚æ•°åæ¯”äºå…¶å†å²æ¢¯åº¦å¹³æ–¹å€¼æ€»å’Œçš„å¹³æ–¹æ ¹ã€‚å› æ­¤ï¼ŒAdagradéå¸¸é€‚åˆå¤„ç†ç¨€ç–æ•°æ®ã€‚ Adagradåœ¨æ¯è½®è®­ç»ƒä¸­å¯¹æ¯ä¸ªå‚æ•° Î¸i çš„å­¦ä¹ ç‡è¿›è¡Œæ›´æ–°ï¼Œå‚æ•°æ›´æ–°å…¬å¼å¦‚ä¸‹ï¼š $$\\Theta_{t+1,i} =\\Theta_{t,i}- \\frac{\\alpha}{\\sqrt{G_{t,ii}+\\epsilon }}\\cdot g_{t,i}$$å…¶ä¸­ Gt ä¸ºå¯¹è§’çŸ©é˜µï¼Œæ¯ä¸ªå¯¹è§’çº¿ä½ç½® i, i ä¸ºå¯¹åº”å‚æ•°Î¸ä»ç¬¬1è½®åˆ°ç¬¬tè½®æ¢¯åº¦çš„å¹³æ–¹å’Œã€‚Ïµæ˜¯å¹³æ»‘é¡¹ï¼Œç”¨äºé¿å…åˆ†æ¯ä¸º0ï¼Œä¸€èˆ¬å–å€¼1eâˆ’8$$G _ {j,j}=\\sum _ { \\tau =1 } ^ { t } g _ {\\tau ,j }^{2 }$$ 3.3.2 ä¼˜ç‚¹ æ— éœ€æ‰‹åŠ¨è°ƒèŠ‚å­¦ä¹ ç‡ï¼Œé€šè¿‡è‡ªé€‚åº”è°ƒæ•´å­¦ä¹ ç‡ï¼ŒAdamgradåœ¨å¤„ç†ç¨€ç–æ•°æ®æ—¶å…·æœ‰ä¼˜åŠ¿ã€‚ 3.3.3 ä»£ç å®ç°class AdaptiveGradientDescent(MiniBatchGradientDescent): def __init__(self, epsilon=1e-6, **kwargs): self.epsilon = epsilon super(AdaptiveGradientDescent, self).__init__(**kwargs) def fit(self, X, y): X = np.c_[np.ones(len(X)), X] n_samples, n_features = X.shape self.theta = np.ones(n_features) self.loss_ = [0] gradient_sum = np.zeros(n_features) self.i = 0 while self.i &lt; self.n_iter: self.i += 1 if self.shuffle: X, y = self._shuffle(X, y) errors = [] for j in range(0, n_samples, self.batch_size): mini_X, mini_y = X[j: j + self.batch_size], y[j: j + self.batch_size] error = mini_X.dot(self.theta) - mini_y errors.append(error.dot(error)) mini_gradient = 1 / self.batch_size * mini_X.T.dot(error) gradient_sum += mini_gradient ** 2 adj_gradient = mini_gradient / (np.sqrt(gradient_sum + self.epsilon)) self.theta -= self.eta * adj_gradient loss = 1 / (2 * self.batch_size) * np.mean(errors) delta_loss = loss - self.loss_[-1] self.loss_.append(loss) if np.abs(delta_loss) &lt; self.tolerance: break return self 3.4 RMSProp3.4.1 åŸç†Adagradå­˜åœ¨ä¸€ä¸ªç¼ºç‚¹ï¼Œåœ¨è®­ç»ƒçš„ä¸­åæœŸï¼Œåˆ†æ¯ä¸Šæ¢¯åº¦å¹³æ–¹çš„ç´¯åŠ å°†ä¼šè¶Šæ¥è¶Šå¤§ï¼Œä»è€Œæ¢¯åº¦è¶‹è¿‘äº0ï¼Œä½¿å¾—è®­ç»ƒæå‰ç»“æŸã€‚é’ˆå¯¹è¿™ä¸ªç¼ºç‚¹ï¼ŒGeoff Hinton æå‡ºäº†è‡ªé€‚åº”å­¦ä¹ ç‡æ–¹æ³•â€”â€”RMSPropã€‚RMSdropçš„å…¨ç§°æ˜¯Root mean square propï¼ŒAdagradä¼šç´¯åŠ ä¹‹å‰æ‰€æœ‰çš„æ¢¯åº¦å¹³æ–¹ï¼Œè€ŒRMSPropé‡‡ç”¨äº†å¯¹å†å²æ¢¯åº¦çš„å¹³æ–¹å’Œè¿›è¡ŒæŒ‡æ•°åŠ æƒç§»åŠ¨ï¼Œæ¥å‡ç¼“æ¢¯åº¦çš„ç´¯ç§¯æ•ˆåº”ï¼Œå› æ­¤å¯ç¼“è§£Adagradç®—æ³•å­¦ä¹ ç‡ä¸‹é™è¾ƒå¿«çš„é—®é¢˜ã€‚ é¦–å…ˆï¼Œæ ¹æ®å‡æ–¹è®¡ç®—å¹³å‡$$E[g^2]_t=0.9E[g^2]_tâˆ’1+0.1g^2_t$$ å…¬å¼ä¸º$$\\Theta _ {t+1} =\\Theta _ {t}- \\frac{\\alpha} {\\sqrt{E[g^2] _ t+\\epsilon } }\\cdot g _ {t}$$ 3.4.2 ä¼˜ç‚¹ RMSPropé‡‡ç”¨å®Œå…¨è‡ªé€‚åº”å…¨å±€å­¦ä¹ ç‡ï¼Œæœ‰åˆ©äºæ¶ˆé™¤äº†æ‘†åŠ¨å¹…åº¦å¤§çš„æ–¹å‘ï¼Œç”¨æ¥ä¿®æ­£æ‘†åŠ¨å¹…åº¦ï¼Œä½¿å¾—å„ä¸ªç»´åº¦çš„æ‘†åŠ¨å¹…åº¦éƒ½è¾ƒå°ã€‚å¦ä¸€æ–¹é¢ä½¿ç®—æ³•å…·æœ‰æ›´å¥½çš„åŠ é€Ÿæ•ˆæœï¼ŒåŠ å¿«äº†æ”¶æ•›é€Ÿåº¦ã€‚ 3.4.3 ä»£ç å®ç°class RMSProp(MiniBatchGradientDescent): def __init__(self, gamma=0.9, epsilon=1e-6, **kwargs): self.gamma = gamma self.epsilon = epsilon super(RMSProp, self).__init__(**kwargs) def fit(self, X, y): X = np.c_[np.ones(len(X)), X] n_samples, n_features = X.shape self.theta = np.ones(n_features) self.loss_ = [0] gradient_exp = np.zeros(n_features) self.i = 0 while self.i &lt; self.n_iter: self.i += 1 if self.shuffle: X, y = self._shuffle(X, y) errors = [] for j in range(0, n_samples, self.batch_size): mini_X, mini_y = X[j: j + self.batch_size], y[j: j + self.batch_size] error = mini_X.dot(self.theta) - mini_y errors.append(error.dot(error)) mini_gradient = 1 / self.batch_size * mini_X.T.dot(error) gradient_exp = self.gamma * gradient_exp + (1 - self.gamma) * mini_gradient ** 2 gradient_rms = np.sqrt(gradient_exp + self.epsilon) self.theta -= self.eta / gradient_rms * mini_gradient loss = 1 / (2 * self.batch_size) * np.mean(errors) delta_loss = loss - self.loss_[-1] self.loss_.append(loss) if np.abs(delta_loss) &lt; self.tolerance: break return self 3.5 Adam3.5.1 åŸç†åœ¨ä¸Šæ–‡æˆ‘ä»¬æœ‰æåˆ°MomentumåŠ¨é‡æ³•å’ŒRMSPropä¸¤ç§æ–¹æ³•ï¼Œä¸€ç§ä½¿ç”¨ç±»ä¼¼äºç‰©ç†ä¸­çš„åŠ¨é‡æ¥ç´¯ç§¯æ¢¯åº¦ï¼Œå¦ä¸€ç§ä½¿å¾—æ”¶æ•›é€Ÿåº¦æ›´å¿«åŒæ—¶ä½¿å¾—æ³¢åŠ¨çš„å¹…åº¦æ›´å°ã€‚é‚£ä¹ˆå°†ä¸¤ç§ç®—æ³•ç»“åˆèµ·æ¥æ‰€å–å¾—çš„è¡¨ç°ä¸€å®šä¼šæ›´å¥½ã€‚å› æ­¤ï¼ŒAdamç®—æ³•è¢«æå‡ºã€‚Adamçš„å…¨ç§°æ˜¯ Adaptive Moment Estimation ï¼Œå®ƒå°†Momentumç®—æ³•å’ŒRMSPropç®—æ³•ç›¸ç»“åˆã€‚ Adamåˆ©ç”¨æ¢¯åº¦çš„ä¸€é˜¶çŸ©ä¼°è®¡å’ŒäºŒé˜¶çŸ©ä¼°è®¡åŠ¨æ€è°ƒæ•´æ¯ä¸ªå‚æ•°çš„å­¦ä¹ ç‡ã€‚å®ƒçš„å…¬å¼å¦‚ä¸‹$${m_t=\\beta_1 m_{t-1}+(1-\\beta_1)g_t}$$ $${v_t=\\beta_2v_{t-1}+(1-\\beta_2)g_t^2}$$ $${\\hat{m}_t=\\frac{m_t}{1-\\beta_1^t}}$$ $${\\hat{v}_t=\\frac{v_t}{1-\\beta_2^t}}\\$$ $${\\Theta_{t+1} =\\Theta_{t}- \\frac{\\alpha}{\\sqrt{\\hat{v}_t }+\\epsilon }\\hat{m}_t}$$ å…¶ä¸­ï¼ŒMt ï¼ŒVt åˆ†åˆ«æ˜¯å¯¹æ¢¯åº¦çš„ä¸€é˜¶çŸ©ä¼°è®¡å’ŒäºŒé˜¶çŸ©ä¼°è®¡ï¼Œå¯ä»¥çœ‹ä½œå¯¹æœŸæœ› E[gt], E[gt^2] çš„è¿‘ä¼¼ï¼›Mt_hat, Vt_hatæ˜¯å¯¹ Mt, Vt çš„æ ¡æ­£ï¼Œè¿™æ ·å¯ä»¥è¿‘ä¼¼ä¸ºå¯¹æœŸæœ›çš„æ— åä¼°è®¡ã€‚ Adamç®—æ³•çš„æå‡ºè€…å»ºè®® Î²1 çš„é»˜è®¤å€¼ä¸º0.9ï¼ŒÎ²2 çš„é»˜è®¤å€¼ä¸º 0.999ï¼Œepsilon é»˜è®¤ä¸º 1e-8 Adamç›¸å¯¹äºRMSPropæ–°å¢äº†ä¸¤å¤„æ”¹åŠ¨ã€‚å…¶ä¸€ï¼ŒAdamä½¿ç”¨ç»è¿‡æŒ‡æ•°ç§»åŠ¨åŠ æƒå¹³å‡çš„æ¢¯åº¦å€¼æ¥æ›¿æ¢åŸå§‹çš„æ¢¯åº¦å€¼ï¼›å…¶äºŒï¼ŒAdamå¯¹ç»æŒ‡æ•°åŠ æƒåçš„æ¢¯åº¦å€¼ Mt å’Œå¹³æ–¹æ¢¯åº¦å€¼ éƒ½ Vt è¿›è¡Œäº†ä¿®æ­£ï¼Œäº¦å³åå·®ä¿®æ­£ã€‚ 3.5.2 ä¼˜ç‚¹ Adamé€šè¿‡ç»“åˆMomentumåŠ¨é‡æ³•å’ŒRMSPorpæ³•ï¼Œåœ¨ä¼˜åŒ–é—®é¢˜ä¸Šå…·æœ‰ä¼˜ç§€çš„æ€§èƒ½ã€‚å®ƒå…·å¤‡é«˜æ•ˆçš„è®¡ç®—ï¼Œæ›´å°‘çš„å†…å­˜éœ€æ±‚ï¼Œä¸”åœ¨é¢å¯¹ç¨€ç–æ•°æ®æ—¶ä¹Ÿèƒ½å–å¾—è¾ƒå¥½çš„æ•ˆæœã€‚Adamå¯¹ç›®æ ‡å‡½æ•°æ²¡æœ‰å¹³ç¨³è¦æ±‚ï¼Œå³loss functionå¯ä»¥éšç€æ—¶é—´å˜åŒ–ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒAdamèƒ½è¾ƒå¥½çš„å¤„ç†å™ªéŸ³æ ·æœ¬ï¼Œå¹¶ä¸”å¤©ç„¶å…·æœ‰é€€ç«æ•ˆæœ 3.5.3 ä»£ç å®ç°class AdaptiveMomentEstimation(MiniBatchGradientDescent): def __init__(self, beta_1=0.9, beta_2=0.999, epsilon=1e-6, **kwargs): self.beta_1 = beta_1 self.beta_2 = beta_2 self.epsilon = epsilon super(AdaptiveMomentEstimation, self).__init__(**kwargs) def fit(self, X, y): X = np.c_[np.ones(len(X)), X] n_samples, n_features = X.shape self.theta = np.ones(n_features) self.loss_ = [0] m_t = np.zeros(n_features) v_t = np.zeros(n_features) self.i = 0 while self.i &lt; self.n_iter: self.i += 1 if self.shuffle: X, y = self._shuffle(X, y) errors = [] for j in range(0, n_samples, self.batch_size): mini_X, mini_y = X[j: j + self.batch_size], y[j: j + self.batch_size] error = mini_X.dot(self.theta) - mini_y errors.append(error.dot(error)) mini_gradient = 1 / self.batch_size * mini_X.T.dot(error) m_t = self.beta_1 * m_t + (1 - self.beta_1) * mini_gradient v_t = self.beta_2 * v_t + (1 - self.beta_2) * mini_gradient ** 2 m_t_hat = m_t / (1 - self.beta_1 ** self.i) # correction v_t_hat = v_t / (1 - self.beta_2 ** self.i) self.theta -= self.eta / (np.sqrt(v_t_hat) + self.epsilon) * m_t_hat loss = 1 / (2 * self.batch_size) * np.mean(errors) delta_loss = loss - self.loss_[-1] self.loss_.append(loss) if np.abs(delta_loss) &lt; self.tolerance: break return self 3.6 Nadam3.6.1 åŸç†Adamé€šè¿‡ç»“åˆMomentumå’ŒRMSPropè·å¾—äº†ä¼˜ç§€çš„ä¼˜åŒ–æ•ˆæœï¼Œæˆä¸ºäº†å½“ä¸‹æœ€æµè¡Œçš„æ¢¯åº¦ä¸‹é™æ³•ä¹‹ä¸€ã€‚è€Œå—æ­¤å¯å‘ï¼Œåœ¨Adamçš„åŸºç¡€ä¸Šï¼ŒåŠ å…¥ä¸€é˜¶åŠ¨é‡çš„ç§¯ç´¯ï¼Œå³ç»“åˆNAGå’ŒAdamï¼Œä¸€ç§æ–°çš„æ¢¯åº¦ä¸‹é™ç®—æ³•â€”â€”Nadamè¯ç”Ÿäº†ã€‚ å®ƒçš„å…¬å¼å¦‚ä¸‹$$\\theta_{t+1} = \\theta_{t} - \\frac{\\eta}{\\sqrt{\\hat{v_t}}+\\epsilon}(\\beta_1\\hat{m_t}+\\frac{(1-\\beta_1)g_t}{1-\\beta^t_1})$$å¯ä»¥çœ‹å‡ºï¼ŒNadamå¯¹å­¦ä¹ ç‡æœ‰äº†æ›´å¼ºçš„çº¦æŸï¼ŒåŒæ—¶å¯¹æ¢¯åº¦çš„æ›´æ–°ä¹Ÿæœ‰æ›´ç›´æ¥çš„å½±å“ã€‚ä¸€èˆ¬è€Œè¨€ï¼Œåœ¨æƒ³ä½¿ç”¨å¸¦åŠ¨é‡çš„RMSpropï¼Œæˆ–è€…Adamçš„åœ°æ–¹ï¼Œå¤§å¤šå¯ä»¥ä½¿ç”¨Nadamå–å¾—æ›´å¥½çš„æ•ˆæœã€‚ 3.6.2 ä¼˜ç‚¹ é€šè¿‡åŠ å…¥ä¸€é˜¶åŠ¨é‡çš„ç§¯ç´¯ï¼ŒNadamå¯¹å­¦ä¹ ç‡æœ‰äº†æ›´å¼ºçš„çº¦æŸ,åŒæ—¶å¯¹æ¢¯åº¦çš„æ›´æ–°ä¹Ÿæœ‰æ›´ç›´æ¥çš„å½±å“ã€‚ä¸€èˆ¬è€Œè¨€,åœ¨æƒ³ä½¿ç”¨å¸¦åŠ¨é‡çš„RMSpropæˆ–è€…Adamçš„åœ°æ–¹,å¤§å¤šå¯ä»¥ä½¿ç”¨Nadamå–å¾—æ›´å¥½çš„æ•ˆæœã€‚ 3.6.3 ä»£ç å®ç°class Nadam(AdaptiveMomentEstimation): def __init__(self, **kwargs): super(Nadam, self).__init__(**kwargs) def fit(self, X, y): X = np.c_[np.ones(len(X)), X] n_samples, n_features = X.shape self.theta = np.ones(n_features) self.loss_ = [0] m_t = np.zeros(n_features) v_t = np.zeros(n_features) self.i = 0 while self.i &lt; self.n_iter: self.i += 1 if self.shuffle: X, y = self._shuffle(X, y) errors = [] for j in range(0, n_samples, self.batch_size): mini_X, mini_y = X[j: j + self.batch_size], y[j: j + self.batch_size] error = mini_X.dot(self.theta) - mini_y errors.append(error.dot(error)) mini_gradient = 1 / self.batch_size * mini_X.T.dot(error) m_t = self.beta_1 * m_t + (1 - self.beta_1) * mini_gradient v_t = self.beta_2 * v_t + (1 - self.beta_2) * mini_gradient ** 2 m_t_hat = m_t / (1 - self.beta_1 ** self.i) # correction v_t_hat = v_t / (1 - self.beta_2 ** self.i) self.theta -= self.eta / (np.sqrt(v_t_hat) + self.epsilon) * ( self.beta_1 * m_t_hat + (1 - self.beta_1) * mini_gradient / (1 - self.beta_1 ** self.i)) loss = 1 / (2 * self.batch_size) * np.mean(errors) delta_loss = loss - self.loss_[-1] self.loss_.append(loss) if np.abs(delta_loss) &lt; self.tolerance: break return self 4. ä¸åŒæ–¹æ³•çš„å¯¹æ¯” åœ¨ä¸Šæ–‡ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»äº†å„ç§æ”¹è¿›çš„æ¢¯åº¦ä¸‹é™æ³•ï¼Œå®ƒä»¬é’ˆå¯¹æœ€é€Ÿä¸‹é™æ³•å­˜åœ¨çš„ç§ç§é—®é¢˜ï¼Œæå‡ºäº†ä¸åŒçš„æ”¹è¿›ç­–ç•¥å’Œæ–¹æ³•ã€‚åœ¨æ­¤ï¼Œæˆ‘ä»¬å°†æ€»ç»“å’Œå¯¹æ¯”è¿™äº›æ–¹æ³•ï¼Œäº†è§£å®ƒä»¬ä¸æ¢¯åº¦ä¸‹é™æ³•çš„åŒºåˆ«å’Œä¼˜ç‚¹ã€‚ æœ€é€Ÿä¸‹é™æ³•åªè€ƒè™‘ä¸€é˜¶å¯¼æ•°ï¼Œå®ƒæ²¡æœ‰å¼•å…¥åŠ¨é‡çš„æ¦‚å¿µï¼Œå› æ­¤æ˜¯æœ€ç®€å•çš„ã€‚ä½†å®ƒçš„é—®é¢˜æ˜¯ï¼Œå®ƒçš„ä¸‹é™é€Ÿåº¦å¾ˆæ…¢ï¼Œæœ‰æ—¶ä¼šåœ¨æ²Ÿå£‘çš„ä¸¤è¾¹æŒç»­éœ‡è¡ï¼Œå³æœ€ç»ˆå¾—åˆ°çš„ä¼šæ˜¯ä¸€ä¸ªå±€éƒ¨æœ€ä¼˜è§£ã€‚ é’ˆå¯¹æœ€é€Ÿä¸‹é™æ³•çš„ä¸‹é™é€Ÿåº¦æ…¢å’Œéœ‡è¡å¹…åº¦å¤§çš„é—®é¢˜ï¼ŒMomentumåŠ¨é‡æ³•è®¤ä¸ºå¯ä»¥åœ¨æ¢¯åº¦ä¸‹é™çš„è¿‡ç¨‹ä¸­åŠ å…¥æƒ¯æ€§ã€‚å³åœ¨ä¸‹å¡æ—¶ï¼Œå¦‚æœå‘ç°å¡åº¦å¤§ï¼Œå°±åˆ©ç”¨æƒ¯æ€§çš„ç‰¹æ€§æé«˜é€Ÿåº¦ã€‚MomentumåŠ¨é‡æ³•åœ¨æœ€é€Ÿä¸‹é™æ³•çš„åŸºç¡€ä¸Šå¼•å…¥äº†ä¸€é˜¶åŠ¨é‡ï¼Œä¸€é˜¶åŠ¨é‡æ˜¯å„ä¸ªæ—¶åˆ»æ¢¯åº¦æ–¹å‘çš„æŒ‡æ•°ç§»åŠ¨å¹³å‡å€¼ï¼Œçº¦ç­‰äºæœ€è¿‘ 1/(1-Î²)ä¸ªæ—¶åˆ»çš„æ¢¯åº¦å‘é‡å’Œçš„å¹³å‡å€¼ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ t æ—¶åˆ»ä¸‹é™çš„æ–¹å‘ï¼Œä¸ä»…ç”±å½“å‰ç‚¹çš„æ¢¯åº¦æ–¹å‘å†³å®šï¼Œè€Œä¸”ç”±æ­¤å‰ç´¯ç§¯çš„ä¸‹é™æ–¹å‘å†³å®šã€‚Î² ä¸€èˆ¬å–0.9ï¼Œè¿™æ„å‘³ç€å½“å‰çš„ä¸‹é™æ–¹å‘ä¸»ç”±æ­¤å‰ç´¯ç§¯çš„ä¸‹é™æ–¹å‘æ‰€å†³å®šï¼Œåœ¨æ­¤åŸºç¡€ä¸Šç•¥å¾®åå‘å½“å‰æ—¶åˆ»çš„ä¸‹é™æ–¹å‘ã€‚é€šè¿‡è¿™ä¸€æ–¹æ³•é™ä½éœ‡å¹…ï¼ŒåŠ å¿«ä¸‹é™é€Ÿåº¦ã€‚ æœ€é€Ÿä¸‹é™æ³•å­˜åœ¨çš„å¦ä¸€ä¸ªé—®é¢˜æ˜¯æœ‰æ—¶ä¼šåœ¨æ²Ÿå£‘çš„ä¸¤è¾¹æŒç»­éœ‡è¡ï¼Œå³æœ€ç»ˆå¾—åˆ°çš„ä¼šæ˜¯ä¸€ä¸ªå±€éƒ¨æœ€ä¼˜è§£ã€‚é’ˆå¯¹è¿™ä¸ªé—®é¢˜ï¼ŒNAGæå‡ºäº†æ”¹è¿›æ–¹æ¡ˆã€‚æˆ‘ä»¬çŸ¥é“åœ¨æ—¶åˆ» t çš„ä¸»è¦ä¸‹é™æ–¹å‘æ˜¯ç”±ç´¯ç§¯åŠ¨é‡å†³å®šçš„ï¼Œè‡ªå·±çš„æ¢¯åº¦æ–¹å‘è¯´äº†ä¹Ÿä¸ç®—ï¼Œé‚£ä¸å…¶çœ‹å½“å‰æ¢¯åº¦æ–¹å‘ï¼Œä¸å¦‚å…ˆçœ‹çœ‹å¦‚æœè·Ÿç€ç´¯ç§¯åŠ¨é‡èµ°äº†ä¸€æ­¥ï¼Œé‚£ä¸ªæ—¶å€™å†æ€ä¹ˆèµ°ã€‚é€šè¿‡è¿™ä¸€æ–¹æ³•ï¼ŒNAGå‡å°‘äº†éœ‡è¡å¹…åº¦ï¼Œè§£å†³äº†æœ€é€Ÿä¸‹é™æ³•çš„å¦ä¸€é—®é¢˜ã€‚ åœ¨æœ€é€Ÿä¸‹é™æ³•ä¸­ï¼Œå­¦ä¹ ç‡æ˜¯å›ºå®šçš„ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦ä¸æ–­è°ƒæ•´å­¦ä¹ ç‡ï¼Œè¿™ä¹Ÿå¯¼è‡´ç®—æ³•ç»å¸¸å‡ºç°ä¸‹é™è¿‡æ…¢æˆ–é”™è¿‡æœ€ä¼˜ç‚¹çš„é—®é¢˜ã€‚è€ŒäºŒé˜¶åŠ¨é‡çš„å‡ºç°ï¼Œæ„å‘³ç€â€œè‡ªé€‚åº”å­¦ä¹ ç‡â€ä¼˜åŒ–ç®—æ³•æ—¶ä»£çš„åˆ°æ¥ã€‚é€šè¿‡è‡ªé€‚åº”è°ƒæ•´å­¦ä¹ ç‡ï¼Œæˆ‘ä»¬å¯ä»¥å¤§å¹…æå‡æ¢¯åº¦ä¸‹é™æ³•çš„æ•ˆæœã€‚ Adagrad, RMSProp, Adam å’Œ Nadam å°±æ˜¯è¿™ç±»ç®—æ³•çš„ä»£è¡¨ã€‚å…¶ä¸­ï¼ŒAdagrad ä¾æ®å†å²æ¢¯åº¦å¹³æ–¹å’Œçš„å¹³æ–¹æ ¹ï¼Œè‡ªé€‚åº”åœ°è°ƒæ•´å­¦ä¹ ç‡çš„å¤§å°ï¼Œä»è€Œè·å¾—æ¯”æœ€é€Ÿä¸‹é™æ³•æ›´å¥½çš„æ•ˆæœã€‚ ä½†Adagradä¹Ÿå­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œå› ä¸ºå®ƒæ˜¯å•è°ƒé€’å¢çš„ï¼Œå¯¼è‡´å­¦ä¹ ç‡ä¼šå•è°ƒé€’å‡è‡³0ï¼Œè¿™å¯èƒ½ä¼šä½¿å¾—è®­ç»ƒè¿‡ç¨‹æå‰ç»“æŸï¼Œå³ä¾¿åç»­è¿˜æœ‰æ•°æ®ä¹Ÿæ— æ³•å­¦åˆ°å¿…è¦çš„çŸ¥è¯†ã€‚é’ˆå¯¹è¿™ä¸€ç¼ºé™·ï¼ŒRMSProp æå‡ºäº†è§£å†³æ–¹æ¡ˆâ€”â€”ä¸ç´¯ç§¯å…¨éƒ¨å†å²æ¢¯åº¦ï¼Œè€Œåªå…³æ³¨è¿‡å»ä¸€æ®µæ—¶é—´çš„ä¸‹é™æ¢¯åº¦ã€‚è¿™å°±è§£å†³äº†äºŒé˜¶åŠ¨é‡æŒç»­ç´¯ç§¯ã€å¯¼è‡´è®­ç»ƒè¿‡ç¨‹æå‰ç»“æŸçš„é—®é¢˜ã€‚ è€ŒAdamå’ŒNadamåˆ™æ˜¯å¯¹ä¹‹å‰å‡ ç§æ–¹æ³•çš„ç»“åˆï¼Œç»¼åˆäº†å‡ ç§æ–¹æ³•çš„ä¼˜ç‚¹ï¼Œè·å¾—äº†æ›´å¥½çš„æ•ˆæœã€‚Adam å°±æ˜¯åœ¨ RMSprop çš„åŸºç¡€ä¸Šç»“åˆäº†MomentumåŠ¨é‡æ³•å¹¶åŠ å…¥ä¿®æ­£è¯¯å·®ï¼Œéšç€æ¢¯åº¦å˜çš„ç¨€ç–ï¼ŒAdam æ¯” RMSprop æ•ˆæœä¼šå¥½ã€‚ 5. æ€»ç»“åœ¨æœ€é€Ÿä¸‹é™æ³•æå‡ºä¹‹åï¼Œä¸æ–­æœ‰å­¦è€…é’ˆå¯¹è¯¥æ–¹æ³•æå‡ºæ”¹è¿›å’Œè¿­ä»£ã€‚é€šè¿‡ä¸Šæ–‡å¯ä»¥çœ‹å‡ºï¼Œè®¸å¤šçš„ç®—æ³•çš„æå‡ºéƒ½æ˜¯é’ˆå¯¹å‰ä¸€ç§æ–¹æ³•å­˜åœ¨çš„ç¼ºé™·è¿›è¡Œä¼˜åŒ–å’Œæ”¹è¿›ã€‚ä¸åŒçš„æ¢¯åº¦ä¸‹é™æ³•å…·æœ‰å„è‡ªä¾§é‡ç‚¹ï¼Œåœ¨è§£å†³ä¸åŒé—®é¢˜æ—¶å…·æœ‰å„è‡ªçš„ä¼˜è¶Šæ€§ã€‚å¾ˆéš¾è¯´å“ªä¸€ç§ç®—æ³•å…·æœ‰è¿œè¶…å…¶ä»–ç®—æ³•çš„æ•ˆæœï¼Œå¾€å¾€éœ€è¦æˆ‘ä»¬åœ¨æ­å»ºä¸åŒæ¨¡å‹ï¼Œå¤„ç†ä¸åŒé—®é¢˜æ—¶æœ‰é’ˆå¯¹æ€§åœ°é€‰æ‹©åˆé€‚çš„ç®—æ³•ã€‚ç›¸å¯¹æ¥è¯´ï¼ŒAdamå’ŒNadamè¿™ä¸¤ç§æ¢¯åº¦ä¸‹é™æ–¹æ³•ï¼Œåœ¨ç›®å‰æœ€ä¸ºæµè¡Œã€‚å¯¹äºç»å¤§å¤šæ•°æƒ…å†µï¼ŒAdamå’ŒNadamå¯ä»¥å–å¾—è¾ƒå¥½çš„æ•ˆæœã€‚ å¦‚æœæ•°æ®æ˜¯ç¨€ç–çš„ï¼Œå°±ç”¨è‡ªé€‚ç”¨æ–¹æ³•ï¼Œå³ Adagrad, RMSprop, Adam å’Œ Nadamã€‚RMSprop, Adam å’Œ Nadam åœ¨å¾ˆå¤šæƒ…å†µä¸‹çš„æ•ˆæœæ˜¯ç›¸ä¼¼çš„ã€‚æ•´ä½“æ¥è®²ï¼ŒAdamå’ŒNadam æ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚ä»¥å¾€å¾ˆå¤šè®ºæ–‡é‡Œéƒ½ä¼šç”¨æœ€é€Ÿä¸‹é™æ³•ï¼Œæ²¡æœ‰è€ƒè™‘åŠ¨é‡çš„å¼•å…¥ã€‚æœ€é€Ÿä¸‹é™æ³•è™½ç„¶èƒ½è¾¾åˆ°æå°å€¼ï¼Œä½†æ˜¯æ¯”å…¶å®ƒç®—æ³•ç”¨çš„æ—¶é—´é•¿ï¼Œè€Œä¸”å¯èƒ½ä¼šè¢«å›°åœ¨éç‚¹ã€‚å¦‚æœéœ€è¦æ›´å¿«çš„æ”¶æ•›ï¼Œæˆ–è€…æ˜¯è®­ç»ƒæ›´æ·±æ›´å¤æ‚çš„ç¥ç»ç½‘ç»œï¼Œéœ€è¦ç”¨ä¸€ç§è‡ªé€‚åº”çš„ç®—æ³•ã€‚ åœ¨æµè¡Œçš„æ·±åº¦å­¦ä¹ æ¡†æ¶å¦‚Pytorch, Tensorflowä¸­ï¼Œéƒ½å†…ç½®äº†è¿™äº›æ¢¯åº¦ä¸‹é™ç®—æ³•ã€‚å› æ­¤ï¼Œåœ¨æ¨¡å‹æ­å»ºè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬åªéœ€ä¸€è¡Œä»£ç å°±å¯ä»¥å¿«é€Ÿåœ°éƒ¨ç½²ç›¸åº”çš„æ¢¯åº¦ä¸‹é™ç®—æ³•ã€‚ 6. å‚è€ƒæ–‡çŒ® An overview of gradient descent optimization algorithms Sebastian Ruder Ning Qian. (1999). On the momentum term in gradient descent learning algorithms, Neural Networks, Volume 12, Issue 1 Sutskever, I., Martens, J., Dahl, G. &amp; Hinton, G.. (2013). On the importance of initialization and momentum in deep learning. John Duchi, Elad Hazan, Yoram Singer. (2011). Adaptive Subgradient Methods for Online Learning and Stochastic Optimization. 12(61):2121âˆ’2159. Geoff Hinton. (2012). Lecture 6.5-rmsprop: Divide the gradient by a running average of its recent magnitude Diederik P. Kingma, Jimmy Ba. (2015). Adam: A Method for Stochastic Optimization Ruder, S. (2016). An overview of gradient descent optimization algorithms. arXiv preprint arXiv:1609.04747. Bengio, Y., Boulanger-Lewandowski, N., &amp; Pascanu, R. (2012). Advances in Optimizing Recurrent Networks. https://zhuanlan.zhihu.com/p/77380412?utm_source=wechat_session https://towardsdatascience.com/10-gradient-descent-optimisation-algorithms-86989510b5e9 Dozat, T. (2016). Incorporating Nesterov Momentum into Adam. ICLR Workshop, (1), 2013â€“2016","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"http://47.118.73.148/categories/%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"æ·±åº¦å­¦ä¹ ","slug":"æ·±åº¦å­¦ä¹ ","permalink":"http://47.118.73.148/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"}]},{"title":"Java-notes","slug":"JAVA-Notes","date":"2021-12-04T12:22:16.000Z","updated":"2021-12-04T13:28:52.564Z","comments":true,"path":"2021/12/04/JAVA-Notes/","link":"","permalink":"http://47.118.73.148/2021/12/04/JAVA-Notes/","excerpt":"","text":"Java-notesè¯¾å†…éƒ¨åˆ†Chapter-1ï¼ˆJava æ¦‚è¿°ï¼‰ JavaæŠ€æœ¯çš„é€šç”¨æ€§ã€é«˜æ•ˆæ€§ã€å¹³å°ç§»æ¤æ€§å’Œå®‰å…¨æ€§ï¼Œä½¿ä¹‹æˆä¸ºç½‘ç»œè®¡ç®—çš„ç†æƒ³æŠ€æœ¯ Javaè¯­è¨€æ˜¯ä¸€ç§é«˜çº§ç¼–ç¨‹è¯­è¨€ï¼Œå®ƒå…·æœ‰ç®€å•ã€ç»“æ„ä¸­ç«‹ã€é¢å‘å¯¹è±¡ã€å¯ç§»æ¤ã€åˆ†å¸ƒå¼ã€é«˜æ€§èƒ½ã€å¤šçº¿ç¨‹ã€å¥å£®ã€åŠ¨æ€ã€å®‰å…¨ç­‰ç‰¹ç‚¹ Chapter-2 ï¼ˆJavaåŸºç¡€ï¼‰ æ ‡è¯†ç¬¦ï¼šä¸ºç¨‹åºä¸­çš„å„ä¸ªå…ƒç´ è¿›è¡Œå‘½åï¼Œè¿™ç§å‘½åçš„è®°å·ï¼Œå°±æ˜¯æ ‡è¯†ç¬¦ï¼ˆIdentifierï¼‰ æ ‡è¯†ç¬¦è§„åˆ™ï¼šåœ¨Java ä¸­æ ‡è¯†ç¬¦æ˜¯ä»¥å­—æ¯ã€ä¸‹åˆ’çº¿ï¼ˆ_ï¼‰ã€ç¾å…ƒç¬¦å·ï¼ˆ$ï¼‰ç­‰å¼€å§‹çš„ä¸€ä¸ªå­—ç¬¦åºåˆ—ï¼Œä¸èƒ½åŒ…å«è¿ç®—ç¬¦å’Œä¸€äº›ç‰¹æ®Šå­—ç¬¦ï¼Œå¦‚#ã€*ç­‰ å…³é”®å­—ï¼šJavaä¸­æ‰€æœ‰çš„å…³é”®å­—éƒ½ä¸ºå°å†™ï¼Œä¸å…è®¸å¯¹å…³é”®å­—èµ‹äºˆå…¶ä»–å«ä¹‰ å˜é‡ä¸å¸¸é‡ï¼š å˜é‡çš„å‘½åï¼š int i; public int j; å¸¸é‡çš„å‘½åï¼šfinal int k = 1; å˜é‡çš„é‚»è¿‘åŸåˆ™ï¼šè‹¥åœ¨ä¸€ä¸ªä½œç”¨åŸŸä¸­ï¼Œå¦‚æœæœ‰å¤šä¸ªåŒåçš„å˜é‡å¯ä»¥è®¿é—®ï¼Œåˆ™æŒ‰ç…§â€œé‚»è¿‘â€åŸåˆ™ï¼Œåœ¨å½“å‰åŸŸä¸­å®šä¹‰çš„å˜é‡éšè—å…¶å®ƒåŒåçš„å˜é‡ã€‚ æ•°æ®ç±»å‹ï¼š æ•°æ®ç±»å‹ æ‰€å ä½æ•° æ•°çš„èŒƒå›´ byte 8 -27 ~ (27-1) short 16 -215 ~ (215-1) int 32 -231 ~ (231-1) long 64 -263 ~ (263-1) è¿ç®—ç¬¦ï¼š â€œ%â€ï¼ˆæ±‚æ¨¡è¿ç®—ç¬¦ï¼‰çš„æ“ä½œæ•°å¯ä¸ºæµ®ç‚¹æ•°, å¦‚ 52.3%10=2.3 â€œ+â€ è¿ç®—ç¬¦å¯ç”¨ä½œè¿æ¥å­—ç¬¦ä¸²ï¼›å¦‚æœä¸€ä¸ªæ“ä½œæ•°æ˜¯éå­—ç¬¦ä¸²ï¼Œå…¶ä»–æ“ä½œæ•°ä¼šè‡ªåŠ¨è½¬åŒ–ä¸ºå­—ç¬¦ä¸²ï¼Œå¦‚ String s; s=â€s:â€+6*5 Chapter-3ï¼ˆæ•°ç»„ï¼‰ æ•°ç»„çš„åˆ›å»ºï¼š Step1 å®šä¹‰æ•°ç»„ ï¼šæ•°ç»„å…ƒç´ ç±»å‹ æ•°ç»„å[ ] å¦‚ int num_array[]; Step2 ç”Ÿæˆæ•°ç»„ ï¼šæ•°ç»„å=new æ•°ç»„å…ƒç´ ç±»å‹[æ•°ç»„é•¿åº¦] å¦‚ num_array = new int[5]; Step3 åˆå§‹åŒ–æ•°ç»„ ï¼šä½¿æ•°ç»„ä¸­çš„å„ä¸ªå…ƒç´ æœ‰ç¡®å®šçš„æ•°å€¼ å¦‚ num_array[1] = 15; æˆ–ç›´æ¥å°†å†…å­˜åˆ†é…æ”¾åœ¨ä¸€ä¸ªè¯­å¥ä¸­ï¼š int num_array[] = &#123;0, 1, 2&#125;; Javaå®šä¹‰æ•°ç»„æ—¶ï¼Œä¸ä¼šä¸ºæ•°ç»„åˆ†é…å­˜å‚¨ç©ºé—´ Arraysç±»ï¼šArraysç±»æä¾›äº†å¤šä¸ªæ“ä½œæ•°ç»„çš„é™æ€æ–¹æ³• binarySearch(type[] a,type key)ï¼šä½¿ç”¨äºŒåˆ†æœç´¢æ³•åœ¨æ•°ç»„aä¸­æœç´¢æŒ‡å®šå€¼key equals(type[] a,type[] b)ï¼šæ¯”è¾ƒä¸¤ä¸ªæ•°ç»„æ˜¯å¦ç›¸ç­‰ sort(type[] a)ï¼šå¯¹æ•°ç»„aè¿›è¡Œæ’åº(é»˜è®¤å‡åº) fill (type[] a, type val)ï¼šç”¨ä¸€ä¸ªæŒ‡å®šçš„å€¼valå¡«å……æ•°ç»„a ä¾‹ï¼šArrays.sort(num_array); Chapter-4ï¼ˆç±»å’Œå¯¹è±¡è®¾è®¡ï¼‰ é¢å‘å¯¹è±¡åŸºç¡€ å¤šæ€ï¼šç±»ä¸­åŒä¸€åç§°çš„è¡Œä¸ºï¼ˆæ–¹æ³•ï¼‰å¯ä»¥æœ‰å¤šç§ä¸åŒçš„åŠŸèƒ½ï¼Œæˆ–è€…ç›¸åŒçš„æ¥å£æœ‰å¤šç§å®ç°æ–¹æ³•ã€‚ ç”¨æˆ·å¿…é¡»å…ˆå®šä¹‰ç±»ï¼Œå¹¶ç”Ÿæˆè¯¥ç±»çš„å®ä¾‹ï¼Œç„¶åæ‰èƒ½é€šè¿‡è¯¥å®ä¾‹è®¿é—®å…¶æˆå‘˜å˜é‡å’Œæ–¹æ³•ã€‚ æ ¼å¼ï¼š [ç±»ä¿®é¥°ç¬¦] class ç±»å [extends çˆ¶ç±»å] [implements æ¥å£å] { //ç±»ä½“ï¼ŒåŒ…æ‹¬å®šä¹‰ç±»çš„æˆå‘˜å˜é‡ å’Œ æˆå‘˜æ–¹æ³• } åŒ…ï¼ˆpackageï¼‰ï¼špackageè¯­å¥å¿…é¡»æ˜¯ç¨‹åºçš„ç¬¬ä¸€æ¡éç©ºæ ¼ã€éæ³¨é‡Šè¯­å¥ï¼›åŒä¸€ä¸ªåŒ…ä¸­ï¼Œç±»ä¸å¯ä»¥é‡åï¼Œä½†æ˜¯ä¸åŒçš„åŒ…ä¸­å…è®¸ç›¸åŒçš„ç±»åå‡ºç° æ ¼å¼ï¼špackage pkg1[ï¼pkg2[ï¼pkg3â€¦]]; importï¼š pkg1.pkg2.* ï¼ˆ*å¯ä»¥å¯¼å…¥pkg2ä¸­æ‰€æœ‰çš„ç±»ï¼‰ import static: ç”¨äºå¯¼å…¥æŒ‡å®šç±»çš„æŸä¸ªé™æ€æˆå‘˜å˜é‡ / æ–¹æ³• / æˆ–å…¨éƒ¨é™æ€æˆå‘˜å˜é‡ / æ–¹æ³•ï¼ˆä¾‹å¦‚å¯ä»¥ç›´æ¥å¯¼å…¥Mathç±»ä¸­çš„å˜é‡PIï¼‰ ä¿®é¥°ç¬¦ï¼š Public: ä½¿ç”¨publicï¼Œæ„å‘³ç€publicä¹‹åçš„æˆå‘˜å£°æ˜å¯¹æ¯ä¸ªäººéƒ½æ˜¯æœ‰ç”¨çš„ï¼›ä¿®é¥°ç±»æ—¶ï¼Œä¸€ä¸ªç±»ä¸­æœ€å¤šåªèƒ½æœ‰ä¸€ä¸ªpublicï¼Œä¸”ç±»åéœ€è¦ä¸æ–‡ä»¶åç›¸åŒ Private: å³ä¾¿æ˜¯å¤„äºåŒä¸€ä¸ªåŒ…å†…çš„å…¶ä»–ç±»ä¹Ÿæ˜¯ä¸å¯ä»¥è®¿é—®privateæˆå‘˜çš„ï¼Œé€šä¿—è¯´å°±æ˜¯è‡ªå·±éš”ç¦»äº†è‡ªå·± Protected: protectedå¤„ç†çš„æ˜¯ç»§æ‰¿çš„æ¦‚å¿µã€‚åªæœ‰ç»§æ‰¿ä»–çš„ç±»æ‰å¯ä»¥è®¿é—®ä»–çš„æ–¹æ³•ï¼ˆä¸publicçš„åŒºåˆ«æ˜¯ï¼Œåªæœ‰åŒä¸€ä¸ªåŒ…ä¸­çš„ç±»æ‰å¯ä»¥è®¿é—®ï¼‰ Default: å¦‚æœç±»æˆå‘˜å‰æ²¡æœ‰ä½¿ç”¨public,protected,privateä¸­çš„ä»»ä½•ä¸€ä¸ªä¿®é¥°ç¬¦ï¼Œæˆ‘ä»¬ç§°å®ƒä½¿ç”¨äº†ç¼ºçœ(default)ä¿®é¥°ç¬¦ï¼›åªæœ‰è¯¥ç±»æœ¬èº«ä»¥åŠä¸è¯¥ç±»åœ¨åŒä¸€ä¸ªåŒ…ä¸­çš„å…¶å®ƒç±»æ‰å¯ä»¥ç›´æ¥è®¿é—®è¿™äº›ç¼ºçœæˆå‘˜ï¼ˆä¸protectedçš„åŒºåˆ«æ˜¯ï¼Œä¸åŒåŒ…ä¸­çš„å­ç±»ä¸å¯ä»¥è®¿é—®ï¼‰ Final: ä¿®é¥°ç±»æ—¶ï¼šä¸å¯è¢«ç»§æ‰¿ï¼› ä¿®é¥°æ–¹æ³•æ—¶ï¼Œä¸å¯è¢«é‡å†™ï¼Œå¯ä»¥è¢«ç»§æ‰¿ï¼› ä¿®é¥°å¼•ç”¨æ—¶ï¼Œè‹¥ä¸ºåŸºæœ¬æ•°æ®ç±»å‹ï¼Œåˆ™ä¸ºå¸¸é‡ï¼Œä¸å¯ä¿®æ”¹ï¼›è‹¥ä¸ºå¼•ç”¨æ•°æ®ç±»å‹ï¼Œåˆ™åœ°å€ä¸å¯ä¿®æ”¹ï¼Œå¯¹è±¡æœ¬èº«çš„å±æ€§å¯ä»¥ä¿®æ”¹ final int[] {1, 3, 2}; arr[2] = 4; arr = new int[] {12341};ï¼ˆä¸å¯ä¿®æ”¹åœ°å€ï¼‰ Static: å¯ä»¥åœ¨æ²¡æœ‰åˆ›å»ºå¯¹è±¡çš„æƒ…å†µä¸‹æ¥è¿›è¡Œè°ƒç”¨ï¼ˆæ–¹æ³•/å˜é‡ï¼‰ ä¿®é¥°æ–¹æ³•æ—¶ï¼šé™æ€æ–¹æ³•ï¼Œå¯ä»¥åœ¨æ²¡æœ‰åˆ›å»ºå¯¹è±¡çš„æƒ…å†µä¸‹æ¥è¿›è¡Œè°ƒç”¨ï¼ˆæ–¹æ³•/å˜é‡ï¼‰ï¼Œä¸ä¾é™„äºä»»ä½•å¯¹è±¡ï¼Œå› æ­¤æ²¡æœ‰thisï¼›é™æ€æ–¹æ³•ä¸å¯ä»¥è®¿é—®æˆå‘˜çš„éé™æ€æ–¹æ³•/å˜é‡ï¼›éé™æ€æ–¹æ³•å¯ä»¥è®¿é—®é™æ€æ–¹æ³•/å˜é‡ ä¿®é¥°å˜é‡æ—¶ï¼šé™æ€å˜é‡ï¼Œé™æ€å˜é‡è¢«æ‰€æœ‰çš„å¯¹è±¡æ‰€å…±äº«ï¼Œåœ¨å†…å­˜ä¸­åªæœ‰ä¸€ä¸ªå‰¯æœ¬ï¼Œå®ƒå½“ä¸”ä»…å½“åœ¨ç±»åˆæ¬¡åŠ è½½æ—¶ä¼šè¢«åˆå§‹åŒ–ã€‚è€Œéé™æ€å˜é‡æ˜¯å¯¹è±¡æ‰€æ‹¥æœ‰çš„ï¼Œåœ¨åˆ›å»ºå¯¹è±¡çš„æ—¶å€™è¢«åˆå§‹åŒ–ï¼Œå­˜åœ¨å¤šä¸ªå‰¯æœ¬ï¼Œå„ä¸ªå¯¹è±¡æ‹¥æœ‰çš„å‰¯æœ¬äº’ä¸å½±å“ ä¿®é¥°ä»£ç å—æ—¶ï¼šç”¨æ¥å½¢æˆé™æ€ä»£ç å—ä»¥ä¼˜åŒ–ç¨‹åºæ€§èƒ½ã€‚staticå—å¯ä»¥ç½®äºç±»ä¸­çš„ä»»ä½•åœ°æ–¹ï¼Œç±»ä¸­å¯ä»¥æœ‰å¤šä¸ªstaticå—ã€‚åœ¨ç±»åˆæ¬¡è¢«åŠ è½½çš„æ—¶å€™ï¼Œä¼šæŒ‰ç…§staticå—çš„é¡ºåºæ¥æ‰§è¡Œæ¯ä¸ªstaticå—ï¼Œå¹¶ä¸”åªä¼šæ‰§è¡Œä¸€æ¬¡ static { //ä»£ç å—ï¼ˆåªä¼šåœ¨ç±»åŠ è½½çš„æ—¶å€™æ‰§è¡Œä¸€æ¬¡ï¼‰ } æ³¨æ„âš ï¸ï¼šJavaä¸­çš„staticä¸å¯ä»¥ç”¨äºä¿®é¥°å±€éƒ¨å˜é‡ï¼›staticä¸æ”¹å˜æˆå‘˜çš„è®¿é—®æƒé™ï¼ˆåªå—public private protectedå½±å“ï¼‰ Chapter-5 ï¼ˆç»§æ‰¿ä¸å¤šæ€ï¼‰ ç»§æ‰¿ï¼šJavaåªæ”¯æŒå•ç»§æ‰¿ï¼Œå³åªèƒ½æœ‰ä¸€ä¸ªçˆ¶ç±»ï¼Œä½†ç±»ä¹‹é—´çš„ç»§æ‰¿å¯ä»¥å…·æœ‰ä¼ é€’æ€§ï¼›å­ç±»å¯ä»¥é€šè¿‡ç»§æ‰¿è·å¾—çˆ¶ç±»ä¸­é™¤è®¿é—®æƒé™ä¸ºprivateçš„æˆå‘˜å˜é‡å’Œæ–¹æ³• æ ¼å¼ï¼š class å­ç±»å extends çˆ¶ç±»å{ ç±»ä½“ } é‡å†™ï¼ˆoverrideï¼‰ï¼šåœ¨ç±»çš„ç»§æ‰¿è¿‡ç¨‹ä¸­ï¼Œå¦‚æœå­ç±»ä¸­æ–°å¢çš„å˜é‡å’Œæ–¹æ³•ä¸çˆ¶ç±»ä¸­çš„å˜é‡å’Œæ–¹æ³•åŒåï¼Œåˆ™ç§°ä¸ºé‡å†™ï¼ˆæˆ–è¦†ç›–ï¼‰ï¼›æ–¹æ³•é‡å†™ä¸ä»…è¦æ±‚çˆ¶ç±»ä¸å­ç±»ä¸­çš„æ–¹æ³•åç§°ç›¸åŒï¼Œè€Œä¸”å‚æ•°åˆ—è¡¨ä¹Ÿè¦ç›¸åŒï¼Œåªæ˜¯å®ç°çš„åŠŸèƒ½ä¸åŒ superï¼š ç”¨æ¥å¼•ç”¨å½“å‰å¯¹è±¡çš„çˆ¶ç±»ï¼Œå¯ä»¥ä½¿ç”¨å®ƒè®¿é—®çˆ¶ç±»ä¸­è¢«è¦†ç›–çš„æˆå‘˜ æ ¼å¼ï¼šsuper.method è°ƒç”¨çˆ¶ç±»ä¸­çš„æŸä¸€ä¸ªæ„é€ å‡½æ•°ï¼ˆåº”è¯¥ä¸ºæ„é€ å‡½æ•°ä¸­çš„ç¬¬ä¸€æ¡è¯­å¥ï¼‰ï¼›è‹¥ç±»æ²¡æœ‰ä»»ä½•æ„é€ æ–¹æ³•ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨æ·»åŠ ä¸€ä¸ªæ— å‚æ„é€ æ–¹æ³•ï¼Œåœ¨æ­¤æ–¹æ³•ä¸­åªæœ‰ä¸€æ¡è¯­å¥super()ï¼Œè‹¥å·²æœ‰æœ‰å‚çš„æ„é€ æ–¹æ³•ï¼Œåˆ™ä¸ä¼šè‡ªåŠ¨æ·»åŠ  æ ¼å¼ï¼šsuper(å‚æ•°); thisï¼šæ˜¯è‡ªèº«çš„ä¸€ä¸ªå¯¹è±¡ï¼Œä»£è¡¨å¯¹è±¡æœ¬èº«ï¼Œå¯ä»¥ç†è§£ä¸ºï¼šæŒ‡å‘å¯¹è±¡æœ¬èº«çš„ä¸€ä¸ªæŒ‡é’ˆ æ™®é€šçš„ç›´æ¥å¼•ç”¨ï¼Œthis ç›¸å½“äºæ˜¯æŒ‡å‘å½“å‰å¯¹è±¡æœ¬èº« å½¢å‚ä¸æˆå‘˜åå­—é‡åï¼Œç”¨ this æ¥åŒºåˆ†ï¼š public int GetAge(int age){ â€‹ this.age = age; return this.age; //è¿™é‡Œ age æ˜¯ GetAge æˆå‘˜æ–¹æ³•çš„å½¢å‚ï¼Œthis.age æ˜¯ Person ç±»çš„æˆå‘˜å˜é‡ } å¼•ç”¨æ„é€ å‡½æ•°ï¼›è°ƒç”¨æœ¬ç±»ä¸­å¦ä¸€ç§å½¢å¼çš„æ„é€ å‡½æ•°ï¼ˆåº”è¯¥ä¸ºæ„é€ å‡½æ•°ä¸­çš„ç¬¬ä¸€æ¡è¯­å¥ï¼‰ æ ¼å¼ï¼šthis(å‚æ•°); æ³¨æ„âš ï¸ï¼šthiså’Œ superéƒ½æŒ‡çš„æ˜¯å¯¹è±¡ï¼Œæ‰€ä»¥ï¼Œå‡ä¸å¯ä»¥åœ¨ static ç¯å¢ƒä¸­ä½¿ç”¨ ç±»å‹è½¬æ¢ å¦‚æœæ˜¯å­ç±»å¯¹è±¡è½¬æ¢ä¸ºçˆ¶ç±»ï¼Œå¯è¿›è¡Œæ˜¾å¼è½¬æ¢æˆ–éšå¼è½¬æ¢ï¼š Dad = (father) A Child = (child) B //æ˜¾å¼è½¬æ¢ å¦‚æœæ˜¯çˆ¶ç±»å¯¹è±¡è½¬æ¢æˆå­ç±»ï¼Œç¼–è¯‘å™¨é¦–å…ˆè¦æ£€æŸ¥è¿™ç§è½¬æ¢çš„å¯è¡Œæ€§ï¼Œå¦‚æœå¯è¡Œï¼Œåˆ™å¿…é¡»è¿›è¡Œæ˜¾å¼è½¬æ¢ å¤šæ€ï¼šå¤šæ€æ€§å°±æ˜¯ä¸€ä¸ªåç§°å¯ä»¥å¯¹åº”å¤šç§ä¸åŒçš„å®ç°æ–¹æ³•ï¼›å¯¹é‡å†™çš„æ–¹æ³•ï¼ŒJavaæ ¹æ®è°ƒç”¨è¯¥æ–¹æ³•çš„å®ä¾‹çš„ç±»å‹æ¥å†³å®šé€‰æ‹©å“ªä¸ªæ–¹æ³•ï¼ˆc++éœ€è¦æ·»åŠ virtualï¼‰ æŠ½è±¡ç±»ï¼ˆabstractï¼‰ï¼šJava ä¸­æŠ½è±¡ç±»è¡¨ç¤ºçš„æ˜¯ä¸€ç§ç»§æ‰¿å…³ç³»ï¼Œä¸€ä¸ªç±»åªèƒ½ç»§æ‰¿ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œè€Œä¸€ä¸ªç±»å´å¯ä»¥å®ç°å¤šä¸ªæ¥å£ æŠ½è±¡ç±»ä¸èƒ½è¢«å®ä¾‹åŒ–ï¼Œå¿…é¡»è¢«ç»§æ‰¿ï¼›æŠ½è±¡æ–¹æ³•åªæœ‰æ–¹æ³•çš„è¿”å›å€¼ã€åç§°å’Œå‚æ•°åˆ—è¡¨ï¼Œæ²¡æœ‰æ–¹æ³•ä½“ï¼Œå®ƒå¿…é¡»åœ¨å­ç±»ä¸­å…·ä½“å®ç°è¯¥æ–¹æ³• æŠ½è±¡ç±»æ²¡æœ‰è‡ªå·±çš„ä¸»ä½“ï¼ˆæ²¡æœ‰{}åŒ…èµ·æ¥çš„ ä¸šåŠ¡é€»è¾‘ï¼‰ï¼Œè·Ÿæ¥å£ä¸­çš„æ–¹æ³•æœ‰ç‚¹ç±»ä¼¼ã€‚æ‰€ä»¥æ²¡æ³•ç›´æ¥è°ƒç”¨æŠ½è±¡æ–¹æ³• æŠ½è±¡ç±»å¯ä»¥æ¯”ä½œä¸åŒçš„äº¤é€šå·¥å…·æœ‰ä¸åŒçš„ç»“æœï¼Œè‡ªè¡Œè½¦é éª‘ï¼Œæ±½è½¦é å‘åŠ¨æœºè¿è¡Œï¼›å› æ­¤æŠ½è±¡ç±»åªæ˜¯æä¾›ä¸€ä¸ª äº¤é€šå·¥å…·ç±»ï¼ˆï¼‰ï¼Œå…·ä½“åˆ°è‡ªè¡Œè½¦è¿˜æ˜¯æ±½è½¦ï¼Œéœ€è¦è¢«å­ç±»æ‰€ç»§æ‰¿/é‡å†™ï¼›æŠ½è±¡æ–¹æ³•ä¹Ÿæ˜¯åŒç†ã€‚å› æ­¤ï¼ŒæŠ½è±¡æ–¹æ³•ä¸å¯ä»¥æ˜¯staticæˆ–privateï¼Œå› ä¸ºæŠ½è±¡æ–¹æ³•æ²¡æœ‰ä¸»ä½“ï¼Œä¸”éœ€è¦æƒé™è®¿é—®é‡å†™ æ¥å£ï¼ˆinterfaceï¼‰ï¼šæ˜¯ä¸€ä¸ªæŠ½è±¡ç±»å‹ï¼Œæ˜¯æŠ½è±¡æ–¹æ³•çš„é›†åˆ æ¥å£ä¸­çš„æ‰€æœ‰æ–¹æ³•éƒ½æ˜¯æŠ½è±¡çš„ï¼ˆå¯ä»¥ä¸å†™abstractï¼‰ï¼Œä¹Ÿæ²¡æœ‰æ–¹æ³•ä½“{}ï¼›æ¥å£ä¸­çš„æ‰€æœ‰æ•°æ®éƒ½æ˜¯é™æ€å¸¸é‡ï¼ˆstatic,finalå¯ä»¥ä¸å†™ï¼‰ ä¸€ä¸ªå®ç°æ¥å£çš„ç±»ï¼Œå¿…é¡»å®ç°æ¥å£å†…æ‰€æè¿°çš„æ‰€æœ‰æ–¹æ³•ï¼Œå¦åˆ™å°±å¿…é¡»å£°æ˜ä¸ºæŠ½è±¡ç±» æ¥å£æ”¯æŒå¤šç»§æ‰¿ï¼ˆå¯ä»¥æœ‰å¤šä¸ªçˆ¶ç±»ï¼‰ æ ¼å¼ï¼š [å¯è§åº¦] interface æ¥å£åç§° [extends å…¶ä»–çš„æ¥å£å] { â€‹ // å£°æ˜å˜é‡ // æŠ½è±¡æ–¹æ³• } æ¥å£å®ç°ï¼šå½“ç±»å®ç°æ¥å£çš„æ—¶å€™ï¼Œç±»è¦å®ç°æ¥å£ä¸­æ‰€æœ‰çš„æ–¹æ³•ã€‚å¦åˆ™ï¼Œç±»å¿…é¡»å£°æ˜ä¸ºæŠ½è±¡çš„ç±»ï¼›ç±»ä½¿ç”¨implementså…³é”®å­—å®ç°æ¥å£ã€‚åœ¨ç±»å£°æ˜ä¸­ï¼ŒImplementså…³é”®å­—æ”¾åœ¨classå£°æ˜åé¢ æ ¼å¼ï¼š...implements æ¥å£åç§°[, å…¶ä»–æ¥å£åç§°, å…¶ä»–æ¥å£åç§°..., ...] ... å†…éƒ¨ç±»ï¼š æˆå‘˜å†…éƒ¨ç±»ï¼šæˆå‘˜å†…éƒ¨ç±»æ˜¯æœ€æ™®é€šçš„å†…éƒ¨ç±»ï¼Œå®ƒçš„å®šä¹‰ä¸ºä½äºå¦ä¸€ä¸ªç±»çš„å†…éƒ¨ å‘˜å†…éƒ¨ç±»å¯ä»¥æ— æ¡ä»¶è®¿é—®å¤–éƒ¨ç±»çš„æ‰€æœ‰æˆå‘˜å±æ€§å’Œæˆå‘˜æ–¹æ³•ï¼ˆåŒ…æ‹¬privateæˆå‘˜å’Œé™æ€æˆå‘˜ï¼‰; ä¸è¿‡è¦æ³¨æ„çš„æ˜¯ï¼Œå½“æˆå‘˜å†…éƒ¨ç±»æ‹¥æœ‰å’Œå¤–éƒ¨ç±»åŒåçš„æˆå‘˜å˜é‡æˆ–è€…æ–¹æ³•æ—¶ï¼Œä¼šå‘ç”Ÿéšè—ç°è±¡ï¼Œå³é»˜è®¤æƒ…å†µä¸‹è®¿é—®çš„æ˜¯æˆå‘˜å†…éƒ¨ç±»çš„æˆå‘˜ã€‚å¦‚æœè¦è®¿é—®å¤–éƒ¨ç±»çš„åŒåæˆå‘˜ï¼Œéœ€è¦ä»¥ä¸‹é¢çš„å½¢å¼è¿›è¡Œè®¿é—®ï¼šå¤–éƒ¨ç±».this.æˆå‘˜å˜é‡/æ–¹æ³•ï¼› åœ¨å¤–éƒ¨ç±»ä¸­å¦‚æœè¦è®¿é—®æˆå‘˜å†…éƒ¨ç±»çš„æˆå‘˜ï¼Œå¿…é¡»å…ˆåˆ›å»ºä¸€ä¸ªæˆå‘˜å†…éƒ¨ç±»çš„å¯¹è±¡ï¼Œå†é€šè¿‡æŒ‡å‘è¿™ä¸ªå¯¹è±¡çš„å¼•ç”¨æ¥è®¿é—®ï¼ˆéœ€è¦å…ˆnewä¸€ä¸ªå†…éƒ¨ç±»ï¼‰ Test outer = new Test(); Test.inner in = outer.new inner(); å±€éƒ¨å†…éƒ¨ç±»ï¼š å±€éƒ¨å†…éƒ¨ç±»æ˜¯å®šä¹‰åœ¨ä¸€ä¸ªæ–¹æ³•æˆ–è€…ä¸€ä¸ªä½œç”¨åŸŸé‡Œé¢çš„ç±»ï¼Œå®ƒå’Œæˆå‘˜å†…éƒ¨ç±»çš„åŒºåˆ«åœ¨äºå±€éƒ¨å†…éƒ¨ç±»çš„è®¿é—®ä»…é™äºæ–¹æ³•å†…æˆ–è€…è¯¥ä½œç”¨åŸŸå†… å±€éƒ¨å†…éƒ¨ç±»å°±åƒæ˜¯æ–¹æ³•é‡Œé¢çš„ä¸€ä¸ªå±€éƒ¨å˜é‡ä¸€æ ·ï¼Œæ˜¯ä¸èƒ½æœ‰publicã€protectedã€privateä»¥åŠstaticä¿®é¥°ç¬¦ åŒ¿åå†…éƒ¨ç±»ï¼š å¯ä»¥åœ¨å®šä¹‰ä¸€ä¸ªç±»çš„åŒæ—¶å°†å®ƒå®ä¾‹åŒ–ï¼Œä¸å±€éƒ¨å†…éƒ¨ç±»å¾ˆç›¸ä¼¼ï¼ŒåŒºåˆ«æ˜¯å®ƒæ²¡æœ‰ç±»åï¼›å¦‚æœæŸä¸ªç±»åªéœ€è¦ä½¿ç”¨ä¸€æ¬¡ï¼Œåˆ™å¯ä»¥é€‰æ‹©é‡‡ç”¨åŒ¿åå†…éƒ¨ç±»æ¥ç®€åŒ–ä»£ç ã€‚ å‰æï¼šå¿…é¡»ç»§æ‰¿ä¸€ä¸ªçˆ¶ç±»æˆ–å®ç°ä¸€ä¸ªæ¥å£,ç„¶åç»§æ‰¿æˆ–é‡å†™çˆ¶ç±»æˆ–æ¥å£ä¸­çš„æ–¹æ³• æ ¼å¼ï¼šfather name = new father(){ â€‹ public void xxx{ â€‹ } â€‹ }; é™æ€å†…éƒ¨ç±»ï¼šé™æ€å†…éƒ¨ç±»ä¹Ÿæ˜¯å®šä¹‰åœ¨å¦ä¸€ä¸ªç±»é‡Œé¢çš„ç±»ï¼Œåªä¸è¿‡åœ¨ç±»çš„å‰é¢å¤šäº†ä¸€ä¸ªå…³é”®å­—static ä¸€æ—¦å†…éƒ¨ç±»ä½¿ç”¨staticä¿®é¥°ï¼Œè¿™ä¸ªç±»å°±ä¸ºé¡¶çº§ç±»ï¼›é™¤äº†å†™åœ¨ç±»å†…éƒ¨ä»¥å¤–ï¼Œå…·æœ‰å¤–éƒ¨ç±»çš„ä¸€åˆ‡ç‰¹æ€§ é™æ€å†…éƒ¨ç±»å¯ä»¥åœ¨å†…éƒ¨å®šä¹‰staticå…ƒç´ ï¼Œåœ¨æ„å»ºå¯¹è±¡æ—¶å¯ä»¥ä¸€æ¬¡æ€§å®Œæˆï¼ˆéé™æ€éœ€è¦å…ˆnewä¸€ä¸ªå¤–éƒ¨ç±»ï¼‰ å†…éƒ¨æ¥å£è‡ªåŠ¨å…·æœ‰staticå±æ€§ï¼Œæ™®é€šç±»å¯ä»¥ç›´æ¥å®ç°æ¥å£ Lambdaè¡¨è¾¾å¼ï¼šç”¨å‡½æ•°è¡¨è¾¾å¼ä»£æ›¿å¸¸è§„çš„ä»£ç  ç‰¹æ€§ï¼š å¯é€‰ç±»å‹å£°æ˜ï¼šä¸éœ€è¦å£°æ˜å‚æ•°ç±»å‹ï¼Œç¼–è¯‘å™¨å¯ä»¥ç»Ÿä¸€è¯†åˆ«å‚æ•°å€¼ å¯é€‰çš„å‚æ•°åœ†æ‹¬å·ï¼šä¸€ä¸ªå‚æ•°æ— éœ€å®šä¹‰åœ†æ‹¬å·ï¼Œä½†å¤šä¸ªå‚æ•°éœ€è¦å®šä¹‰åœ†æ‹¬å· å¯é€‰çš„å¤§æ‹¬å·ï¼šå¦‚æœä¸»ä½“åŒ…å«äº†ä¸€ä¸ªè¯­å¥ï¼Œå°±ä¸éœ€è¦ä½¿ç”¨å¤§æ‹¬å· å¯é€‰çš„è¿”å›å…³é”®å­—ï¼šå¦‚æœä¸»ä½“åªæœ‰ä¸€ä¸ªè¡¨è¾¾å¼è¿”å›å€¼åˆ™ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨è¿”å›å€¼ï¼Œå¤§æ‹¬å·éœ€è¦æŒ‡å®šè¡¨è¾¾å¼è¿”å›äº†ä¸€ä¸ªæ•°å€¼ è¯­æ³•æ ¼å¼ï¼š (parameters) -&gt; expression æˆ– (parameters) -&gt;{ statements; return;} å¯ä»¥ç”¨lambdaè¡¨è¾¾å¼ä»£æ›¿åŒ¿åå†…éƒ¨ç±»æˆ–Runnableæ¥å£ ä¾‹å­ï¼š ```javaComparator c = (Person p1, Person p2) -&gt; p1.getAge().compareTo(p2.getAge());- ```java features.forEach(n -&gt; System.out.println(n)); æ³›å‹: æ“ä½œçš„æ•°æ®ç±»å‹è¢«æŒ‡å®šä¸ºä¸€ä¸ªå‚æ•°ï¼Œè¿™ç§å‚æ•°ç±»å‹å¯ä»¥ç”¨åœ¨ç±»ã€æ¥å£å’Œæ–¹æ³•ä¸­ï¼Œåˆ†åˆ«è¢«ç§°ä¸ºæ³›å‹ç±»ã€æ³›å‹æ¥å£ã€æ³›å‹æ–¹æ³• å¸¸è§çš„å¦‚Tã€Eã€Kã€Vç­‰å½¢å¼çš„å‚æ•°å¸¸ç”¨äºè¡¨ç¤ºæ³›å‹ æ³›å‹ç±»ï¼š æ ¼å¼ï¼šï¼ˆæ³›å‹çš„ç±»å‹å‚æ•°åªèƒ½æ˜¯ç±»ç±»å‹ï¼Œä¸èƒ½æ˜¯ç®€å•ç±»å‹ï¼‰ class ç±»åç§° &lt;æ³›å‹æ ‡è¯†ï¼šå¯ä»¥éšä¾¿å†™ä»»æ„æ ‡è¯†å·ï¼Œæ ‡è¯†æŒ‡å®šçš„æ³›å‹çš„ç±»å‹&gt;&#123; private æ³›å‹æ ‡è¯† /*ï¼ˆæˆå‘˜å˜é‡ç±»å‹ï¼‰*/ var; ..... &#125;&#125;//exp:public class Generic&lt;T&gt;&#123; private T key;&#125; æ³›å‹æ¥å£: æ ¼å¼ï¼š //å®šä¹‰ä¸€ä¸ªæ³›å‹æ¥å£public interface Generator&lt;T&gt; &#123; public T next();&#125; æ³›å‹æ–¹æ³•ï¼š æ³›å‹æ–¹æ³•ï¼Œæ˜¯åœ¨è°ƒç”¨æ–¹æ³•çš„æ—¶å€™æŒ‡æ˜æ³›å‹çš„å…·ä½“ç±»å‹ æ ¼å¼ï¼š public &lt;T&gt; T genericMethod(Class&lt;T&gt; tClass)throws InstantiationException , IllegalAccessException&#123; T instance = tClass.newInstance(); return instance; æ³¨è§£ï¼šæ³¨è§£å°±æ˜¯å¯¹äºä»£ç ä¸­æŸäº›é²œæ´»ä¸ªä½“çš„è´´ä¸Šå»çš„ä¸€å¼ æ ‡ç­¾ å…ƒæ³¨è§£ å…ƒæ³¨è§£æ˜¯å¯ä»¥æ³¨è§£åˆ°æ³¨è§£ä¸Šçš„æ³¨è§£ï¼Œæˆ–è€…è¯´å…ƒæ³¨è§£æ˜¯ä¸€ç§åŸºæœ¬æ³¨è§£ å…ƒæ ‡ç­¾æœ‰ @Retentionã€@Documentedã€@Targetã€@Inheritedã€@Repeatable 5 ç§ @Retention å®ƒè§£é‡Šè¯´æ˜äº†è¿™ä¸ªæ³¨è§£çš„çš„å­˜æ´»æ—¶é—´ å®ƒçš„å–å€¼å¦‚ä¸‹ï¼š RetentionPolicy.SOURCE æ³¨è§£åªåœ¨æºç é˜¶æ®µä¿ç•™ï¼Œåœ¨ç¼–è¯‘å™¨è¿›è¡Œç¼–è¯‘æ—¶å®ƒå°†è¢«ä¸¢å¼ƒå¿½è§†ã€‚ RetentionPolicy.CLASS æ³¨è§£åªè¢«ä¿ç•™åˆ°ç¼–è¯‘è¿›è¡Œçš„æ—¶å€™ï¼Œå®ƒå¹¶ä¸ä¼šè¢«åŠ è½½åˆ° JVM ä¸­ã€‚ RetentionPolicy.RUNTIME æ³¨è§£å¯ä»¥ä¿ç•™åˆ°ç¨‹åºè¿è¡Œçš„æ—¶å€™ï¼Œå®ƒä¼šè¢«åŠ è½½è¿›å…¥åˆ° JVM ä¸­ï¼Œæ‰€ä»¥åœ¨ç¨‹åºè¿è¡Œæ—¶å¯ä»¥è·å–åˆ°å®ƒä»¬ã€‚ @Documented å®ƒçš„ä½œç”¨æ˜¯èƒ½å¤Ÿå°†æ³¨è§£ä¸­çš„å…ƒç´ åŒ…å«åˆ° Javadoc ä¸­å» @Target æŒ‡å®šäº†æ³¨è§£è¿ç”¨çš„åœ°æ–¹ï¼Œå½“ä¸€ä¸ªæ³¨è§£è¢« @Target æ³¨è§£æ—¶ï¼Œè¿™ä¸ªæ³¨è§£å°±è¢«é™å®šäº†è¿ç”¨çš„åœºæ™¯ @Target æœ‰ä¸‹é¢çš„å–å€¼ ElementType.ANNOTATION_TYPE å¯ä»¥ç»™ä¸€ä¸ªæ³¨è§£è¿›è¡Œæ³¨è§£ ElementType.CONSTRUCTOR å¯ä»¥ç»™æ„é€ æ–¹æ³•è¿›è¡Œæ³¨è§£ ElementType.FIELD å¯ä»¥ç»™å±æ€§è¿›è¡Œæ³¨è§£ ElementType.LOCAL_VARIABLE å¯ä»¥ç»™å±€éƒ¨å˜é‡è¿›è¡Œæ³¨è§£ ElementType.METHOD å¯ä»¥ç»™æ–¹æ³•è¿›è¡Œæ³¨è§£ ElementType.PACKAGE å¯ä»¥ç»™ä¸€ä¸ªåŒ…è¿›è¡Œæ³¨è§£ ElementType.PARAMETER å¯ä»¥ç»™ä¸€ä¸ªæ–¹æ³•å†…çš„å‚æ•°è¿›è¡Œæ³¨è§£ ElementType.TYPE å¯ä»¥ç»™ä¸€ä¸ªç±»å‹è¿›è¡Œæ³¨è§£ï¼Œæ¯”å¦‚ç±»ã€æ¥å£ã€æšä¸¾ @Inherited Inherited æ˜¯ç»§æ‰¿çš„æ„æ€ï¼Œä½†æ˜¯å®ƒå¹¶ä¸æ˜¯è¯´æ³¨è§£æœ¬èº«å¯ä»¥ç»§æ‰¿ï¼Œè€Œæ˜¯è¯´å¦‚æœä¸€ä¸ªè¶…ç±»è¢« @Inherited æ³¨è§£è¿‡çš„æ³¨è§£è¿›è¡Œæ³¨è§£çš„è¯ï¼Œé‚£ä¹ˆå¦‚æœå®ƒçš„å­ç±»æ²¡æœ‰è¢«ä»»ä½•æ³¨è§£åº”ç”¨çš„è¯ï¼Œé‚£ä¹ˆè¿™ä¸ªå­ç±»å°±ç»§æ‰¿äº†è¶…ç±»çš„æ³¨è§£ æ³¨è§£ Test è¢« @Inherited ä¿®é¥°ï¼Œä¹‹åç±» A è¢« Test æ³¨è§£ï¼Œç±» B ç»§æ‰¿ A,ç±» B ä¹Ÿå°†æ‹¥æœ‰ Test è¿™ä¸ªæ³¨è§£ @Repeatable å¯é‡å¤çš„æ„æ€ï¼Œæ ‡è¯†æŸæ³¨è§£å¯ä»¥åœ¨åŒä¸€ä¸ªå£°æ˜ä¸Šä½¿ç”¨å¤šæ¬¡ Persons æ˜¯ä¸€å¼ æ€»çš„æ ‡ç­¾ï¼Œä¸Šé¢è´´æ»¡äº† Person è¿™ç§åŒç±»å‹ä½†å†…å®¹ä¸ä¸€æ ·çš„æ ‡ç­¾ã€‚æŠŠ Persons ç»™ä¸€ä¸ª SuperMan è´´ä¸Šï¼Œç›¸å½“äºåŒæ—¶ç»™ä»–è´´äº†ç¨‹åºå‘˜ã€äº§å“ç»ç†ã€ç”»å®¶çš„æ ‡ç­¾ æ³¨è§£çš„å±æ€§ æ³¨è§£çš„å±æ€§ä¹Ÿå«åšæˆå‘˜å˜é‡ã€‚æ³¨è§£åªæœ‰æˆå‘˜å˜é‡ï¼Œæ²¡æœ‰æ–¹æ³•ã€‚æ³¨è§£çš„æˆå‘˜å˜é‡åœ¨æ³¨è§£çš„å®šä¹‰ä¸­ä»¥â€œæ— å½¢å‚çš„æ–¹æ³•â€å½¢å¼æ¥å£°æ˜ï¼Œå…¶æ–¹æ³•åå®šä¹‰äº†è¯¥æˆå‘˜å˜é‡çš„åå­—ï¼Œå…¶è¿”å›å€¼å®šä¹‰äº†è¯¥æˆå‘˜å˜é‡çš„ç±»å‹ èµ‹å€¼çš„æ–¹å¼æ˜¯åœ¨æ³¨è§£çš„æ‹¬å·å†…ä»¥ value=â€â€ å½¢å¼ï¼Œå¤šä¸ªå±æ€§ä¹‹å‰ç”¨ ï¼Œéš”å¼€ @&lt;æ³¨è§£å&gt;(&lt;æˆå‘˜å1&gt;=&lt;æˆå‘˜å€¼1&gt;,&lt;æˆå‘˜å1&gt;=&lt;æˆå‘˜å€¼1&gt;,...) éœ€è¦æ³¨æ„çš„ä¸€ç§æƒ…å†µæ˜¯ä¸€ä¸ªæ³¨è§£æ²¡æœ‰ä»»ä½•å±æ€§ public @interface Perform {} é‚£ä¹ˆåœ¨åº”ç”¨è¿™ä¸ªæ³¨è§£çš„æ—¶å€™ï¼Œæ‹¬å·éƒ½å¯ä»¥çœç•¥ @Perform Javaé¢„ç½®çš„æ³¨è§£ @Deprecated è¿™ä¸ªå…ƒç´ æ˜¯ç”¨æ¥æ ‡è®°è¿‡æ—¶çš„å…ƒç´ ã€‚ç¼–è¯‘å™¨åœ¨ç¼–è¯‘é˜¶æ®µé‡åˆ°è¿™ä¸ªæ³¨è§£æ—¶ä¼šå‘å‡ºæé†’è­¦å‘Šï¼Œå‘Šè¯‰å¼€å‘è€…æ­£åœ¨è°ƒç”¨ä¸€ä¸ªè¿‡æ—¶çš„å…ƒç´ æ¯”å¦‚è¿‡æ—¶çš„æ–¹æ³•ã€è¿‡æ—¶çš„ç±»ã€è¿‡æ—¶çš„æˆå‘˜å˜é‡ @Override æç¤ºå­ç±»è¦å¤å†™çˆ¶ç±»ä¸­è¢« @Override ä¿®é¥°çš„æ–¹æ³• @SuppressWarnings é˜»æ­¢è­¦å‘Šçš„æ„æ€ï¼Œè°ƒç”¨è¢« @Deprecated æ³¨è§£çš„æ–¹æ³•åï¼Œç¼–è¯‘å™¨ä¼šè­¦å‘Šæé†’ï¼Œè€Œæœ‰æ—¶å€™å¼€å‘è€…ä¼šå¿½ç•¥è¿™ç§è­¦å‘Šï¼Œä»–ä»¬å¯ä»¥åœ¨è°ƒç”¨çš„åœ°æ–¹é€šè¿‡ @SuppressWarnings è¾¾åˆ°ç›®çš„ @SafeVarargs å‚æ•°å®‰å…¨ç±»å‹æ³¨è§£ï¼Œå®ƒçš„ç›®çš„æ˜¯æé†’å¼€å‘è€…ä¸è¦ç”¨å‚æ•°åšä¸€äº›ä¸å®‰å…¨çš„æ“ä½œ,å®ƒçš„å­˜åœ¨ä¼šé˜»æ­¢ç¼–è¯‘å™¨äº§ç”Ÿ unchecked è¿™æ ·çš„è­¦å‘Šã€‚å®ƒæ˜¯åœ¨ Java 1.7 çš„ç‰ˆæœ¬ä¸­åŠ å…¥çš„ @FunctionalInterface å‡½æ•°å¼æ¥å£æ³¨è§£ï¼Œè¿™ä¸ªæ˜¯ Java 1.8 ç‰ˆæœ¬å¼•å…¥çš„æ–°ç‰¹æ€§ã€‚å‡½æ•°å¼æ¥å£ (Functional Interface) å°±æ˜¯ä¸€ä¸ªå…·æœ‰ä¸€ä¸ªæ–¹æ³•çš„æ™®é€šæ¥å£ã€‚ è¿›è¡Œçº¿ç¨‹å¼€å‘ä¸­å¸¸ç”¨çš„ Runnable å°±æ˜¯ä¸€ä¸ªå…¸å‹çš„å‡½æ•°å¼æ¥å£å¯ä»¥çœ‹åˆ°å®ƒå°±è¢« @FunctionalInterface æ³¨è§£ è‡ªå®šä¹‰æ³¨è§£ æ ¼å¼ï¼špublic @interface æ³¨è§£å {å®šä¹‰ä½“} Chapter-6ï¼ˆæ ‡å‡†ç±»åº“ï¼‰ å­—ç¬¦ä¸²ç±»ï¼š Stringçš„æ„é€ ï¼š String s = new String(â€œString testâ€); String s = â€œString testâ€; ```javachar temp_box[] = {â€˜aâ€™, â€˜bâ€™, â€˜câ€™}; //æ•°ç»„æ„é€ String temp3 = new String(temp_box); 2. å¸¸ç”¨æ–¹æ³•ï¼š - **.length()** æ±‚Stringé•¿åº¦ - **.equals()** åˆ¤æ–­ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç›¸åŒ - **.compareTo()** é•¿åº¦ç›¸åŒ,ä»ç¬¬ä¸€ä½å¼€å§‹æ¯”è¾ƒï¼Œå¦‚æœç›¸åŒè¿”å›0ï¼Œå¦‚æœä¸åŒåˆ™é©¬ä¸Šè¿”å›è¿™ä¸¤ä¸ªå­—ç¬¦çš„asciiå€¼çš„å·®å€¼; é•¿åº¦ä¸åŒ,ç›´æ¥è¿”å›é•¿åº¦å·®å€¼ - **.indexOf()** ç”±å‰å‘åæŸ¥æ‰¾æŒ‡å®šå­—ç¬¦ä¸²ä½ç½®ï¼Œå¦‚æœè¶…æ‰¾åˆ°äº†åˆ™è¿”å›ï¼ˆç¬¬ä¸€ä¸ªå­—æ¯ï¼‰ä½ç½®ç´¢å¼•ï¼Œå¦‚æœæ‰¾ä¸åˆ°è¿”å›-1 - **.substring(int beginIndex,int endIndex)** è·å¾—çš„å­ä¸²æ˜¯ä»å½“å‰å­—ç¬¦ä¸²çš„beginIndexå¤„å¼€å§‹æˆªå–åˆ°endIndex-1ç»“æŸæ‰€å¾—åˆ°çš„å­—ç¬¦ä¸² - **.replaceAll(String old, String new)** ç”¨newå­—ç¬¦ä¸²æ›¿æ¢oldå­—ç¬¦ä¸² - **.trim()** ç”¨äºåˆ é™¤å­—ç¬¦ä¸²çš„å¤´å°¾ç©ºç™½ç¬¦3. StringBufferç±»ï¼š - å¯¹å­—ç¬¦ä¸²è¿›è¡Œä¿®æ”¹æ—¶ï¼Œéœ€è¦ä½¿ç”¨StringBufferç±»ï¼›StringBufferç±»å¯ä»¥å¤šæ¬¡ä¿®æ”¹ï¼Œå¹¶ä¸”ä¸äº§ç”Ÿæ–°çš„æœªä½¿ç”¨å¯¹è±¡ï¼ˆå› ä¸ºåªå¯¹StringBufferå¯¹è±¡æœ¬èº«è¿›è¡Œæ“ä½œï¼‰4. StringBuilderç±»ï¼š - StringBuilder ç±»åœ¨ Java 5 ä¸­è¢«æå‡ºï¼Œå®ƒå’Œ StringBuffer ä¹‹é—´çš„æœ€å¤§ä¸åŒåœ¨äº StringBuilder çš„æ–¹æ³•ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼›ä¸”ç›¸è¾ƒäºStringBufferï¼Œæœ‰é€Ÿåº¦ä¼˜åŠ¿ - ```java //ä»£ç äº‹ä¾‹ï¼š StringBuilder temp = new StringBuilder(10); //capacity = 10 temp.append(&quot;noob..&quot;); temp.insert(3,&quot;a&quot;); å¸¸ç”¨æ–¹æ³•ï¼š .capacity() è¿”å›å½“å‰å®¹é‡ .append(String value) æ·»åŠ æŒ‡å®šå­—ç¬¦ä¸²åˆ°æ­¤åºåˆ— .insert(int index, String value) åœ¨indexå¤„æ’å…¥å­—ç¬¦ä¸²value .reverse() å°†æ­¤å­—ç¬¦ä¸²ç”¨åè½¬å½¢å¼å–ä»£ .delete(int start, int end) åˆ é™¤ [start,end) å¤„çš„å­—ç¬¦ä¸² .replace(int start, int end, String value) ä½¿ç”¨ç»™å®švalueä¸­çš„å­—ç¬¦æ›¿æ¢æ­¤åºåˆ—çš„å­å­—ç¬¦ä¸²ä¸­[start,end)çš„å­—ç¬¦ Systemç±»ï¼š .currentTimeMillis( ) è¿”å›è‡ª1970å¹´1æœˆ1æ—¥åˆå¤œèµ·åˆ°ç°åœ¨çš„æ—¶é—´ï¼Œæ—¶é—´å•ä½æ˜¯æ¯«ç§’ .arraycopy(src, src_start_Pos, dest, dest_start_Pos, length) å¯ä»¥å°†ä¸€ä¸ªä»»æ„ç±»å‹çš„æ•°ç»„å¿«é€Ÿåœ°ä»ä¸€ä¸ªåœ°æ–¹å¤åˆ¶åˆ°å¦ä¸€ä¸ªåœ°æ–¹(è¿™æ¯”ä½¿ç”¨Javaä¸­ç¼–å†™çš„å¾ªç¯è¦å¿«çš„å¤š);éœ€è¦æ³¨æ„çš„æ˜¯ç›®æ ‡æ•°ç»„ç›¸å¯¹åº”ä½ç½®ä¸Šçš„å…ƒç´ ä¼šè¢«è¦†ç›–æ‰ Runtimeç±»ï¼š Runtime r = new Runtime.getRuntime()ï¼› r.totalMemory(); r.freeMemory(); å¯ä»¥ç”¨äºè·å–Javaè™šæ‹Ÿæœºå†…éƒ¨çš„å†…å­˜ä½¿ç”¨ Mathç±»ï¼š .nextInt(int n) è¿”å›ä¸€ä¸ª[0,n) çš„éšæœºæ•´æ•° .nextDouble(); .nextLong(); .nextBoolean(); è¿”å›ä¸€ä¸ªéšæœºå€¼ Collectioné›†åˆç±»ï¼š ä¸»è¦åˆ†ä¸º3ç§ï¼šSetã€Mapå’ŒList é¢å‘æ¥å£ç¼–ç¨‹ï¼Œå…ˆå®šä¹‰æ¥å£ï¼Œå†å®šä¹‰å®ç°ç±» å¸¸ç”¨æ–¹æ³•ï¼š .add(); .remove(); .size(); .toarray(); ArrayListç±»ï¼š Iteratorï¼š ArrayList al = new ArrayList(); Iterator it = al.iterator(); Map;HashMap;Set;HashSet;TreeSetç±» Chapter-7ï¼ˆå¼‚å¸¸å¤„ç†ï¼‰å¼‚å¸¸çš„æ ¹ç±»æ˜¯ Throwable ï¼Œå¼‚å¸¸ç±»å¯ä»¥åˆ†ä¸ºErrorå’ŒException Error Erroré€šå¸¸æ˜¯æ— æ³•å¤„ç†çš„å¼‚å¸¸ï¼Œæ¯”å¦‚OutOfMemoryErrorï¼Œä¸€èˆ¬å‘ç”Ÿè¿™ç§å¼‚å¸¸ï¼ŒJVMä¼šé€‰æ‹©ç»ˆæ­¢ç¨‹åº Exception Exceptionæ˜¯å¯ä»¥å¤„ç†çš„å¼‚å¸¸ï¼Œæ¯”å¦‚NullPointerExceptionã€IndexOutOfBoundsExceptionï¼›Exceptionç±»çš„å¼‚å¸¸åŒ…æ‹¬checked exceptionå’Œunchecked exceptionï¼ˆunchecked exceptionä¹Ÿç§°è¿è¡Œæ—¶å¼‚å¸¸RuntimeExceptionï¼Œå½“ç„¶è¿™é‡Œçš„è¿è¡Œæ—¶å¼‚å¸¸å¹¶ä¸æ˜¯å‰é¢æ‰€è¯´çš„è¿è¡ŒæœŸé—´çš„å¼‚å¸¸ï¼Œåªæ˜¯Javaä¸­ç”¨è¿è¡Œæ—¶å¼‚å¸¸è¿™ä¸ªæœ¯è¯­æ¥è¡¨ç¤ºï¼ŒExceptionç±»çš„å¼‚å¸¸éƒ½æ˜¯åœ¨è¿è¡ŒæœŸé—´å‘ç”Ÿçš„ï¼‰ unchecked exceptionï¼ˆéæ£€æŸ¥å¼‚å¸¸ï¼‰ ä¹Ÿç§°è¿è¡Œæ—¶å¼‚å¸¸ï¼ˆRuntimeExceptionï¼‰ï¼Œæ¯”å¦‚å¸¸è§çš„NullPointerExceptionã€IndexOutOfBoundsExceptionã€‚å¯¹äºè¿è¡Œæ—¶å¼‚å¸¸ï¼Œjavaç¼–è¯‘å™¨ä¸è¦æ±‚å¿…é¡»è¿›è¡Œå¼‚å¸¸æ•è·å¤„ç†æˆ–è€…æŠ›å‡ºå£°æ˜ï¼Œç”±ç¨‹åºå‘˜è‡ªè¡Œå†³å®š checked exceptionï¼ˆæ£€æŸ¥å¼‚å¸¸ï¼‰ ä¹Ÿç§°éè¿è¡Œæ—¶å¼‚å¸¸ï¼ˆè¿è¡Œæ—¶å¼‚å¸¸ä»¥å¤–çš„å¼‚å¸¸å°±æ˜¯éè¿è¡Œæ—¶å¼‚å¸¸ï¼‰ï¼Œjavaç¼–è¯‘å™¨å¼ºåˆ¶ç¨‹åºå‘˜å¿…é¡»è¿›è¡Œæ•è·å¤„ç†ï¼Œæ¯”å¦‚å¸¸è§çš„IOExeptionå’ŒSQLExceptionã€‚å¯¹äºéè¿è¡Œæ—¶å¼‚å¸¸å¦‚æœä¸è¿›è¡Œæ•è·æˆ–è€…æŠ›å‡ºå£°æ˜å¤„ç†ï¼Œç¼–è¯‘éƒ½ä¸ä¼šé€šè¿‡ å¼‚å¸¸çš„å¤„ç† Tryâ€¦catchâ€¦finally try&#123; //tryå—ä¸­æ”¾å¯èƒ½å‘ç”Ÿå¼‚å¸¸çš„ä»£ç  //å¦‚æœæ‰§è¡Œå®Œtryä¸”ä¸å‘ç”Ÿå¼‚å¸¸ï¼Œåˆ™æ¥ç€å»æ‰§è¡Œfinallyå—å’Œfinallyåé¢çš„ä»£ç ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ //å¦‚æœå‘ç”Ÿå¼‚å¸¸ï¼Œåˆ™å°è¯•å»åŒ¹é…catchå—&#125;catch(SQLException SQLexception)&#123; //æ¯ä¸€ä¸ªcatchå—ç”¨äºæ•è·å¹¶å¤„ç†ä¸€ä¸ªç‰¹å®šçš„å¼‚å¸¸ï¼Œæˆ–è€…è¿™å¼‚å¸¸ç±»å‹çš„å­ç±»ã€‚Java7ä¸­å¯ä»¥å°†å¤šä¸ªå¼‚å¸¸å£°æ˜åœ¨ä¸€ä¸ªcatchä¸­ //catchåé¢çš„æ‹¬å·å®šä¹‰äº†å¼‚å¸¸ç±»å‹å’Œå¼‚å¸¸å‚æ•°ã€‚å¦‚æœå¼‚å¸¸ä¸ä¹‹åŒ¹é…ä¸”æ˜¯æœ€å…ˆåŒ¹é…åˆ°çš„ï¼Œåˆ™è™šæ‹Ÿæœºå°†ä½¿ç”¨è¿™ä¸ªcatchå—æ¥å¤„ç†å¼‚å¸¸ //åœ¨catchå—ä¸­å¯ä»¥ä½¿ç”¨è¿™ä¸ªå—çš„å¼‚å¸¸å‚æ•°æ¥è·å–å¼‚å¸¸çš„ç›¸å…³ä¿¡æ¯ã€‚å¼‚å¸¸å‚æ•°æ˜¯è¿™ä¸ªcatchå—ä¸­çš„å±€éƒ¨å˜é‡ï¼Œå…¶å®ƒå—ä¸èƒ½è®¿é—® //å¦‚æœå½“å‰tryå—ä¸­å‘ç”Ÿçš„å¼‚å¸¸åœ¨åç»­çš„æ‰€æœ‰catchä¸­éƒ½æ²¡æ•è·åˆ°ï¼Œåˆ™å…ˆå»æ‰§è¡Œfinallyï¼Œç„¶ååˆ°è¿™ä¸ªå‡½æ•°çš„å¤–éƒ¨callerä¸­å»åŒ¹é…å¼‚å¸¸å¤„ç†å™¨ //å¦‚æœtryä¸­æ²¡æœ‰å‘ç”Ÿå¼‚å¸¸ï¼Œåˆ™æ‰€æœ‰çš„catchå—å°†è¢«å¿½ç•¥&#125;catch(Exception exception)&#123; //å¦‚æœåŒä¸€ä¸ªtryå—ä¸‹çš„å¤šä¸ªcatchå¼‚å¸¸ç±»å‹æœ‰çˆ¶å­å…³ç³»ï¼Œåº”è¯¥å°†å­ç±»å¼‚å¸¸æ”¾åœ¨å‰é¢ï¼Œçˆ¶ç±»å¼‚å¸¸æ”¾åœ¨åé¢&#125;finally&#123; //finallyå—é€šå¸¸æ˜¯å¯é€‰çš„ //æ— è®ºå¼‚å¸¸æ˜¯å¦å‘ç”Ÿï¼Œå¼‚å¸¸æ˜¯å¦åŒ¹é…è¢«å¤„ç†ï¼Œfinallyéƒ½ä¼šæ‰§è¡Œ //ä¸€ä¸ªtryè‡³å°‘è¦æœ‰ä¸€ä¸ªcatchå—ï¼Œå¦åˆ™ï¼Œ è‡³å°‘è¦æœ‰1ä¸ªfinallyå—ã€‚ä½†æ˜¯finallyä¸æ˜¯ç”¨æ¥å¤„ç†å¼‚å¸¸çš„ï¼Œfinallyä¸ä¼šæ•è·å¼‚å¸¸ //finallyä¸»è¦åšä¸€äº›æ¸…ç†å·¥ä½œï¼Œå¦‚æµçš„å…³é—­ï¼Œæ•°æ®åº“è¿æ¥çš„å…³é—­ç­‰&#125; javaä¸­ï¼Œå¼‚å¸¸å¤„ç†çš„ä»»åŠ¡å°±æ˜¯å°†æ‰§è¡Œæ§åˆ¶æµä»å¼‚å¸¸å‘ç”Ÿçš„åœ°æ–¹è½¬ç§»åˆ°èƒ½å¤Ÿå¤„ç†è¿™ç§å¼‚å¸¸çš„åœ°æ–¹å»ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼šå½“ä¸€ä¸ªå‡½æ•°çš„æŸæ¡è¯­å¥å‘ç”Ÿå¼‚å¸¸æ—¶ï¼Œè¿™æ¡è¯­å¥çš„åé¢çš„è¯­å¥ä¸ä¼šå†æ‰§è¡Œï¼Œå®ƒå¤±å»äº†ç„¦ç‚¹ã€‚æ‰§è¡Œæµè·³è½¬åˆ°æœ€è¿‘çš„åŒ¹é…çš„å¼‚å¸¸å¤„ç†catchä»£ç å—å»æ‰§è¡Œï¼Œå¼‚å¸¸è¢«å¤„ç†å®Œåï¼Œæ‰§è¡Œæµä¼šæ¥ç€åœ¨â€œå¤„ç†äº†è¿™ä¸ªå¼‚å¸¸çš„catchä»£ç å—â€åé¢æ¥ç€æ‰§è¡Œã€‚ Throwså‡½æ•° throwsæ˜¯å¦ä¸€ç§å¤„ç†å¼‚å¸¸çš„æ–¹å¼ï¼Œå®ƒä¸åŒäºtryâ€¦catchâ€¦finallyï¼Œthrowsä»…ä»…æ˜¯å°†å‡½æ•°ä¸­å¯èƒ½å‡ºç°çš„å¼‚å¸¸å‘è°ƒç”¨è€…å£°æ˜ï¼Œè€Œè‡ªå·±åˆ™ä¸å…·ä½“å¤„ç† å¦‚æœä¸€ä¸ªæ–¹æ³•å†…éƒ¨çš„ä»£ç ä¼šæŠ›å‡ºæ£€æŸ¥å¼‚å¸¸ï¼ˆchecked exceptionï¼‰ï¼Œè€Œæ–¹æ³•è‡ªå·±åˆæ²¡æœ‰å®Œå…¨å¤„ç†æ‰ï¼Œåˆ™javacä¿è¯ä½ å¿…é¡»åœ¨æ–¹æ³•çš„ç­¾åä¸Šä½¿ç”¨throwså…³é”®å­—å£°æ˜è¿™äº›å¯èƒ½æŠ›å‡ºçš„å¼‚å¸¸ï¼Œå¦åˆ™ç¼–è¯‘ä¸é€šè¿‡ é‡‡å–è¿™ç§å¼‚å¸¸å¤„ç†çš„åŸå› å¯èƒ½æ˜¯ï¼šæ–¹æ³•æœ¬èº«ä¸çŸ¥é“å¦‚ä½•å¤„ç†è¿™æ ·çš„å¼‚å¸¸ï¼Œæˆ–è€…è¯´è®©è°ƒç”¨è€…å¤„ç†æ›´å¥½ï¼Œè°ƒç”¨è€…éœ€è¦ä¸ºå¯èƒ½å‘ç”Ÿçš„å¼‚å¸¸è´Ÿè´£ public void foo() throws ExceptionType1 , ExceptionType2 ,ExceptionTypeN&#123; //fooå†…éƒ¨å¯ä»¥æŠ›å‡º ExceptionType1 , ExceptionType2 ,ExceptionTypeN ç±»çš„å¼‚å¸¸ï¼Œæˆ–è€…ä»–ä»¬çš„å­ç±»çš„å¼‚å¸¸å¯¹è±¡&#125; Throwså’ŒThrow throws æ˜¯æ–¹æ³•å¯èƒ½æŠ›å‡ºå¼‚å¸¸çš„å£°æ˜(ç”¨åœ¨å£°æ˜æ–¹æ³•æ—¶ï¼Œè¡¨ç¤ºè¯¥æ–¹æ³•å¯èƒ½è¦æŠ›å‡ºå¼‚å¸¸) è°ƒç”¨è€…å¿…é¡»åšå‡ºå¤„ç†ï¼ˆæ•è·æˆ–ç»§ç»­æŠ›å‡ºï¼‰ public void doA(int a) throws Exception1,Exception3{â€¦â€¦} throw æ˜¯è¯­å¥æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ throw e; throwså¯ä»¥å•ç‹¬ä½¿ç”¨ï¼Œä½†throwä¸èƒ½ï¼Œ throwè¦ä¹ˆå’Œtry-catch-finallyè¯­å¥é…å¥—ä½¿ç”¨ï¼Œè¦ä¹ˆä¸throwsé…å¥—ä½¿ç”¨ã€‚ä½†throwså¯ä»¥å•ç‹¬ä½¿ç”¨ï¼Œç„¶åå†ç”±å¤„ç†å¼‚å¸¸çš„æ–¹æ³•æ•è· throwè¯­å¥ç”¨åœ¨æ–¹æ³•ä½“å†…,è¡¨ç¤ºæŠ›å‡ºå¼‚å¸¸,ç”±æ–¹æ³•ä½“å†…çš„è¯­å¥å¤„ç† throwsè¯­å¥ç”¨åœ¨æ–¹æ³•å£°æ˜åé¢,è¡¨ç¤ºå†æŠ›å‡ºå¼‚å¸¸,ç”±è°ƒç”¨è¿™ä¸ªæ–¹æ³•çš„ä¸Šä¸€çº§æ–¹æ³•ä¸­çš„è¯­å¥æ¥å¤„ç†ï¼Œå¿…é¡»åšå‡ºå¤„ç†(æ•è·æˆ–ç»§ç»­å£°æ˜) throwsä¸»è¦æ˜¯å£°æ˜è¿™ä¸ªæ–¹æ³•ä¼šæŠ›å‡ºè¿™ç§ç±»å‹çš„å¼‚å¸¸ï¼Œä½¿å…¶ä»–åœ°æ–¹è°ƒç”¨å®ƒæ—¶çŸ¥é“è¦æ•è·è¿™ä¸ªå¼‚å¸¸ï¼Œä½¿å¾—æé†’å¿…é¡»åšå‡ºå¤„ç†ã€‚å¦åˆ™ç¼–è¯‘æ˜¯ä¸ä¼šé€šè¿‡çš„throwæ˜¯å…·ä½“å‘å¤–æŠ›å¼‚å¸¸çš„åŠ¨ä½œï¼Œæ‰€ä»¥å®ƒæ˜¯æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸å®ä¾‹ Finallyå— finallyå—ä¸ç®¡å¼‚å¸¸æ˜¯å¦å‘ç”Ÿï¼Œåªè¦å¯¹åº”çš„tryæ‰§è¡Œäº†ï¼Œåˆ™å®ƒä¸€å®šä¹Ÿæ‰§è¡Œã€‚åªæœ‰ä¸€ç§æ–¹æ³•è®©finallyå—ä¸æ‰§è¡Œï¼šSystem.exit()ã€‚å› æ­¤finallyå—é€šå¸¸ç”¨æ¥åšèµ„æºé‡Šæ”¾æ“ä½œï¼šå…³é—­æ–‡ä»¶ï¼Œå…³é—­æ•°æ®åº“è¿æ¥ç­‰ç­‰ã€‚ è‰¯å¥½çš„ç¼–ç¨‹ä¹ æƒ¯æ˜¯ï¼šåœ¨tryå—ä¸­æ‰“å¼€èµ„æºï¼Œåœ¨finallyå—ä¸­æ¸…ç†é‡Šæ”¾è¿™äº›èµ„æº finallyå—æ²¡æœ‰å¤„ç†å¼‚å¸¸çš„èƒ½åŠ›ã€‚å¤„ç†å¼‚å¸¸çš„åªèƒ½æ˜¯catchå— åœ¨åŒä¸€tryâ€¦catchâ€¦finallyå—ä¸­ ï¼Œå¦‚æœtryä¸­æŠ›å‡ºå¼‚å¸¸ï¼Œä¸”æœ‰åŒ¹é…çš„catchå—ï¼Œåˆ™å…ˆæ‰§è¡Œcatchå—ï¼Œå†æ‰§è¡Œfinallyå—ã€‚å¦‚æœæ²¡æœ‰catchå—åŒ¹é…ï¼Œåˆ™å…ˆæ‰§è¡Œfinallyï¼Œç„¶åå»å¤–é¢çš„è°ƒç”¨è€…ä¸­å¯»æ‰¾åˆé€‚çš„catchå— åœ¨åŒä¸€tryâ€¦catchâ€¦finallyå—ä¸­ ï¼Œtryå‘ç”Ÿå¼‚å¸¸ï¼Œä¸”åŒ¹é…çš„catchå—ä¸­å¤„ç†å¼‚å¸¸æ—¶ä¹ŸæŠ›å‡ºå¼‚å¸¸ï¼Œé‚£ä¹ˆåé¢çš„finallyä¹Ÿä¼šæ‰§è¡Œï¼šé¦–å…ˆæ‰§è¡Œfinallyå—ï¼Œç„¶åå»å¤–å›´è°ƒç”¨è€…ä¸­å¯»æ‰¾åˆé€‚çš„catchå— åœ¨ tryå—ä¸­å³ä¾¿æœ‰returnï¼Œbreakï¼Œcontinueç­‰æ”¹å˜æ‰§è¡Œæµçš„è¯­å¥ï¼Œfinallyä¹Ÿä¼šæ‰§è¡Œ âš ï¸æ³¨æ„ï¼š å½“å­ç±»é‡å†™çˆ¶ç±»çš„å¸¦æœ‰ throwså£°æ˜çš„å‡½æ•°æ—¶ï¼Œå…¶throwså£°æ˜çš„å¼‚å¸¸å¿…é¡»åœ¨çˆ¶ç±»å¼‚å¸¸çš„å¯æ§èŒƒå›´å†…â€”â€”ç”¨äºå¤„ç†çˆ¶ç±»çš„throwsæ–¹æ³•çš„å¼‚å¸¸å¤„ç†å™¨ï¼Œå¿…é¡»ä¹Ÿé€‚ç”¨äºå­ç±»çš„è¿™ä¸ªå¸¦throwsæ–¹æ³• ã€‚è¿™æ˜¯ä¸ºäº†æ”¯æŒå¤šæ€ Javaç¨‹åºå¯ä»¥æ˜¯å¤šçº¿ç¨‹çš„ã€‚æ¯ä¸€ä¸ªçº¿ç¨‹éƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æ‰§è¡Œæµï¼Œç‹¬ç«‹çš„å‡½æ•°è°ƒç”¨æ ˆã€‚å¦‚æœç¨‹åºåªæœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œé‚£ä¹ˆæ²¡æœ‰è¢«ä»»ä½•ä»£ç å¤„ç†çš„å¼‚å¸¸ ä¼šå¯¼è‡´ç¨‹åºç»ˆæ­¢ã€‚å¦‚æœæ˜¯å¤šçº¿ç¨‹çš„ï¼Œé‚£ä¹ˆæ²¡æœ‰è¢«ä»»ä½•ä»£ç å¤„ç†çš„å¼‚å¸¸ä»…ä»…ä¼šå¯¼è‡´å¼‚å¸¸æ‰€åœ¨çš„çº¿ç¨‹ç»“æŸ ä¹Ÿå°±æ˜¯è¯´ï¼ŒJavaä¸­çš„å¼‚å¸¸æ˜¯çº¿ç¨‹ç‹¬ç«‹çš„ï¼Œçº¿ç¨‹çš„é—®é¢˜åº”è¯¥ç”±çº¿ç¨‹è‡ªå·±æ¥è§£å†³ï¼Œè€Œä¸è¦å§”æ‰˜åˆ°å¤–éƒ¨ï¼Œä¹Ÿä¸ä¼šç›´æ¥å½±å“åˆ°å…¶å®ƒçº¿ç¨‹çš„æ‰§è¡Œ finallyå’Œreturnå»ºè®® ä¸è¦åœ¨fianllyä¸­ä½¿ç”¨return ä¸è¦åœ¨finallyä¸­æŠ›å‡ºå¼‚å¸¸ å‡è½»finallyçš„ä»»åŠ¡ï¼Œä¸è¦åœ¨finallyä¸­åšä¸€äº›å…¶å®ƒçš„äº‹æƒ…ï¼Œfinallyå—ä»…ä»…ç”¨æ¥é‡Šæ”¾èµ„æºæ˜¯æœ€åˆé€‚çš„ å°†å°½é‡å°†æ‰€æœ‰çš„returnå†™åœ¨å‡½æ•°çš„æœ€åé¢ï¼Œè€Œä¸æ˜¯try â€¦ catch â€¦ finallyä¸­ Chapter-8ï¼ˆè¾“å…¥è¾“å‡ºå¤„ç†ï¼‰ Javaæµ æ ‡å‡†è¾“å…¥è¾“å‡ºï¼Œæ–‡ä»¶çš„æ“ä½œï¼Œç½‘ç»œä¸Šçš„æ•°æ®æµï¼Œå­—ç¬¦ä¸²æµï¼Œå¯¹è±¡æµï¼Œzipæ–‡ä»¶æµç­‰ç­‰ï¼Œjavaä¸­å°†è¾“å…¥è¾“å‡ºæŠ½è±¡ç§°ä¸ºæµï¼Œå°±å¥½åƒæ°´ç®¡ï¼Œå°†ä¸¤ä¸ªå®¹å™¨è¿æ¥èµ·æ¥ã€‚å°†æ•°æ®å†²å¤–å­˜ä¸­è¯»å–åˆ°å†…å­˜ä¸­çš„ç§°ä¸ºè¾“å…¥æµï¼Œå°†æ•°æ®ä»å†…å­˜å†™å…¥å¤–å­˜ä¸­çš„ç§°ä¸ºè¾“å‡ºæµ æµæ˜¯ä¸€ä¸ªå¾ˆå½¢è±¡çš„æ¦‚å¿µï¼Œå½“ç¨‹åºéœ€è¦è¯»å–æ•°æ®çš„æ—¶å€™ï¼Œå°±ä¼šå¼€å¯ä¸€ä¸ªé€šå‘æ•°æ®æºçš„æµï¼Œè¿™ä¸ªæ•°æ®æºå¯ä»¥æ˜¯æ–‡ä»¶ï¼Œå†…å­˜ï¼Œæˆ–æ˜¯ç½‘ç»œè¿æ¥ã€‚ç±»ä¼¼çš„ï¼Œå½“ç¨‹åºéœ€è¦å†™å…¥æ•°æ®çš„æ—¶å€™ï¼Œå°±ä¼šå¼€å¯ä¸€ä¸ªé€šå‘ç›®çš„åœ°çš„æµ æµæŒ‰ç…§æµå‘å¯ä»¥åˆ†ä¸ºä¸¤ç§ï¼Œè¾“å…¥æµInputStreamå’Œè¾“å‡ºæµOutputStream æŒ‰ç…§å¤„ç†æ•°æ®å•å…ƒå¯ä»¥åˆ†ä¸ºä¸¤ç§ï¼Œå­—èŠ‚æµï¼ˆ8ä½é€šç”¨å­—èŠ‚æµï¼‰å’Œå­—ç¬¦æµï¼ˆ16ä½Unicodeå­—ç¬¦æµï¼‰ InputStreamæŠ½è±¡ç±» InputStream ä¸ºå­—èŠ‚è¾“å…¥æµï¼Œå®ƒæœ¬èº«ä¸ºä¸€ä¸ªæŠ½è±¡ç±»ï¼Œå¿…é¡»ä¾é å…¶å­ç±»å®ç°å„ç§åŠŸèƒ½ï¼Œæ­¤æŠ½è±¡ç±»æ˜¯è¡¨ç¤ºå­—èŠ‚è¾“å…¥æµçš„æ‰€æœ‰ç±»çš„è¶…ç±»ã€‚ ç»§æ‰¿è‡ªInputStream çš„æµéƒ½æ˜¯å‘ç¨‹åºä¸­è¾“å…¥æ•°æ®çš„ï¼Œä¸”æ•°æ®å•ä½ä¸ºå­—èŠ‚ï¼ˆ8bitï¼‰ Inputstreamç±»ä¸­çš„å¸¸ç”¨æ–¹æ³•ï¼š public abstract int read( )ï¼šè¯»å–ä¸€ä¸ªbyteçš„æ•°æ®ï¼Œè¿”å›å€¼æ˜¯é«˜ä½è¡¥0çš„intç±»å‹å€¼ã€‚è‹¥è¿”å›å€¼=-1è¯´æ˜æ²¡æœ‰è¯»å–åˆ°ä»»ä½•å­—èŠ‚è¯»å–å·¥ä½œç»“æŸ public int read(byte b[ ])ï¼šè¯»å–b.lengthä¸ªå­—èŠ‚çš„æ•°æ®æ”¾åˆ°bæ•°ç»„ä¸­ã€‚è¿”å›å€¼æ˜¯è¯»å–çš„å­—èŠ‚æ•°ã€‚è¯¥æ–¹æ³•å®é™…ä¸Šæ˜¯è°ƒç”¨ä¸‹ä¸€ä¸ªæ–¹æ³•å®ç°çš„ public int read(byte b[ ], int off, int len)ï¼šä»è¾“å…¥æµä¸­æœ€å¤šè¯»å–lenä¸ªå­—èŠ‚çš„æ•°æ®ï¼Œå­˜æ”¾åˆ°åç§»é‡ä¸ºoffçš„bæ•°ç»„ä¸­ public int available( )ï¼šè¿”å›è¾“å…¥æµä¸­å¯ä»¥è¯»å–çš„å­—èŠ‚æ•°ã€‚æ³¨æ„ï¼šè‹¥è¾“å…¥é˜»å¡ï¼Œå½“å‰çº¿ç¨‹å°†è¢«æŒ‚èµ·ï¼Œå¦‚æœInputStreamå¯¹è±¡è°ƒç”¨è¿™ä¸ªæ–¹æ³•çš„è¯ï¼Œå®ƒåªä¼šè¿”å›0ï¼Œè¿™ä¸ªæ–¹æ³•å¿…é¡»ç”±ç»§æ‰¿InputStreamç±»çš„å­ç±»å¯¹è±¡è°ƒç”¨æ‰æœ‰ç”¨ public long skip(long n)ï¼šå¿½ç•¥è¾“å…¥æµä¸­çš„nä¸ªå­—èŠ‚ï¼Œè¿”å›å€¼æ˜¯å®é™…å¿½ç•¥çš„å­—èŠ‚æ•°, è·³è¿‡ä¸€äº›å­—èŠ‚æ¥è¯»å– public int close( ) ï¼šæˆ‘ä»¬åœ¨ä½¿ç”¨å®Œåï¼Œå¿…é¡»å¯¹æˆ‘ä»¬æ‰“å¼€çš„æµè¿›è¡Œå…³é—­ OutputStreamæŠ½è±¡ç±» OutputStreamæä¾›äº†3ä¸ªwriteæ–¹æ³•æ¥åšæ•°æ®çš„è¾“å‡ºï¼Œè¿™ä¸ªæ˜¯å’ŒInputStreamæ˜¯ç›¸å¯¹åº”çš„ public void write(byte b[ ])ï¼šå°†å‚æ•°bä¸­çš„å­—èŠ‚å†™åˆ°è¾“å‡ºæµã€‚ public void write(byte b[ ], int off, int len) ï¼šå°†å‚æ•°bçš„ä»åç§»é‡offå¼€å§‹çš„lenä¸ªå­—èŠ‚å†™åˆ°è¾“å‡ºæµã€‚ public abstract void write(int b) ï¼šå…ˆå°†intè½¬æ¢ä¸ºbyteç±»å‹ï¼ŒæŠŠä½å­—èŠ‚å†™å…¥åˆ°è¾“å‡ºæµä¸­ public void flush( ) : å°†æ•°æ®ç¼“å†²åŒºä¸­æ•°æ®å…¨éƒ¨è¾“å‡ºï¼Œå¹¶æ¸…ç©ºç¼“å†²åŒº public void close( ) : å…³é—­è¾“å‡ºæµå¹¶é‡Šæ”¾ä¸æµç›¸å…³çš„ç³»ç»Ÿèµ„æº æµç»“æŸçš„åˆ¤æ–­ï¼šæ–¹æ³•read()çš„è¿”å›å€¼ä¸º-1æ—¶ï¼›readLine()çš„è¿”å›å€¼ä¸ºnullæ—¶ æ–‡ä»¶è¾“å…¥æµï¼š FileInputStreamç±» FileInputStreamå¯ä»¥ä½¿ç”¨read()æ–¹æ³•ä¸€æ¬¡è¯»å…¥ä¸€ä¸ªå­—èŠ‚ï¼Œå¹¶ä»¥intç±»å‹è¿”å›ï¼Œæˆ–è€…æ˜¯ä½¿ç”¨read()æ–¹æ³•æ—¶è¯»å…¥è‡³ä¸€ä¸ªbyteæ•°ç»„ï¼Œbyteæ•°ç»„çš„å…ƒç´ æœ‰å¤šå°‘ä¸ªï¼Œå°±è¯»å…¥å¤šå°‘ä¸ªå­—èŠ‚ã€‚åœ¨å°†æ•´ä¸ªæ–‡ä»¶è¯»å–å®Œæˆæˆ–å†™å…¥å®Œæ¯•çš„è¿‡ç¨‹ä¸­ï¼Œè¿™ä¹ˆä¸€ä¸ªbyteæ•°ç»„é€šå¸¸è¢«å½“ä½œç¼“å†²åŒºï¼Œå› ä¸ºè¿™ä¹ˆä¸€ä¸ªbyteæ•°ç»„é€šå¸¸æ‰®æ¼”æ‰¿æ¥æ•°æ®çš„ä¸­é—´è§’è‰² import java.io.File;import java.io.IOException;public class code01 &#123; public static void main(String[] args) throws IOException&#123; File dir = new File(&quot;/Users/calvin/IdeaProjects/test/src/iostream_demon&quot;); File f1 = new File(dir, &quot;code01.java&quot;); System.out.println(f1); System.out.println(&quot;exist :&quot; + f1.exists()); System.out.println(&quot;name :&quot; + f1.getName()); System.out.println(&quot;path :&quot; + f1.getPath()); System.out.println(&quot;absolute path :&quot; + f1.getAbsolutePath()); System.out.println(&quot;parent :&quot; + f1.getParent()); System.out.println(&quot;is a file :&quot; + f1.isFile()); System.out.println(&quot;is a dictionary :&quot; + f1.isDirectory()); System.out.println(&quot;length :&quot; + f1.length()); File temp_file = File.createTempFile(&quot;temp_file01&quot;,&quot;.tmp&quot;); System.out.println(&quot;absolute path :&quot; + temp_file.getAbsolutePath()); System.out.println(&quot;length :&quot; + temp_file.length()); &#125;&#125; æ–‡ä»¶è¾“å‡ºæµ:FileOutputStreamç±» ç”¨æ¥å¤„ç†ä»¥æ–‡ä»¶ä½œä¸ºæ•°æ®è¾“å‡ºç›®çš„æ•°æ®æµï¼›æˆ–è€…è¯´æ˜¯ä»å†…å­˜åŒºè¯»æ•°æ®å…¥æ–‡ä»¶ FileOutputStreamç±»ç”¨æ¥å¤„ç†ä»¥æ–‡ä»¶ä½œä¸ºæ•°æ®è¾“å‡ºç›®çš„æ•°æ®æµï¼›ä¸€ä¸ªè¡¨ç¤ºæ–‡ä»¶åçš„å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯Fileæˆ–FileDescriptorå¯¹è±¡ //åˆ›å»ºä¸€ä¸ªæ–‡ä»¶æµå¯¹è±¡æœ‰ä¸¤ç§æ–¹æ³•ï¼š //æ–¹å¼1ï¼š File f=new File (â€œd:/myjava/write.txt &quot;); FileOutputStream out= new FileOutputStream (f); //æ–¹å¼2ï¼š FileOutputStream out=new FileOutputStream(â€œd:/myjava/write.txt &quot;); //æ–¹å¼3ï¼šæ„é€ å‡½æ•°å°† FileDescriptor()å¯¹è±¡ä½œä¸ºå…¶å‚æ•°ã€‚ FileDescriptor() fd=new FileDescriptor(); FileOutputStream f2=new FileOutputStream(fd); //æ–¹å¼4ï¼šæ„é€ å‡½æ•°å°†æ–‡ä»¶åä½œä¸ºå…¶ç¬¬ä¸€å‚æ•°ï¼Œå°†å¸ƒå°”å€¼ä½œä¸ºç¬¬äºŒå‚æ•°ã€‚ FileOutputStream f=new FileOutputStream(&quot;d:/abc.txt&quot;,true); //æ³¨æ„ï¼š ï¼ˆ1ï¼‰æ–‡ä»¶ä¸­å†™æ•°æ®æ—¶ï¼Œè‹¥æ–‡ä»¶å·²ç»å­˜åœ¨ï¼Œåˆ™è¦†ç›–å­˜åœ¨çš„æ–‡ä»¶ï¼›ï¼ˆ2ï¼‰çš„è¯»/å†™æ“ä½œç»“æŸæ—¶ï¼Œåº”è°ƒç”¨closeæ–¹æ³•å…³é—­æµ ç¼“å†²è¾“å…¥è¾“å‡ºæµ BufferedInputStream/ BufferedOutputStream è®¡ç®—æœºè®¿é—®å¤–éƒ¨è®¾å¤‡éå¸¸è€—æ—¶ã€‚è®¿é—®å¤–å­˜çš„é¢‘ç‡è¶Šé«˜ï¼Œé€ æˆCPUé—²ç½®çš„æ¦‚ç‡å°±è¶Šå¤§ã€‚ä¸ºäº†å‡å°‘è®¿é—®å¤–å­˜çš„æ¬¡æ•°ï¼Œåº”è¯¥åœ¨ä¸€æ¬¡å¯¹å¤–è®¾çš„è®¿é—®ä¸­ï¼Œè¯»å†™æ›´å¤šçš„æ•°æ®ã€‚ä¸ºæ­¤ï¼Œé™¤äº†ç¨‹åºå’ŒæµèŠ‚ç‚¹é—´äº¤æ¢æ•°æ®å¿…éœ€çš„è¯»å†™æœºåˆ¶å¤–ï¼Œè¿˜åº”è¯¥å¢åŠ ç¼“å†²æœºåˆ¶ã€‚ç¼“å†²æµå°±æ˜¯æ¯ä¸€ä¸ªæ•°æ®æµåˆ†é…ä¸€ä¸ªç¼“å†²åŒºï¼Œä¸€ä¸ªç¼“å†²åŒºå°±æ˜¯ä¸€ä¸ªä¸´æ—¶å­˜å‚¨æ•°æ®çš„å†…å­˜ã€‚è¿™æ ·å¯ä»¥å‡å°‘è®¿é—®ç¡¬ç›˜çš„æ¬¡æ•°,æé«˜ä¼ è¾“æ•ˆç‡ BufferedInputStream:å½“å‘ç¼“å†²æµå†™å…¥æ•°æ®æ—¶å€™ï¼Œæ•°æ®å…ˆå†™åˆ°ç¼“å†²åŒºï¼Œå¾…ç¼“å†²åŒºå†™æ»¡åï¼Œç³»ç»Ÿä¸€æ¬¡æ€§å°†æ•°æ®å‘é€ç»™è¾“å‡ºè®¾å¤‡ BufferedOutputStream :å½“ä»å‘ç¼“å†²æµè¯»å–æ•°æ®æ—¶å€™ï¼Œç³»ç»Ÿå…ˆä»ç¼“å†²åŒºè¯»å‡ºæ•°æ®ï¼Œå¾…ç¼“å†²åŒºä¸ºç©ºæ—¶ï¼Œç³»ç»Ÿå†ä»è¾“å…¥è®¾å¤‡è¯»å–æ•°æ®åˆ°ç¼“å†²åŒº å°†æ–‡ä»¶è¯»å…¥å†…å­˜ï¼š å°†BufferedInputStreamä¸FileInputStreamç›¸æ¥ FileInputStream in=new FileInputStream( â€œfile1.txt â€ ); BufferedInputStream bin=new BufferedInputStream( in); å°†å†…å­˜å†™å…¥æ–‡ä»¶ï¼š å°†BufferedOutputStreamä¸ FileOutputStreamç›¸æ¥ FileOutputStreamout=new FileOutputStream(â€œfile1.txtâ€); BufferedOutputStream bin=new BufferedInputStream(out); é”®ç›˜è¾“å…¥æµè¯»åˆ°å†…å­˜ å°†BufferedReaderä¸æ ‡å‡†çš„æ•°æ®æµç›¸æ¥ InputStreamReader sin=new InputStreamReader (System.in) ï¼› BufferedReader bin=new BufferedReader(sin); //ç¼“å†²æµå®ç°æ–‡ä»¶å¤åˆ¶public class code02 &#123; public static void main(String[] args) throws IOException &#123; int size; FileInputStream f = new FileInputStream(&quot;/Users/calvin/IdeaProjects/test/src/iostream_demon/code02.java&quot;); FileOutputStream fout = new FileOutputStream(&quot;copy-of-file.txt&quot;); BufferedInputStream bis = new BufferedInputStream(f); BufferedOutputStream bos = new BufferedOutputStream(fout); System.out.println(&quot;Start Copy Process: &quot;); int n = f.available(); byte b[] = new byte[n]; int count = 0; while ((count = bis.read(b, 0, n)) != -1) bos.write(b, 0, n); System.out.println(&quot;Copy End&quot;); bis.close(); bos.flush(); bos.close(); f.close(); fout.flush(); fout.close(); &#125;&#125;","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"http://47.118.73.148/categories/%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"JAVA","slug":"java","permalink":"http://47.118.73.148/tags/java/"}]},{"title":"åˆ©ç”¨Fake-Locationå®ç°ä»£è·‘","slug":"åˆ©ç”¨fake-locationå®ç°ä»£è·‘","date":"2021-06-12T17:04:26.000Z","updated":"2022-03-24T14:50:31.950Z","comments":true,"path":"2021/06/13/åˆ©ç”¨fake-locationå®ç°ä»£è·‘/","link":"","permalink":"http://47.118.73.148/2021/06/13/%E5%88%A9%E7%94%A8fake-location%E5%AE%9E%E7%8E%B0%E4%BB%A3%E8%B7%91/","excerpt":"","text":"åˆ©ç”¨Fake Locationå®ç°ä»£è·‘å¤§å­¦æ¯å­¦æœŸéœ€è¦ä¹è·‘30æ¬¡ï¼ˆ30 * 3kmï¼‰ï¼Œè€Œæˆ‘åˆæ˜¯ä¸€æ¡æ‡’ç‹—ï¼Œæ‰€ä»¥å°±æƒ³åˆ°ç”¨è™šæ‹Ÿå®šä½æ¥ä»£è·‘ã€‚å¦‚æœç¢°å·§ä½ å’Œæˆ‘ä¸€æ ·ä¹Ÿæ˜¯ä¸€æ¡æ‡’ç‹—ï¼Œé‚£ä¸å¦¨ä¹Ÿè¯•è¯•ã€‚ ç›®å‰å·²çŸ¥Keepå’Œæ­¥é“ä¹è·‘å¯ä»¥æ­£å¸¸ç”¨ï¼Œå…¶ä»–è·‘æ­¥è½¯ä»¶æ²¡è¯•è¿‡ï¼Œåº”è¯¥æ²¡æœ‰å¤ªå¤§é—®é¢˜ã€‚ å‰æœŸå‡†å¤‡éœ€è¦ç”¨åˆ°çš„è®¾å¤‡ï¼š ä¸€éƒ¨å®‰å“æ‰‹æœº ğŸ§  å…·ä½“æ­¥éª¤1.è·å–rootæƒé™ å¦‚æœä½ çš„æ‰‹æœºå·²ç»rootï¼Œå¯ä»¥è·³åˆ°ä¸‹ä¸€æ­¥ã€‚ ç”±äºç›®å‰å¤§å¤šæ•°æ‰‹æœºrootéå¸¸éº»çƒ¦ï¼Œæ‰€ä»¥æˆ‘ä»¬é€‰æ‹©ä½¿ç”¨è™šæ‹Ÿæœºæ¥å®ç°è¿™ä¸€æ­¥éª¤ã€‚ Step1. ä¸‹è½½ VMOS Proï¼ˆåº”ç”¨å•†åº—é‡Œåº”è¯¥éƒ½æœ‰ï¼Œæ²¡æœ‰å°±å»ç™¾åº¦ä¸Šä¸‹è½½ï¼‰ Step2. è¿›å…¥VMOS Proï¼Œé€‰æ‹©ä¸€ä¸ªè‡ªå¸¦rootçš„ROMï¼Œå¦‚å®‰å“7.1ç²¾ç®€ç‰ˆã€‚å¸¦Rootçš„ROMä¸€èˆ¬éœ€è¦ä¼šå‘˜ï¼Œä½ å¯ä»¥é€‰æ‹©æ¯å¤©çœ‹å¹¿å‘Šç”¨ç§¯åˆ†ç™½å«–ï¼Œæˆ–æ˜¯å……å€¼ä¼šå‘˜ã€‚ Step3.è¿›å…¥ROMï¼Œç‚¹å‡»Settingï¼Œå‹¾é€‰è¶…çº§ç”¨æˆ·é€‰é¡¹ Step4. è¿›å…¥è®¾ç½®ï¼ˆä¸æ˜¯Settingï¼‰ï¼Œé€‰æ‹©å…³äºæ‰‹æœºï¼Œç‚¹å‡»ç‰ˆæœ¬å·5æ¬¡ï¼Œå½“è®¾å¤‡æ˜¾ç¤ºâ€œå¼€å‘è€…æ¨¡å¼å·²å¯ç”¨â€ï¼Œè¿”å›è™šæ‹Ÿæœºæ¡Œé¢ 2.ä¸‹è½½Fake Locationé€‰æ‹©æ¡Œé¢åº•éƒ¨é»„è‰²å›¾æ ‡ï¼Œå¯¼å…¥â€œæ­¥é“ä¹è·‘â€ã€â€œFake Locationâ€å’ŒQQ Fake Locationçš„ä¸‹è½½é“¾æ¥ç™¾åº¦ä¸Šå¯ä»¥æ‰¾åˆ°ã€‚ 3.é…ç½®Fake Location è¿›å…¥Fake Location å°†â€œæ­¥é“ä¹è·‘â€åŠ å…¥åæ£€æµ‹å’ŒRootéšè—ä¸­ï¼Œå¹¶å¼€å¯åæ£€æµ‹å’ŒRootéšè—ã€‚åæ£€æµ‹å’ŒRootéšè—éœ€è¦ä¼šå‘˜ï¼Œæ¯æœˆå¥½åƒæ˜¯10å—é’±ã€‚ ç‚¹å‡»è·¯çº¿æ¨¡æ‹Ÿï¼Œç‚¹å‡»â•ç»˜åˆ¶è·‘æ­¥è·¯çº¿ï¼Œå¹¶è®¾ç½®æ­¥é¢‘å’Œé€Ÿåº¦ï¼ˆè¿‡å¿«æˆ–è¿‡æ…¢æˆç»©ä¼šæ— æ•ˆï¼‰ å¯åŠ¨æ¨¡æ‹Ÿï¼Œå¹¶è¿›å…¥æ­¥é“ä¹è·‘ï¼Œå¼€å§‹è·‘æ­¥ï¼Œè·‘å®Œè®°å¾—å…³æ‰ã€‚ PSä»¥åæ¯æ¬¡ä½¿ç”¨åªéœ€æŒ‰ç…§ã€3ã€‘çš„æ­¥éª¤ï¼Œå¦‚æœVMOS Proå¼€é€šä¼šå‘˜ï¼Œæ¯å¤©å¤§çº¦éœ€è¦15åˆ†é’Ÿå³å¯å®Œæˆè·‘æ­¥ã€‚ä¸å¼€é€šä¼šå‘˜ï¼Œçœ‹å¹¿å‘Šç™½å«–å¤§çº¦éœ€è¦20åˆ†é’Ÿã€‚å½“ç„¶ï¼Œè·‘æ­¥çš„æ—¶å€™ä½ å¯ä»¥åšè‡ªå·±çš„äº‹æƒ…ï¼Œä¹Ÿå°±æ˜¯è¯´çœŸæ­£èŠ±è´¹çš„æ—¶é—´åªæ˜¯ã€3ã€‘ä¸­é…ç½®çš„æ—¶é—´ï¼Œå¤§çº¦éœ€è¦5åˆ†é’Ÿã€‚ å½“ç„¶ï¼Œåœ¨å¤§å­¦ä¸­é€‚å½“çš„ä½“è‚²é”»ç‚¼è¿˜æ˜¯æœ‰å¿…è¦çš„ï¼Œæ‰€ä»¥è¯·åˆç†ä½¿ç”¨ä»£è·‘ã€‚","categories":[{"name":"æ•™ç¨‹","slug":"æ•™ç¨‹","permalink":"http://47.118.73.148/categories/%E6%95%99%E7%A8%8B/"}],"tags":[{"name":"ä»£è·‘","slug":"ä»£è·‘","permalink":"http://47.118.73.148/tags/%E4%BB%A3%E8%B7%91/"}]},{"title":"leetcode&æ´›è°·åˆ·é¢˜ç¬”è®°","slug":"leetcode-æ´›è°·åˆ·é¢˜ç¬”è®°","date":"2021-06-07T17:54:30.000Z","updated":"2021-06-13T12:39:31.186Z","comments":true,"path":"2021/06/08/leetcode-æ´›è°·åˆ·é¢˜ç¬”è®°/","link":"","permalink":"http://47.118.73.148/2021/06/08/leetcode-%E6%B4%9B%E8%B0%B7%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0/","excerpt":"","text":"1.æ—¶é—´å¤æ‚åº¦å¸¸æ•°é˜¶O(1)&lt;å¯¹æ•°é˜¶O(log2n)&lt;çº¿æ€§é˜¶O(n),&lt;çº¿æ€§å¯¹æ•°é˜¶O(nlog2n)&lt;å¹³æ–¹é˜¶O(n^2)&lt;æ–¹é˜¶O(n3)&lt;kæ¬¡æ–¹é˜¶O(n^k)&lt;æŒ‡æ•°é˜¶O(2^n)&lt;O(n!)&lt;O(n^n) 2.å¿«è¯»inline int read()&#123; register int s=0,w=1; register char ch=getchar(); while(ch&lt;&#x27;0&#x27;||ch&gt;&#x27;9&#x27;)&#123; if(ch==&#x27;-&#x27;)&#123; w=-1; ch=getchar(); &#125; &#125; while(ch&gt;=&#x27;0&#x27;&amp;&amp;ch&lt;=&#x27;9&#x27;) &#123; s=s*10+ch-&#x27;0&#x27;; ch=getchar(); &#125; return s*w;&#125; 3.è´ªå¿ƒç®—æ³•æ‰€è°“è´ªå¿ƒç®—æ³•æ˜¯æŒ‡ï¼Œåœ¨å¯¹é—®é¢˜æ±‚è§£æ—¶ï¼Œæ€»æ˜¯åšå‡ºåœ¨å½“å‰çœ‹æ¥æ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸ä»æ•´ä½“æœ€ä¼˜ä¸ŠåŠ ä»¥è€ƒè™‘ï¼Œå®ƒæ‰€åšå‡ºçš„ä»…ä»…æ˜¯åœ¨æŸç§æ„ä¹‰ä¸Šçš„å±€éƒ¨æœ€ä¼˜è§£ã€‚è´ªå¿ƒç®—æ³•æ²¡æœ‰å›ºå®šçš„ç®—æ³•æ¡†æ¶ï¼Œç®—æ³•è®¾è®¡çš„å…³é”®æ˜¯è´ªå¿ƒç­–ç•¥çš„é€‰æ‹©ã€‚å¿…é¡»æ³¨æ„çš„æ˜¯ï¼Œè´ªå¿ƒç®—æ³•ä¸æ˜¯å¯¹æ‰€æœ‰é—®é¢˜éƒ½èƒ½å¾—åˆ°æ•´ä½“æœ€ä¼˜è§£ï¼Œé€‰æ‹©çš„è´ªå¿ƒç­–ç•¥å¿…é¡»å…·å¤‡æ— åæ•ˆæ€§ï¼ˆå³æŸä¸ªçŠ¶æ€ä»¥åçš„è¿‡ç¨‹ä¸ä¼šå½±å“ä»¥å‰çš„çŠ¶æ€ï¼Œåªä¸å½“å‰çŠ¶æ€æœ‰å…³ã€‚ï¼‰æ‰€ä»¥ï¼Œå¯¹æ‰€é‡‡ç”¨çš„è´ªå¿ƒç­–ç•¥ä¸€å®šè¦ä»”ç»†åˆ†æå…¶æ˜¯å¦æ»¡è¶³æ— åæ•ˆæ€§ã€‚ ä¾‹ï¼šèƒŒåŒ…é—®é¢˜ 4.å¿«æ’å¿«é€Ÿæ’åºæ˜¯C.R.A.Hoareäº1962å¹´æå‡ºçš„ä¸€ç§åˆ’åˆ†äº¤æ¢æ’åºã€‚å®ƒé‡‡ç”¨äº†ä¸€ç§åˆ†æ²»çš„ç­–ç•¥ï¼Œé€šå¸¸ç§°å…¶ä¸ºåˆ†æ²»æ³•(Divide-and-ConquerMethod)ã€‚ è¯¥æ–¹æ³•çš„åŸºæœ¬æ€æƒ³æ˜¯ï¼š 1ï¼å…ˆä»æ•°åˆ—ä¸­å–å‡ºä¸€ä¸ªæ•°ä½œä¸ºåŸºå‡†æ•°ã€‚ 2ï¼åˆ†åŒºè¿‡ç¨‹ï¼Œå°†æ¯”è¿™ä¸ªæ•°å¤§çš„æ•°å…¨æ”¾åˆ°å®ƒçš„å³è¾¹ï¼Œå°äºæˆ–ç­‰äºå®ƒçš„æ•°å…¨æ”¾åˆ°å®ƒçš„å·¦è¾¹ã€‚ 3ï¼å†å¯¹å·¦å³åŒºé—´é‡å¤ç¬¬äºŒæ­¥ï¼Œç›´åˆ°å„åŒºé—´åªæœ‰ä¸€ä¸ªæ•°ã€‚ //å¿«é€Ÿæ’åº ä¼ ç»Ÿvoid quick_sort(int s[], int l, int r)&#123; if (l &lt; r) &#123; //Swap(s[l], s[(l + r) / 2]); //å°†ä¸­é—´çš„è¿™ä¸ªæ•°å’Œç¬¬ä¸€ä¸ªæ•°äº¤æ¢ å‚è§æ³¨1 int i = l, j = r, x = s[l]; while (i &lt; j) &#123; while(i &lt; j &amp;&amp; s[j] &gt;= x) // ä»å³å‘å·¦æ‰¾ç¬¬ä¸€ä¸ªå°äºxçš„æ•° j--; if(i &lt; j) s[i++] = s[j]; while(i &lt; j &amp;&amp; s[i] &lt; x) // ä»å·¦å‘å³æ‰¾ç¬¬ä¸€ä¸ªå¤§äºç­‰äºxçš„æ•° i++; if(i &lt; j) s[j--] = s[i]; &#125; s[i] = x; quick_sort(s, l, i - 1); // é€’å½’è°ƒç”¨ quick_sort(s, i + 1, r); &#125;&#125; //æ´›è°·void qsort(int l,int r)//åº”ç”¨äºŒåˆ†æ€æƒ³&#123; int mid=a[(l+r)/2];//ä¸­é—´æ•° int i=l,j=r; do&#123; while(a[i]&lt;mid) i++;//æŸ¥æ‰¾å·¦åŠéƒ¨åˆ†æ¯”ä¸­é—´æ•°å¤§çš„æ•° while(a[j]&gt;mid) j--;//æŸ¥æ‰¾å³åŠéƒ¨åˆ†æ¯”ä¸­é—´æ•°å°çš„æ•° if(i&lt;=j)//å¦‚æœæœ‰ä¸€ç»„ä¸æ»¡è¶³æ’åºæ¡ä»¶ï¼ˆå·¦å°å³å¤§ï¼‰çš„æ•° &#123; swap(a[i],a[j]);//äº¤æ¢ i++; j--; &#125; &#125; while(i&lt;=j);//è¿™é‡Œæ³¨æ„è¦æœ‰= if(l&lt;j) qsort(l,j);//é€’å½’æœç´¢å·¦åŠéƒ¨åˆ† if(i&lt;r) qsort(i,r);//é€’å½’æœç´¢å³åŠéƒ¨åˆ†&#125; nth_element è¿™ä¸ªå‡½æ•°ä¸»è¦ç”¨æ¥å°†æ•°ç»„å…ƒç´ ä¸­ç¬¬kå°çš„æ•´æ•°æ’å‡ºæ¥å¹¶åœ¨æ•°ç»„ä¸­å°±ä½ï¼Œéšæ—¶è°ƒç”¨ï¼Œå¯è°“ååˆ†å®ç”¨ã€‚ å‡½æ•°è¯­å¥ï¼šnth_element(æ•°ç»„å,æ•°ç»„å+ç¬¬kå°å…ƒç´ ,æ•°ç»„å+å…ƒç´ ä¸ªæ•°) 5.RMQç®—æ³•dp[i][j]=min(dp[i][j-1],dp[i+(1&lt;&lt;j-1)][j-1]) æˆ‘ä»¬è®¾äºŒç»´æ•°ç»„dp[i][j]è¡¨ç¤ºä»ç¬¬iä½å¼€å§‹è¿ç»­ ä¸ªæ•°ä¸­çš„æœ€å°å€¼ã€‚ä¾‹å¦‚dp[2][1]å°±è¡¨ç¤ºä»ç¬¬äºŒä½æ•°å¼€å§‹è¿ç»­ä¸¤ä¸ªæ•°çš„æœ€å°å€¼ï¼ˆä¹Ÿå°±æ˜¯ä»ç¬¬äºŒä½æ•°åˆ°ç¬¬ä¸‰ä½æ•°çš„æœ€å°å€¼ï¼‰ï¼Œå³2ï¼Œ6ä¸­çš„æœ€å°å€¼ï¼Œæ‰€ä»¥dp[2][1] = 2; void rmq_init()&#123; for(int i=1;i&lt;=N;i++) dp[i][0]=arr[i];//åˆå§‹åŒ– for(int j=1;(1&lt;&lt;j)&lt;=N;j++) for(int i=1;i+(1&lt;&lt;j)-1&lt;=N;i++) dp[i][j]=min(dp[i][j-1],dp[i+(1&lt;&lt;j-1)][j-1]);&#125; æŸ¥è¯¢éƒ¨åˆ†ï¼š é¢„å¤„ç†å‡ºæ•´ä¸ª dp æ•°ç»„ä»¥åï¼ŒæŸ¥è¯¢æ“ä½œå¾ˆç®€å•ï¼Œä»¤ k ä¸ºæ»¡è¶³ 2^k&lt;=ğ‘…âˆ’ğ¿+12k&lt;=Râˆ’L+1 çš„æœ€å¤§æ•´æ•°ï¼Œåˆ™ä»¥ L å¼€å¤´ã€ä»¥ R ç»“å°¾çš„ä¸¤ä¸ªé•¿åº¦ä¸º 2^ğ‘˜ çš„åŒºé—´åˆèµ·æ¥å³è¦†ç›–äº†æŸ¥è¯¢åŒºé—´ [L,R] ã€‚ int RMQ(int L,int R)&#123; int k=0; while((1&lt;&lt;(k+1))&lt;=R-L+1) k++; return min(dp[L][k],dp[R-(1&lt;&lt;k)+1][k]);&#125; 6.å¡ç‰¹å…°æ•°é€’æ¨å¼1ï¼š f[n]=f[0]âˆ—f[nâˆ’1]+f[1]âˆ—f[nâˆ’2]+...+f[nâˆ’1]âˆ—f[0](nâ‰¥2) é€’æ¨å¼2: h[n]=h[nâˆ’1]âˆ—(4âˆ—nâˆ’2)/(n+1) é€’æ¨å¼3: h[n]=C[2n,n]/(n+1)(n=0,1,2,...),Cæ˜¯ç»„åˆæ•°PS: C[m,n]=C[mâˆ’1,nâˆ’1]+C[mâˆ’1,n]ä¸”è§„å®šï¼š C[n,0]=1 C[n,n]=1 C[0,0]=1 é€’æ¨å¼4: h[n]=C[2n,n]âˆ’C[2n,nâˆ’1](n=0,1,2,...) 7.DPé—®é¢˜å»ºè¡¨ å¾—å‡ºçŠ¶æ€è½¬ç§»æ–¹ç¨‹ //èƒŒåŒ…é—®é¢˜int main()&#123; int n,m; int price[110]=&#123;&#125;; int a[110][1100]=&#123;&#125;; cin&gt;&gt;n&gt;&gt;m; for (int i=1;i&lt;=n;i++) cin&gt;&gt;price[i]; for (int i=1;i&lt;=n;i++)&#123; for (int j=1;j&lt;=m;j++)&#123; if ( j == price[i]) a[i][j] = a[i-1][j] + 1; if ( j &lt; price[i]) a[i][j] = a[i-1][j]; if ( j &gt; price[i]) a[i][j] = a[i-1][j] + a[i-1][j-price[i]]; &#125; &#125; cout&lt;&lt;a[n][m]&lt;&lt;endl; return 0;&#125; 8.sortæ’åºconst int N =400;struct stu&#123; int c,m,e; int sum; int id;&#125;arr[N];bool cmp( stu a,stu b)&#123; if (a.sum !=b.sum) return a.sum &gt; b.sum; if (a.c != b.c) return a.c &gt; b.c; return a.id &lt; b.id;&#125;int main()&#123; int n; cin&gt;&gt;n; for (int i=1;i&lt;=n;i++)&#123; int a , b, c; cin&gt;&gt;a&gt;&gt;b&gt;&gt;c; arr[i]=&#123;a,b,c,a+b+c,i&#125;; &#125; sort(arr+1,arr+1+n,cmp); for (int i=1;i&lt;=5;i++)&#123; cout &lt;&lt; arr[i].id &lt;&lt;&quot; &quot;&lt;&lt; arr[i].sum &lt;&lt; endl; &#125; return 0; &#125; sort(begin,end,(###))###ä¸å¡«é»˜è®¤å‡åº 9.äºŒåˆ†æŸ¥æ‰¾1.STLè‡ªå¸¦äºŒåˆ†å‡½æ•° å‡½æ•°çš„ç”¨æ³•ï¼šlower_bound(a.begin(),a.end(),x) è¿”å›ç¬¬ä¸€ä¸ªå¤§äºç­‰äº xx çš„æ•°çš„åœ°å€ã€‚è€Œç”±äºæ˜¯åœ°å€ï¼Œåœ¨æœ€åè¦ âˆ’aï¼ˆä¹Ÿå°±æ˜¯å‡å»åœ°å€ï¼‰ã€‚ int main()&#123; int n=read(),m=read();//è¯»å…¥ for(int i=1;i&lt;=n;i++) a[i]=read(); while(m--)&#123; int x=read(); int ans=lower_bound(a+1,a+n+1,x)-a;//äºŒåˆ†æœï¼Œæ³¨æ„-a if(x!=a[ans]) printf(&quot;-1 &quot;);//æ²¡æœ‰ï¼Œè¾“å‡º-1 else printf(&quot;%d &quot;,ans);//æœ‰ï¼Œè¾“å‡ºans &#125; return 0;//åä¸½ç»“æŸ&#125; 10.DFSæ·±åº¦æœç´¢//ä¸€èˆ¬æ¡†æ¶void DFS(type n)&#123; //å¯ä»¥æè¿°é˜¶æ®µçš„çŠ¶æ€ if(ç¬¦åˆæ¡ä»¶) &#123; cout&lt;&lt;ç­”æ¡ˆ; return; &#125; //å‡ºå£ if(å¯ä»¥å‰ªæ) return; //å‰ªæ for(i:1~p)&#123; //é€‰æ‹©è¯¥é˜¶æ®µçš„æ‰€æœ‰å†³ç­– é€‰æ‹©å¯è¡Œå†³ç­–; //å‰ªæçš„ä¸€ç§ æ ‡è®°å·²è®¿é—®è¯¥ç‚¹; DFS(n+1); //è¿›å…¥ä¸‹ä¸€é˜¶æ®µ (è¿˜åŸè®¿é—®ç°åœº;) &#125;&#125; //è¿é€šä½“åˆ¤æ–­ - DFS#include &lt;bits/stdc++.h&gt;using namespace std;char arr[105][105]; int fxx[9]=&#123;0,-1,-1,-1,0,0,1,1,1&#125;;//xæ–¹å‘int fxy[9]=&#123;0,-1,0,1,-1,1,-1,0,1&#125;;//yæ–¹å‘int n,m,ans = 0;void dfs(int x,int y)&#123; int r,c; arr[x][y] = &#x27;.&#x27;; for (int i=1;i&lt;=8;i++)&#123; r = x + fxx[i]; c = y + fxy[i]; if (r&lt;1||r&gt;n||c&lt;1||c&gt;m||arr[r][c] == &#x27;.&#x27;) continue; arr[r][c] = &#x27;.&#x27;; dfs(r,c); &#125;&#125;int main()&#123; cin&gt;&gt;n&gt;&gt;m; for (int i = 1;i &lt;= n;i++)&#123; for (int j = 1;j &lt;= m;j++)&#123; cin&gt;&gt;arr[i][j]; &#125; &#125; for (int i = 1;i &lt;= n;i++)&#123; for (int j = 1;j &lt;= m;j++)&#123; if (arr[i][j] == &#x27;W&#x27;)&#123; ans++; dfs(i,j); &#125; &#125; &#125; cout&lt;&lt;ans&lt;&lt;endl; return 0; &#125; //è¿·å®«#include&lt;cstdio&gt;using namespace std;int p,q,min = 9999999;int a[100][100];int v[100][100];int dx[4]=&#123;0,1,0,-1&#125;;int dy[4]=&#123;1,0,-1,0&#125;;void dfs(int x,int y,int step)&#123; if (x==p &amp;&amp; y==q)&#123; if (step&lt;min)&#123; min = step; return; &#125; &#125; for(int k=0;k&lt;=3;k++)&#123; int tx,ty; tx = x + dx[k]; ty = y + dy[k]; if (a[tx][ty] == 1 &amp;&amp; v[tx][ty] == 0)&#123; v[tx][ty] = 1; dfs(tx,ty,step+1); v[tx][ty] = 0; &#125; &#125;&#125;int main()&#123; int startx,starty; scanf(&quot;%d%d&quot;,&amp;m,&amp;n); for(int i=1;i&lt;=m;i++)&#123; for(int j=1;j&lt;=n;j+=)&#123; scanf(&quot;%d&quot;,&amp;a[i][j]); &#125; &#125; scanf(&quot;%d%d%d%d&quot;,&amp;startx,&amp;starty,&amp;p,&amp;q); v[startx][starty] = 1; dfs(startx,starty,0); printf(&quot;%d&quot;,min); return 0;&#125; 11.åŒæŒ‡é’ˆ&amp;&amp;æ»‘åŠ¨çª—å£â€‹ åŸºæœ¬æ€æƒ³å°±æ˜¯å°†ä¸²åˆ’åˆ†å­æ®µ,å¦‚æœå‡ºç°é‡å¤ï¼Œåˆ™æ»‘åŠ¨çª—å£ï¼Œå˜æ›´startçš„ä½ç½®ï¼Œç»Ÿè®¡æ–°çš„å­ä¸²çš„é•¿åº¦ï¼ŒåŒæ—¶ä¸æ–­æ›´æ–°ç»“æœå€¼ class Solution &#123;public: int lengthOfLongestSubstring(string s) &#123; int map[128] = &#123;0&#125;, len = 0, start = 0; //mapç»Ÿè®¡å­—ç¬¦åœ¨å½“å‰å­ä¸²å‡ºç°æ¬¡æ•°,å­—ç¬¦çš„asciiç å€¼å°äº128 for(int i = 0; i &lt; s.size(); ++i) &#123; ++map[s[i]]; while(map[s[i]] == 2) //å‡ºç°é‡å¤ --map[s[start++]]; //ä¸æ–­æ»‘åŠ¨å³ç§»çš„åŒæ—¶æ¢å¤mapä¸­çš„çŠ¶æ€ï¼Œå½“map[s[i]]=1æ—¶ï¼Œç¡®å®šæ–°çš„start len = max(len, i - start + 1); &#125; return len; &#125;&#125;; 12.MooreæŠ•ç¥¨æ³•æ‘©å°”æŠ•ç¥¨æ³•ï¼Œè§£å†³çš„é—®é¢˜æ˜¯å¦‚ä½•åœ¨ä»»æ„å¤šçš„å€™é€‰äººä¸­ï¼Œé€‰å‡ºç¥¨æ•°è¶…è¿‡ä¸€åŠçš„é‚£ä¸ªäººã€‚æ³¨æ„ï¼Œæ˜¯è¶…å‡ºä¸€åŠç¥¨æ•°çš„é‚£ä¸ªäººã€‚ å‡è®¾æŠ•ç¥¨æ˜¯è¿™æ ·çš„ï¼Œ[A, C, A, A, B]ï¼ŒABC æ˜¯æŒ‡ä¸‰ä¸ªå€™é€‰äººã€‚ ç¬¬ä¸€å¼ ç¥¨ä¸ç¬¬äºŒå¼ ç¥¨è¿›è¡Œå¯¹å‘ï¼Œå¦‚æœç¥¨ä¸åŒåˆ™äº’ç›¸æŠµæ¶ˆæ‰ï¼› æ¥ç€ç¬¬ä¸‰ç¥¨ä¸ç¬¬å››ç¥¨è¿›è¡Œå¯¹å‘ï¼Œå¦‚æœç¥¨ç›¸åŒï¼Œåˆ™å¢åŠ è¿™ä¸ªå€™é€‰äººçš„å¯æŠµæ¶ˆç¥¨æ•°ï¼› è¿™ä¸ªå€™é€‰äººæ‹¿ç€å¯æŠµæ¶ˆç¥¨æ•°ä¸ç¬¬äº”å¼ ç¥¨å¯¹å‘ï¼Œå¦‚æœç¥¨ä¸åŒï¼Œåˆ™äº’ç›¸æŠµæ¶ˆæ‰ï¼Œå³å€™é€‰äººçš„å¯æŠµæ¶ˆç¥¨æ•° -1ã€‚ class Solution &#123;public: vector&lt;int&gt; majorityElement(vector&lt;int&gt;&amp; nums) &#123; int first_Candidate = 0; int second_Candidate = 0; int num1 = 0; int num2 = 0; for (int i = 0; i &lt; nums.size(); i++) &#123; if (nums[i] == first_Candidate) num1 ++; else if (nums[i] == second_Candidate) num2 ++; else if (num1 == 0) &#123; first_Candidate = nums[i]; num1 ++; &#125; else if (num2 == 0) &#123; second_Candidate = nums[i]; num2 ++; &#125; else &#123; num1 --; num2 --; &#125; &#125; num1 = 0; num2 = 0; for (int i = 0; i &lt; nums.size(); i++) &#123; if (nums[i] == first_Candidate) num1 ++; if (nums[i] == second_Candidate) num2 ++; &#125; vector&lt;int&gt; result; if (num1 &gt; nums.size() / 3) result.push_back(first_Candidate); if (num2 &gt; nums.size() / 3 &amp;&amp; first_Candidate != second_Candidate) result.push_back(second_Candidate); return result; &#125;&#125;; 13.BFS//è¿·å®«é—®é¢˜#includebits/stdc++.husing namespace std;int a[100][100];//aã€iã€‘ã€jã€‘=1è¡¨ç¤ºæ˜¯ç©ºåœ°å¯ä»¥èµ°ï¼Œä¸º0è¡¨ç¤ºä¸æ˜¯ç©ºåœ°int v[100][100];//vã€iã€‘ã€jã€‘=1è¡¨ç¤ºå·²ç»è¢«è®¿é—®äº†ï¼Œä¸º0è¡¨ç¤ºæœªè¢«è®¿é—®struct point&#123; int x; int y; int step;&#125;;queue&lt;point&gt; r;//request queueint dx[4]=&#123;0,1,0,-1&#125;; //left;down;right;upint dy[4]=&#123;1,0,-1,0&#125;;int main() &#123; //input int n,m,startx,starty,p,q; scanf(%d%d,&amp;n,&amp;m); for(int i=1;i=n;i++)&#123; for(int j=1;j=m;j++)&#123; scanf(%d,&amp;a[i][j]); &#125; &#125; scanf(%d%d%d%d,&amp;startx,&amp;starty,&amp;p,&amp;q); //BFS point start; //åˆå§‹åŒ–å¼€å§‹ start.x = startx; start.y = starty; start.step = 0; //åˆå§‹åŒ–ç»“æŸ r.push(start);//å°†èµ·ç‚¹å…¥é˜Ÿ v[startx][starty] = 1 ; int flag = 0; while(!r.empty())&#123; if(x==p &amp;&amp; y==q)&#123;// arrive destinationa flag = 1; coutr.front().step; break; &#125; int x = r.front().x; int y = r.front().y; for(int k = 0 ; k &lt; 3 ; k++)&#123; int tx,ty; tx = x + dx[k]; ty = y + dy[k]; if (a[tx][ty]==1 &amp;&amp; v[tx][ty]==0)&#123;//å¦‚æœæ˜¯ç©ºåœ° å¹¶ä¸” æœªè¢«è®¿é—®è¿‡ //å…¥é˜Ÿ point temp;//æŠŠæ‹“å±•çš„ç‚¹æ”¾åˆ°tempé‡Œ temp.x = tx; temp.y = ty; temp.step = r.front().step + 1 ; r.push(temp); v[tx][ty] = 1; //è®¾ç½®ä¸ºå·²è®¿é—® &#125; &#125; r.pop();//æ‹“å±•å®Œäº†éœ€è¦å°†é˜Ÿé¦–å…ƒç´ å‡ºé˜Ÿ &#125; if(flag==0)//æ²¡æ‰¾åˆ° cout&lt;&lt;no answer&lt;&lt;endl; return 0;&#125; //é©¬çš„éå†#include &lt;bits/stdc++.h&gt;using namespace std;struct point&#123; int x; int y; int step;&#125;;queue&lt;point&gt; r;int dx[8] = &#123;-1,-2,-2,-1,1,2,2,1&#125;;int dy[8] = &#123;-2,-1,1,2,2,1,-1,-2&#125;;int a[500][500];int check[500][500];//main programint main()&#123; int n,m; // width and length int fx,fy; int startx,starty; cin&gt;&gt;n&gt;&gt;m&gt;&gt;fx&gt;&gt;fy; startx = fx - 1,starty = fy - 1; int a[n][m]; memset(a,-1,sizeof(a)); memset(check,0,sizeof(check)); point start; start.x = startx, start.y = starty,start.step = 0; r.push(start); a[startx][starty] = 0; check[startx][starty] = 1; while(!r.empty())&#123; int next_x = r.front().x; int next_y = r.front().y; for(int k=0;k&lt;8;k++)&#123; int tx,ty; tx = next_x + dx[k]; ty = next_y + dy[k]; if (tx&lt;0||tx&gt;n-1||ty&lt;0||ty&gt;m-1) continue; else if (check[tx][ty] == 1) continue; else&#123; point temp; temp.x = tx; temp.y = ty; temp.step = r.front().step + 1; r.push(temp); a[tx][ty] = temp.step; check[tx][ty] = 1; &#125; &#125; r.pop(); &#125; for(int i=0;i&lt;n;i++)&#123; for(int j=0;j&lt;m;j++)&#123; printf(&quot;%-5d&quot;,a[i][j]); &#125; cout&lt;&lt;endl; &#125; return 0;&#125; 14.ä¼˜å…ˆé˜Ÿåˆ—ä»–å’Œqueueä¸åŒçš„å°±åœ¨äºæˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰å…¶ä¸­æ•°æ®çš„ä¼˜å…ˆçº§, è®©ä¼˜å…ˆçº§é«˜çš„æ’åœ¨é˜Ÿåˆ—å‰é¢,ä¼˜å…ˆå‡ºé˜Ÿ ä¼˜å…ˆé˜Ÿåˆ—å…·æœ‰é˜Ÿåˆ—çš„æ‰€æœ‰ç‰¹æ€§ï¼ŒåŒ…æ‹¬åŸºæœ¬æ“ä½œï¼Œåªæ˜¯åœ¨è¿™åŸºç¡€ä¸Šæ·»åŠ äº†å†…éƒ¨çš„ä¸€ä¸ªæ’åºï¼Œå®ƒæœ¬è´¨æ˜¯ä¸€ä¸ªå †å®ç°çš„ //å‡åºé˜Ÿåˆ—priority_queue &lt;int,vector&lt;int&gt;,greater&lt;int&gt; &gt; q;//é™åºé˜Ÿåˆ—priority_queue &lt;int,vector&lt;int&gt;,less&lt;int&gt; &gt;q; #include&lt;stdio.h&gt; #include&lt;functional&gt; #include&lt;queue&gt; #include&lt;vector&gt; using namespace std; //å®šä¹‰ç»“æ„ï¼Œä½¿ç”¨è¿ç®—ç¬¦é‡è½½,è‡ªå®šä¹‰ä¼˜å…ˆçº§1 struct cmp1&#123; bool operator ()(int &amp;a,int &amp;b)&#123; return a&gt;b;//æœ€å°å€¼ä¼˜å…ˆ &#125; &#125;; struct cmp2&#123; bool operator ()(int &amp;a,int &amp;b)&#123; return a&lt;b;//æœ€å¤§å€¼ä¼˜å…ˆ &#125; &#125;; //å®šä¹‰ç»“æ„ï¼Œä½¿ç”¨è¿ç®—ç¬¦é‡è½½,è‡ªå®šä¹‰ä¼˜å…ˆçº§2 struct number1&#123; int x; bool operator &lt; (const number1 &amp;a) const &#123; return x&gt;a.x;//æœ€å°å€¼ä¼˜å…ˆ &#125; &#125;; struct number2&#123; int x; bool operator &lt; (const number2 &amp;a) const &#123; return x&lt;a.x;//æœ€å¤§å€¼ä¼˜å…ˆ &#125; &#125;; int a[]=&#123;14,10,56,7,83,22,36,91,3,47,72,0&#125;; number1 num1[]=&#123;14,10,56,7,83,22,36,91,3,47,72,0&#125;; number2 num2[]=&#123;14,10,56,7,83,22,36,91,3,47,72,0&#125;; int main() &#123; priority_queue&lt;int&gt;que;//é‡‡ç”¨é»˜è®¤ä¼˜å…ˆçº§æ„é€ é˜Ÿåˆ— priority_queue&lt;int,vector&lt;int&gt;,cmp1&gt;que1;//æœ€å°å€¼ä¼˜å…ˆ priority_queue&lt;int,vector&lt;int&gt;,cmp2&gt;que2;//æœ€å¤§å€¼ä¼˜å…ˆ priority_queue&lt;int,vector&lt;int&gt;,greater&lt;int&gt; &gt;que3;//æ³¨æ„â€œ&gt;&gt;â€ä¼šè¢«è®¤ä¸ºé”™è¯¯ï¼Œ //è¿™æ˜¯å³ç§»è¿ç®—ç¬¦ï¼Œæ‰€ä»¥è¿™é‡Œç”¨ç©ºæ ¼å·éš”å¼€ priority_queue&lt;int,vector&lt;int&gt;,less&lt;int&gt; &gt;que4;////æœ€å¤§å€¼ä¼˜å…ˆ priority_queue&lt;number1&gt;que5; priority_queue&lt;number2&gt;que6;","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"http://47.118.73.148/categories/%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"http://47.118.73.148/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"}]},{"title":"MATLABå…¥é—¨ç¬”è®°","slug":"matlabå…¥é—¨ç¬”è®°","date":"2021-06-07T17:45:12.000Z","updated":"2021-06-08T11:57:48.174Z","comments":true,"path":"2021/06/08/matlabå…¥é—¨ç¬”è®°/","link":"","permalink":"http://47.118.73.148/2021/06/08/matlab%E5%85%A5%E9%97%A8%E7%AC%94%E8%AE%B0/","excerpt":"","text":"1.ç®€å•å‡½æ•°ï¼š1.1 linspace å‡½æ•°ï¼š å¯ä»¥ç”¨äºäº§ç”Ÿx1,x2ä¹‹é—´çš„Nç‚¹è¡Œçº¿æ€§çš„çŸ¢é‡ï¼Œlinspace(x1,x2,N) è°ƒç”¨æ–¹æ³•ï¼šlinspace(x1,x2,N) åŠŸ èƒ½ï¼šç”¨äºäº§ç”Ÿx1ï¼Œx2ä¹‹é—´çš„Nç‚¹è¡ŒçŸ¢é‡ï¼Œç›¸é‚»æ•°æ®è·¨åº¦ç›¸åŒã€‚å…¶ä¸­x1ã€x2ã€Nåˆ†åˆ«ä¸ºèµ·å§‹å€¼ã€ç»ˆæ­¢å€¼ã€å…ƒç´ ä¸ªæ•°ã€‚è‹¥ç¼ºçœNï¼Œé»˜è®¤ç‚¹æ•°ä¸º100ã€‚ 1.2 zeroså‡½æ•° zeros(x,y) ç”Ÿæˆä¸€ä¸ªxè¡Œyåˆ—çš„çŸ©é˜µ 1.3.oneså‡½æ•° ç”Ÿæˆæ‰€æœ‰å…ƒç´ éƒ½ä¸º1çš„æ–¹é˜µ 1.4.eyeå‡½æ•° ç”Ÿæˆå•ä½å‘é‡ 1.5.randå‡½æ•° Ran(x,y) ç”Ÿæˆxåˆ°yçš„éšæœºæ•° 2.å­—ç¬¦çŸ­è¯­piä¸ºæ´¾ï¼›iè¡¨ç¤ºå¤æ•°ï¼›infä¸ºæ— ç©·å¤§ï¼›NaNæ— æ„ä¹‰(not a number); clcæ¸…å±; clear all æ¸…é™¤æ‰€æœ‰å˜é‡; close all å…³é—­æ‰€æœ‰çª—å£ 3.åŸºæœ¬è¿ç®—ç¬¦å·ï¼š*ä¸ºä¹˜å· ï¼›.*ä¸ºç‚¹ä¹˜ï¼ˆå¯¹åº”ä½ç½®ç›¸ä¹˜ï¼‰./é™¤å·åŒç† ï¼›åŠ .åä¸ºå¯¹åº”ä½ç½®è®¡ç®—^é˜¶ä¹˜ 4.å–å‡ºçŸ©é˜µä¸­çš„å€¼ &amp;&amp; èµ‹å€¼ï¼šA = [1 2 3 ; 4 5 6 ; 7 8 9];x = A(1,3) % å–ç¬¬ä¸€è¡Œç¬¬ä¸‰åˆ—y = A(2,:) % å–ç¬¬äºŒè¡Œå…¨éƒ¨z = A(1:2, 1:3) %å–ç¬¬ä¸€åˆ°ç¬¬äºŒè¡Œçš„ç¬¬ä¸€åˆ°ç¬¬ä¸‰åˆ—A(1,3) = 0 %ç»™ç¬¬ä¸€è¡Œç¬¬ä¸‰åˆ—èµ‹å€¼A(2, : ) = [6 5 4] %ç»™ç¬¬äºŒè¡Œèµ‹å€¼A(1:2, 1:2) = [-1 -2; -3 -4] %ç»™ç¬¬ä¸€åˆ°ç¬¬äºŒè¡Œçš„ç¬¬ä¸€åˆ°ç¬¬äºŒåˆ—èµ‹å€¼ 5.æ¯”è¾ƒå’Œé€»è¾‘è¿ç®—eq = (x==y) %æ¯”è¾ƒxä¸yçŸ©é˜µå„ä¸ªä½ç½®å¤§å°å¹¶æŒ‰ä½è¾“å‡º 0 1xy = (x&gt;5)&amp;(y&lt;7) %åˆ¤æ–­å„ä¸ªä½ç½®æ˜¯å¦æ»¡è¶³å¹¶è¾“å‡º 0 1 &amp;ä¸ºâ€œä¸â€xoy = (x&gt;5)|(y&lt;7) %æˆ–x(x&lt;0) = 0 %æŠŠxä¸­å°äº0çš„å€¼èµ‹å€¼ä¸º0y(y(:,1)&lt;0,:) = 0 % å…ˆåˆ¤æ–­è¯¥è¡Œç¬¬ä¸€åˆ—çš„å€¼æ˜¯å¦&lt;0ï¼Œè‹¥æ˜¯åˆ™å°†è¯¥è¡Œèµ‹å€¼ä¸º0 6.æ•°ç»„æ“ä½œå‡½æ•°y = flipud(x) %ç¿»è½¬çŸ©é˜µ ç¬¬ä¸€è¡Œåˆ°æœ€åä¸€è¡Œ ä»¥æ­¤ç±»æ¨c = rot90(x) % çŸ©é˜µæ—‹è½¬90åº¦ ç¬¬ä¸€è¡Œåˆ°ç¬¬ä¸€åˆ—sum(x) % å¯¹xä¸­å„å…ƒç´ è¿›è¡Œæ±‚å’Œ è‹¥æ˜¯å¤šè¡ŒçŸ©é˜µï¼Œåˆ™å¯¹å„åˆ—è¿›è¡Œæ±‚å’Œsum(x,2) % å¯¹xä¸­æ¯ä¸€è¡Œå„å…ƒç´ è¿›è¡Œæ±‚å’Œmax(x) %æ±‚å„å…ƒç´ æœ€å¤§å€¼ è‹¥æ˜¯å¤šè¡ŒçŸ©é˜µï¼Œåˆ™æ±‚å„åˆ—æœ€å¤§å€¼max(x,2) %å°†çŸ©é˜µä¸­å„å…ƒç´ ä¸2è¿›è¡Œæ¯”è¾ƒå¹¶è¾“å‡ºè¾ƒå¤§çš„å€¼max(x,[],2) %æ±‚å„è¡Œæœ€å¤§å€¼ 7.å¸¸ç”¨æ•°å­¦å‡½æ•°ï¼šy = abs(x) %å¯¹çŸ©é˜µä¸­å„ä¸ªå…ƒç´ æ±‚ç»å¯¹å€¼z = sqrt(y) %å¯¹çŸ©é˜µä¸­å„å…ƒç´ å¼€æ–¹%å–æ•´ï¼šy = ceil(x) %å‘ä¸Šå–æ•´z = floor(x) %å‘ä¸Šå–æ•´a = fix(x) %å–æ•´æ•°éƒ¨åˆ†b = round(x) % å››èˆäº”å…¥ 8.åŸºæœ¬è¯­å¥ï¼šfor .. endif .. else .. endwhile .. endswitch .. case .. end%sum of the odd number between 1 and 10x = 0;for i = 1:10 if mod(i,2) x = x + i; endend 9.äºŒç»´æ›²çº¿ï¼šsin &amp; cosplot %æç‚¹ç”»å›¾x = -2*pi:0.1:2*pi; % -2piåˆ°2pi æ­¥é•¿ä¸º0.1y1 = sin(x);y2 = cos(x);plot(x,y1,&#x27;-b&#x27;); %-è¡¨ç¤ºå®çº¿ bè¡¨ç¤ºé¢œè‰²hold on %ä¿æŒç°åœ¨çš„å›¾çª— ä¸‹ä¸€ä¸ªå›¾å½¢ä¹Ÿä¼šç”»åœ¨è¯¥å›¾ä¸Šplot(x, y2,&#x27;-r&#x27;);xlabel(&#x27;x&#x27;); %å®šä¹‰åæ ‡åä¸ºxylabel(&#x27;y&#x27;); %å®šä¹‰åæ ‡åä¸ºytext(0,0, &#x27;(0,0)&#x27;) %åœ¨åæ ‡(0,0)å¤„æ˜¾ç¤ºâ€˜(0,0)â€™å­—ç¬¦legend(&#x27;sin x&#x27;,&#x27;cos x&#x27;) %å›¾ä¾‹å‡½æ•° title(&#x27;sin x and cos x&#x27;) %æ ‡é¢˜axis([-20,20,-20,15]); %åæ ‡è½´é™åˆ¶ åˆ†åˆ«ä¸ºxæœ€å°å€¼ xæœ€å¤§å€¼ yæœ€å°å€¼ yæœ€å¤§å€¼ %plotç”¨æ³•æ€»ç»“ï¼šcolor: b-blue g-green r-red c-cyan m-megenta y-yellow k-black w-whitegrid on %åŠ ç½‘æ ¼çº¿ grid minor %ç½‘æ ¼çº¿å˜å¾—æ›´å¯†xlim([xmin,xmax]) or ylim([ymin,ymax]); %å•ç‹¬é™åˆ¶x or yåæ ‡èŒƒå›´ 10.äºŒç»´æ›²çº¿ï¼šå¯¹æ•°å’Œæåæ ‡ç³»loglog(x,y,&#x27;-r&#x27;) %xå’Œyè½´éƒ½ä¸ºå¯¹æ•°åæ ‡semilogx(x,y,&#x27;-r&#x27;) %xè½´æ˜¯å¯¹æ•°åæ ‡ç³» semilogyåŒç†y = exp(x) %å¯¹æ•°å‡½æ•° å€¼ä¸ºe^x%æåæ ‡ç³»theta = 0:pi/180:4*pi %å®šè§’åº¦r = 1-sin(theta);polar(theta,r,&#x27;-r&#x27;); %ç»˜åˆ¶æåæ ‡ç³»å›¾ 11.äºŒç»´å¡«å……ï¼šx = [-1,-1,1,1];y = [-1,1,1,-1];h = fill(x,y,&#x27;-r&#x27;); %åˆ©ç”¨fillå‡½æ•°è¿›è¡Œå¡«å……xc = [-2 2]; yc = [-2 2];x = [xc-1; xc-1; xc+1; xc+1]y = [yc-1; yc+1; yc+1; yc-1]h = fill(x, y, &#x27;b&#x27;); %æŒ‰åˆ—çš„é¡ºåºç»˜åˆ¶å¤šä¸ªå›¾å½¢set(h(1),&#x27;FaceColor&#x27;, &#x27;r&#x27;) %æŒ‡å®šå•ä¸ªå›¾å½¢çš„é¢œè‰² 1ä¸ºç¬¬ä¸€ä¸ªå‡ºç°çš„å›¾å½¢set(h(2),&#x27;xdata&#x27;,x(:,2)-2) %éœ€æ”¹å•ä¸ªå›¾å½¢çš„å€¼ æ­¤å¤„ä¸ºä¿®æ”¹ç¬¬äºŒä¸ªå›¾å½¢çš„xåæ ‡ 12.æ•°ç»„æ˜¾ç¤ºï¼šx = [1 2 3; 4 5 6;7 8 9];imagesc(x); %å°†æ•°ç»„ç”¨å›¾å½¢ç”»å‡ºæ¥ 13.ä¸‰ç»´æ›²çº¿ï¼št = 0:pi/50:10*pi;x = sin(t);y = cos(t);z = t;plot3(x,y,z)title(&#x27;Helix&#x27;)xlabel(&#x27;sin t&#x27;)ylabel(&#x27;cos t&#x27;)zlabel(&#x27;t&#x27;)grid on 14.ä¸‰ç»´æ›²é¢ï¼šmeshgrid() %ç”Ÿæˆç½‘æ ¼çŸ©é˜µ[x , y] = meshgrid(1:3, 1:3) %ç”Ÿæˆsinxcosy[x,y] = meshgrid(-pi:0.1:pi);z = sin(x).*cos(y);mesh(x,y,z) %meshc()å¯æŠ•å½±åˆ°åº•é¢surf(x,y,z) %surfc()å¯æŠ•å½±åˆ°åº•é¢xlabel(&#x27;x&#x27;)ylabel(&#x27;y&#x27;)zlabel(&#x27;z&#x27;)title(&#x27;sin x sin y&#x27;) 15.å‡½æ•°ï¼šfunction[output1, ..] = functionname(input1, ..)% comment of this functionMatlab command 1;Matlab command 2;%examplefunction [s] = areamath(w,l)s = w.*l;","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"http://47.118.73.148/categories/%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"MATLAB","slug":"matlab","permalink":"http://47.118.73.148/tags/matlab/"}]}],"categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"http://47.118.73.148/categories/%E7%AC%94%E8%AE%B0/"},{"name":"æ•™ç¨‹","slug":"æ•™ç¨‹","permalink":"http://47.118.73.148/categories/%E6%95%99%E7%A8%8B/"}],"tags":[{"name":"æ·±åº¦å­¦ä¹ ","slug":"æ·±åº¦å­¦ä¹ ","permalink":"http://47.118.73.148/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"},{"name":"Git","slug":"git","permalink":"http://47.118.73.148/tags/git/"},{"name":"JAVA","slug":"java","permalink":"http://47.118.73.148/tags/java/"},{"name":"ä»£è·‘","slug":"ä»£è·‘","permalink":"http://47.118.73.148/tags/%E4%BB%A3%E8%B7%91/"},{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"http://47.118.73.148/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"},{"name":"MATLAB","slug":"matlab","permalink":"http://47.118.73.148/tags/matlab/"}]}